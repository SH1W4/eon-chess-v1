<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ§ª Teste Simples do Sistema</title>
    <style>
        body {
            background: #171717;
            color: white;
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
        }

        .test-container {
            max-width: 800px;
            margin: 0 auto;
            background: #1a1a1a;
            padding: 20px;
            border-radius: 10px;
            border: 1px solid #333;
        }

        .test-section {
            margin: 20px 0;
            padding: 15px;
            background: #222;
            border-radius: 8px;
            border-left: 4px solid #00ff00;
        }

        .test-button {
            background: linear-gradient(45deg, #00ff00, #00ffff);
            color: black;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
            font-weight: bold;
        }

        .test-button:hover {
            transform: scale(1.05);
        }

        .status {
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
            font-family: monospace;
        }

        .status.success {
            background: #004400;
            border: 1px solid #00ff00;
        }

        .status.error {
            background: #440000;
            border: 1px solid #ff0000;
        }

        .status.info {
            background: #004444;
            border: 1px solid #00ffff;
        }
    </style>
</head>

<body>
    <div class="test-container">
        <h1>ğŸ§ª Teste Simples do Sistema</h1>

        <div class="test-section">
            <h3>ğŸ“š Teste da Base de Dados Pro</h3>
            <button class="test-button" onclick="testDatabase()">ğŸ“š Testar Base</button>
            <div id="database-status" class="status info">
                Aguardando teste...
            </div>
        </div>

        <div class="test-section">
            <h3>ğŸ§  Teste do Sistema de AnÃ¡lise</h3>
            <button class="test-button" onclick="testAnalysis()">ğŸ” Testar AnÃ¡lise</button>
            <div id="analysis-status" class="status info">
                Aguardando teste...
            </div>
        </div>

        <div class="test-section">
            <h3>ğŸ¨ Teste dos Efeitos Visuais</h3>
            <button class="test-button" onclick="testEffects()">ğŸ¨ Testar Efeitos</button>
            <div id="effects-status" class="status info">
                Aguardando teste...
            </div>
        </div>

        <div class="test-section">
            <h3>ğŸ” Logs do Sistema</h3>
            <div id="system-logs" class="status info" style="max-height: 200px; overflow-y: auto;">
                Aguardando logs...
            </div>
            <button class="test-button" onclick="clearLogs()">ğŸ§¹ Limpar Logs</button>
        </div>
    </div>

    <!-- Carregar scripts na ordem correta -->
    <script src="js/chess-pro-database.js"></script>
    <script src="js/chess-pro-integration.js"></script>
    <script src="js/python-effects-integration.js"></script>

    <script>
        // Sistema de logs
        function log(message, type = 'info') {
            const logsDiv = document.getElementById('system-logs');
            const timestamp = new Date().toLocaleTimeString();
            const logEntry = document.createElement('div');
            logEntry.innerHTML = `[${timestamp}] ${message}`;
            logEntry.className = `status ${type}`;
            logsDiv.appendChild(logEntry);
            logsDiv.scrollTop = logsDiv.scrollHeight;
            console.log(`[${type.toUpperCase()}] ${message}`);
        }

        function clearLogs() {
            document.getElementById('system-logs').innerHTML = 'Logs limpos...';
        }

        // Testar base de dados
        function testDatabase() {
            log('ğŸ“š Testando base de dados Pro...', 'info');
            const statusDiv = document.getElementById('database-status');

            if (window.chessProDB) {
                try {
                    const stats = window.chessProDB.getStatistics();
                    statusDiv.innerHTML = `
                        <strong>âœ… Base de Dados Ativa</strong><br>
                        Total de PosiÃ§Ãµes: ${stats.totalPositions}<br>
                        Categorias: ${stats.totalCategories}<br>
                        Detalhes: ${JSON.stringify(stats.categories)}
                    `;
                    statusDiv.className = 'status success';
                    log('âœ… Base de dados Pro funcionando', 'success');
                    log(`ğŸ“Š EstatÃ­sticas: ${JSON.stringify(stats)}`, 'info');
                } catch (error) {
                    statusDiv.innerHTML = `<strong>âŒ Erro na Base de Dados</strong><br>${error.message}`;
                    statusDiv.className = 'status error';
                    log(`âŒ Erro na base de dados: ${error.message}`, 'error');
                }
            } else {
                statusDiv.innerHTML = '<strong>âŒ Base de Dados NÃ£o Encontrada</strong>';
                statusDiv.className = 'status error';
                log('âŒ Base de dados Pro nÃ£o encontrada', 'error');
            }
        }

        // Testar sistema de anÃ¡lise
        function testAnalysis() {
            log('ğŸ” Testando sistema de anÃ¡lise...', 'info');
            const statusDiv = document.getElementById('analysis-status');

            if (window.pythonEffects) {
                try {
                    const status = window.pythonEffects.getStatus();
                    statusDiv.innerHTML = `
                        <strong>âœ… Sistema de AnÃ¡lise Ativo</strong><br>
                        Tabuleiro: ${status.chessBoard}<br>
                        Efeitos: ${status.effectsActive ? 'ğŸŸ¢ Ativos' : 'ğŸ”´ Inativos'}<br>
                        AnÃ¡lise: ${status.analysisMode}<br>
                        Base Pro: ${status.proDatabase}<br>
                        PadrÃµes: ${status.patternsDetected}<br>
                        Movimentos: ${status.movesPredicted}
                    `;
                    statusDiv.className = 'status success';
                    log('âœ… Sistema de anÃ¡lise funcionando', 'success');
                    log(`ğŸ“Š Status: ${JSON.stringify(status)}`, 'info');
                } catch (error) {
                    statusDiv.innerHTML = `<strong>âŒ Erro no Sistema de AnÃ¡lise</strong><br>${error.message}`;
                    statusDiv.className = 'status error';
                    log(`âŒ Erro no sistema de anÃ¡lise: ${error.message}`, 'error');
                }
            } else {
                statusDiv.innerHTML = '<strong>âŒ Sistema de AnÃ¡lise NÃ£o Encontrado</strong>';
                statusDiv.className = 'status error';
                log('âŒ Sistema de anÃ¡lise nÃ£o encontrado', 'error');
            }
        }

        // Testar efeitos visuais
        function testEffects() {
            log('ğŸ¨ Testando efeitos visuais...', 'info');
            const statusDiv = document.getElementById('effects-status');

            if (window.pythonEffects) {
                try {
                    // Testar efeitos
                    window.pythonEffects.testEffects();

                    statusDiv.innerHTML = `
                        <strong>âœ… Efeitos Visuais Testados</strong><br>
                        Sistema ativo e funcionando<br>
                        Verifique o console para detalhes
                    `;
                    statusDiv.className = 'status success';
                    log('âœ… Efeitos visuais testados com sucesso', 'success');
                } catch (error) {
                    statusDiv.innerHTML = `<strong>âŒ Erro nos Efeitos Visuais</strong><br>${error.message}`;
                    statusDiv.className = 'status error';
                    log(`âŒ Erro nos efeitos visuais: ${error.message}`, 'error');
                }
            } else {
                statusDiv.innerHTML = '<strong>âŒ Sistema de Efeitos NÃ£o Encontrado</strong>';
                statusDiv.className = 'status error';
                log('âŒ Sistema de efeitos nÃ£o encontrado', 'error');
            }
        }

        // Verificar inicializaÃ§Ã£o
        function checkInitialization() {
            log('ğŸ” Verificando inicializaÃ§Ã£o...', 'info');

            // Verificar base de dados
            if (window.chessProDB) {
                log('âœ… Base de dados Pro inicializada', 'success');
            } else {
                log('âŒ Base de dados Pro nÃ£o inicializada', 'error');
            }

            // Verificar sistema de anÃ¡lise
            if (window.pythonEffects) {
                log('âœ… Sistema de anÃ¡lise inicializado', 'success');
            } else {
                log('âŒ Sistema de anÃ¡lise nÃ£o inicializado', 'error');
            }

            // Verificar integraÃ§Ã£o
            if (window.chessProIntegration) {
                log('âœ… IntegraÃ§Ã£o Pro inicializada', 'success');
            } else {
                log('âŒ IntegraÃ§Ã£o Pro nÃ£o inicializada', 'error');
            }
        }

        // InicializaÃ§Ã£o
        document.addEventListener('DOMContentLoaded', function() {
            log('ğŸš€ PÃ¡gina de teste carregada', 'success');

            // Aguardar scripts carregarem
            setTimeout(() => {
                checkInitialization();

                // Testar base de dados automaticamente
                setTimeout(() => {
                    testDatabase();
                }, 1000);
            }, 2000);
        });

        // Monitorar mudanÃ§as
        setInterval(() => {
            if (window.pythonEffects && window.pythonEffects.getStatus) {
                const status = window.pythonEffects.getStatus();
                if (status.effectsActive) {
                    log('ğŸŸ¢ Sistema de efeitos ativo', 'success');
                }
            }
        }, 5000);
    </script>
</body>

</html>