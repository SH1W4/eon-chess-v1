# Configuração de Camadas DOCSYNC
version: "1.0.0"

layers:
  technical:
    name: "Camada Técnica"
    template: "technical_template.md"
    path: "docs/technical/"
    visibility: "internal"
    validation:
      - verify_arquimax_refs
      - verify_nexus_refs
      - validate_workflows
    sync:
      - source: "src/"
      - target: "docs/technical/"
      - interval: "5m"

  user:
    name: "Camada de Usuário"
    template: "user_template.md"
    path: "docs/user/"
    visibility: "public"
    validation:
      - verify_cultural_refs
      - check_language
      - validate_examples
    sync:
      - source: "src/"
      - target: "docs/user/"
      - interval: "15m"

mapping:
  technical_to_user:
    ARQUIMAX:
      - name: "Sistema de Gerenciamento"
      - context: "motor_interno"
      - display: false
    NEXUS:
      - name: "Sistema Adaptativo"
      - context: "sistema_cultural"
      - display: false

validation_rules:
  technical:
    - enforce_technical_terms: true
    - maintain_references: true
    - verify_workflows: true
  
  user:
    - enforce_cultural_context: true
    - validate_translations: true
    - check_consistency: true

sync_rules:
  - rule: "technical_sync"
    pattern: "**/*_technical.md"
    target: "docs/technical/"
    
  - rule: "user_sync"
    pattern: "**/*_user.md"
    target: "docs/user/"

templates:
  technical:
    path: ".docsync/templates/technical_template.md"
    variables:
      - module_name
      - arquimax_features
      - nexus_features
      - workflow_status
  
  user:
    path: ".docsync/templates/user_template.md"
    variables:
      - feature_name
      - feature_description
      - current_theme

automation:
  - task: "sync_layers"
    schedule: "*/5 * * * *"
    action: "sync_documentation"
    
  - task: "validate_consistency"
    schedule: "0 * * * *"
    action: "check_layer_consistency"

reporting:
  technical:
    - format: "markdown"
    - destination: "docs/technical/reports/"
    
  user:
    - format: "markdown"
    - destination: "docs/user/reports/"
