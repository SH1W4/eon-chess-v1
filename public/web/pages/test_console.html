<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üîç Teste de Console - ARKITECT</title>
    <style>
        body {
            background: #171717;
            color: white;
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
        }

        .test-container {
            max-width: 800px;
            margin: 0 auto;
            background: #1a1a1a;
            padding: 20px;
            border-radius: 10px;
            border: 1px solid #333;
        }

        .test-section {
            margin: 20px 0;
            padding: 15px;
            background: #222;
            border-radius: 8px;
            border-left: 4px solid #00ff00;
        }

        .test-button {
            background: linear-gradient(45deg, #00ff00, #00ffff);
            color: black;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
            font-weight: bold;
        }

        .test-button:hover {
            transform: scale(1.05);
        }

        .status {
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
            font-family: monospace;
        }

        .status.success {
            background: #004400;
            border: 1px solid #00ff00;
        }

        .status.error {
            background: #440000;
            border: 1px solid #ff0000;
        }

        .status.info {
            background: #004444;
            border: 1px solid #00ffff;
        }
    </style>
</head>

<body>
    <div class="test-container">
        <h1>üîç Teste de Console - ARKITECT</h1>

        <div class="test-section">
            <h3>üß™ Testes de Console</h3>
            <button class="test-button" onclick="testConsole()">üîç Testar Console</button>
            <button class="test-button" onclick="testGlobalFunctions()">üåê Testar Fun√ß√µes Globais</button>
            <button class="test-button" onclick="testArkitectSystem()">üèóÔ∏è Testar Sistema ARKITECT</button>
            <div id="console-status" class="status info">
                Aguardando teste...
            </div>
        </div>

        <div class="test-section">
            <h3>üìã Instru√ß√µes</h3>
            <p>1. Abra o Console do navegador (F12 ‚Üí Console)</p>
            <p>2. Clique nos bot√µes de teste</p>
            <p>3. Verifique as mensagens no console</p>
            <p>4. Reporte qualquer erro encontrado</p>
        </div>

        <div class="test-section">
            <h3>üîç Logs do Sistema</h3>
            <div id="system-logs" class="log-container" style="max-height: 200px; overflow-y: auto; background: #000; padding: 10px; border-radius: 5px; font-family: monospace; font-size: 12px;">
                Aguardando logs...
            </div>
            <button class="test-button" onclick="clearLogs()">üßπ Limpar Logs</button>
        </div>
    </div>

    <!-- Carregar scripts na ordem correta -->
    <script src="/web/utils/chess-pro-database.js"></script>
    <script src="/web/utils/chess-pro-integration.js"></script>
    <script src="/web/utils/python-effects-integration.js"></script>
    <script src="/web/utils/system-fix.js"></script>
    <script src="/web/utils/arkitect-simple-solution.js"></script>

    <script>
        // Sistema de logs
        function log(message, type = 'info') {
            const logsDiv = document.getElementById('system-logs');
            const timestamp = new Date().toLocaleTimeString();
            const logEntry = document.createElement('div');
            logEntry.innerHTML = `[${timestamp}] ${message}`;
            logEntry.className = `status ${type}`;
            logsDiv.appendChild(logEntry);
            logsDiv.scrollTop = logsDiv.scrollHeight;
            console.log(`[${type.toUpperCase()}] ${message}`);
        }

        function clearLogs() {
            document.getElementById('system-logs').innerHTML = 'Logs limpos...';
        }

        // Testar console
        function testConsole() {
            log('üîç Testando console...', 'info');
            const statusDiv = document.getElementById('console-status');

            try {
                // Testar console.log
                console.log('üß™ Teste de console.log funcionando');
                console.warn('‚ö†Ô∏è Teste de console.warn funcionando');
                console.error('‚ùå Teste de console.error funcionando');

                statusDiv.innerHTML = '<strong>‚úÖ Console funcionando</strong><br>Verifique o console do navegador (F12)';
                statusDiv.className = 'status success';
                log('‚úÖ Console funcionando', 'success');
            } catch (error) {
                statusDiv.innerHTML = `<strong>‚ùå Erro no console</strong><br>${error.message}`;
                statusDiv.className = 'status error';
                log(`‚ùå Erro no console: ${error.message}`, 'error');
            }
        }

        // Testar fun√ß√µes globais
        function testGlobalFunctions() {
            log('üåê Testando fun√ß√µes globais...', 'info');
            const statusDiv = document.getElementById('console-status');

            const functions = [
                'startArkitect',
                'stopArkitect',
                'testArkitect',
                'getArkitectStatus'
            ];

            const availableFunctions = [];
            const missingFunctions = [];

            functions.forEach(funcName => {
                if (window[funcName]) {
                    availableFunctions.push(funcName);
                    log(`‚úÖ Fun√ß√£o ${funcName} dispon√≠vel`, 'success');
                } else {
                    missingFunctions.push(funcName);
                    log(`‚ùå Fun√ß√£o ${funcName} n√£o dispon√≠vel`, 'error');
                }
            });

            if (availableFunctions.length === functions.length) {
                statusDiv.innerHTML = '<strong>‚úÖ Todas as fun√ß√µes globais dispon√≠veis</strong>';
                statusDiv.className = 'status success';
                log('‚úÖ Todas as fun√ß√µes globais dispon√≠veis', 'success');
            } else {
                statusDiv.innerHTML = `<strong>‚ö†Ô∏è Algumas fun√ß√µes n√£o dispon√≠veis</strong><br>Dispon√≠veis: ${availableFunctions.join(', ')}<br>Faltando: ${missingFunctions.join(', ')}`;
                statusDiv.className = 'status error';
                log(`‚ö†Ô∏è Fun√ß√µes dispon√≠veis: ${availableFunctions.join(', ')}`, 'info');
                log(`‚ùå Fun√ß√µes faltando: ${missingFunctions.join(', ')}`, 'error');
            }
        }

        // Testar sistema ARKITECT
        function testArkitectSystem() {
            log('üèóÔ∏è Testando sistema ARKITECT...', 'info');
            const statusDiv = document.getElementById('console-status');

            if (window.arkitectSolution) {
                try {
                    const status = window.arkitectSolution.getStatus();
                    statusDiv.innerHTML = `
                        <strong>‚úÖ Sistema ARKITECT funcionando</strong><br>
                        Nome: ${status.name}<br>
                        Vers√£o: ${status.version}<br>
                        Ativo: ${status.isActive ? 'üü¢ Sim' : 'üî¥ N√£o'}
                    `;
                    statusDiv.className = 'status success';
                    log('‚úÖ Sistema ARKITECT funcionando', 'success');
                    log(`üìä Status: ${JSON.stringify(status)}`, 'info');
                } catch (error) {
                    statusDiv.innerHTML = `<strong>‚ùå Erro no sistema ARKITECT</strong><br>${error.message}`;
                    statusDiv.className = 'status error';
                    log(`‚ùå Erro no sistema ARKITECT: ${error.message}`, 'error');
                }
            } else {
                statusDiv.innerHTML = '<strong>‚ùå Sistema ARKITECT n√£o encontrado</strong>';
                statusDiv.className = 'status error';
                log('‚ùå Sistema ARKITECT n√£o encontrado', 'error');
            }
        }

        // Verificar inicializa√ß√£o
        function checkInitialization() {
            log('üîç Verificando inicializa√ß√£o...', 'info');

            // Verificar vari√°veis globais
            setTimeout(() => {
                if (window.chessProDB) {
                    log('‚úÖ window.chessProDB dispon√≠vel', 'success');
                } else {
                    log('‚ùå window.chessProDB n√£o dispon√≠vel', 'error');
                }

                if (window.arkitectSolution) {
                    log('‚úÖ window.arkitectSolution dispon√≠vel', 'success');
                } else {
                    log('‚ùå window.arkitectSolution n√£o dispon√≠vel', 'error');
                }

                if (window.startArkitect) {
                    log('‚úÖ window.startArkitect dispon√≠vel', 'success');
                } else {
                    log('‚ùå window.startArkitect n√£o dispon√≠vel', 'error');
                }
            }, 2000);
        }

        // Inicializa√ß√£o
        document.addEventListener('DOMContentLoaded', function() {
            log('üöÄ P√°gina de teste de console carregada', 'success');

            // Verificar inicializa√ß√£o ap√≥s um delay
            setTimeout(() => {
                checkInitialization();
            }, 2000);
        });

        // Teste autom√°tico ap√≥s carregamento
        setTimeout(() => {
            testConsole();
            testGlobalFunctions();
            testArkitectSystem();
        }, 3000);
    </script>
</body>

</html>