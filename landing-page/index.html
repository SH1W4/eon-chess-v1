<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Aeon Chess - Plataforma de Xadrez com Intelig√™ncia Artificial</title>
    <meta name="description" content="Aprenda e domine o xadrez com Aeon Chess. IA avan√ßada, an√°lise de jogadas, treinamento personalizado e torneios online.">
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        darkMode: 'class',
        theme: {
          extend: {
            colors: {
              chess: {
                black: '#1a1a1a',
                white: '#f0f0f0',
                board: '#8B4513',
                accent: '#D4AF37',
                primary: '#2563eb',
                secondary: '#4338ca'
              }
            },
            fontFamily: {
              'chess': ['Georgia', 'serif'],
              'sans': ['Inter', 'sans-serif']
            }
          }
        }
      }
    </script>

    <!-- Alpine.js para interatividade -->
    <script src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
    
    <!-- Font Awesome para √≠cones -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Playfair+Display:wght@700&display=swap');
      
      [x-cloak] { display: none !important; }
      
      /* Anima√ß√µes personalizadas */
      @keyframes float {
        0%, 100% { transform: translateY(0px); }
        50% { transform: translateY(-20px); }
      }
      
      @keyframes pulse-glow {
        0%, 100% { box-shadow: 0 0 20px rgba(212, 175, 55, 0.5); }
        50% { box-shadow: 0 0 40px rgba(212, 175, 55, 0.8); }
      }
      
      .animate-float {
        animation: float 3s ease-in-out infinite;
      }
      
      .animate-pulse-glow {
        animation: pulse-glow 2s ease-in-out infinite;
      }
      
      /* Estilo do tabuleiro */
      .chessboard {
        display: grid;
        grid-template-columns: repeat(8, 1fr);
        grid-template-rows: repeat(8, 1fr);
        width: 100%;
        max-width: 400px;
        aspect-ratio: 1;
        border: 3px solid #D4AF37;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
      }
      
      .chess-square {
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 2rem;
      }
      
      .chess-square:nth-child(even) { background: #f0d9b5; }
      .chess-square:nth-child(odd) { background: #b58863; }
      
      /* Ajuste para padr√£o xadrez correto */
      .chess-row:nth-child(even) .chess-square:nth-child(even) { background: #b58863; }
      .chess-row:nth-child(even) .chess-square:nth-child(odd) { background: #f0d9b5; }
      
      /* Gradientes */
      .gradient-chess {
        background: linear-gradient(135deg, #1e3c72 0%, #2a5298 50%, #D4AF37 100%);
      }
      
      .gradient-text {
        background: linear-gradient(135deg, #D4AF37 0%, #f4e4c1 50%, #D4AF37 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }
      
      /* Bot√µes estilizados */
      .btn-chess {
        background: linear-gradient(135deg, #D4AF37 0%, #f4e4c1 50%, #D4AF37 100%);
        color: #1a1a1a;
        font-weight: 600;
        padding: 0.75rem 2rem;
        border-radius: 0.5rem;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(212, 175, 55, 0.3);
      }
      
      .btn-chess:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(212, 175, 55, 0.4);
      }
      
      /* Cards de recursos */
      .feature-card {
        background: rgba(255, 255, 255, 0.05);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(212, 175, 55, 0.2);
        transition: all 0.3s ease;
      }
      
      .feature-card:hover {
        border-color: rgba(212, 175, 55, 0.5);
        transform: translateY(-5px);
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      }
      
      /* Scrollbar personalizada */
      ::-webkit-scrollbar {
        width: 10px;
      }
      
      ::-webkit-scrollbar-track {
        background: #1a1a1a;
      }
      
      ::-webkit-scrollbar-thumb {
        background: #D4AF37;
        border-radius: 5px;
      }
      
      ::-webkit-scrollbar-thumb:hover {
        background: #f4e4c1;
      }
    </style>
  
        <style>
            /* Estilos espec√≠ficos para xadrez */
            .chessboard-preview {
                width: 300px;
                height: 300px;
                margin: 2rem auto;
                background: repeating-conic-gradient(#e8e8e8 0% 25%, #1a1a2e 0% 50%) 50% / 75px 75px;
                border: 2px solid #0f4c75;
                border-radius: 8px;
                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
                position: relative;
                overflow: hidden;
            }
            
            .chess-piece {
                font-size: 32px;
                position: absolute;
                animation: float 3s ease-in-out infinite;
            }
            
            @keyframes float {
                0%, 100% { transform: translateY(0); }
                50% { transform: translateY(-10px); }
            }
            
            .feature-icon {
                font-size: 48px;
                margin-bottom: 1rem;
                color: #3282b8;
            }
            
            .game-modes {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                gap: 1rem;
                margin-top: 3rem;
            }
            
            .game-mode-card {
                background: rgba(22, 33, 62, 0.5);
                border: 1px solid #3282b8;
                border-radius: 8px;
                padding: 1.5rem;
                text-align: center;
                transition: all 0.3s ease;
            }
            
            .game-mode-card:hover {
                transform: translateY(-5px);
                box-shadow: 0 10px 20px rgba(50, 130, 184, 0.3);
            }
        </style>
    <link rel="stylesheet" href="css/chess-theme.css">
    
    	<!-- Chessboard and Chess.js -->
    <script type="module" src="https://unpkg.com/chessboard-element?module"></script>
    <script src="https://unpkg.com/chess.js@1.0.0/dist/chess.min.js"></script>
    
    <!-- Optional strong engine: Stockfish WASM -->
    <script src="https://cdn.jsdelivr.net/npm/stockfish@16/stockfish.wasm.js"></script>

    <style>
      /* Paleta harmonizada e estados de foco */
      :root {
        --bg: #0f0f10;
        --text: #e8e8e8;
        --muted: #b3b3b3;
        --accent: #D4AF37;
        --border: #2a2a2a;
      }
      body { background: var(--bg); color: var(--text); }
      .btn-primary {
        background: var(--accent);
        color: #111;
        font-weight: 600;
        padding: 0.75rem 1.25rem;
        border-radius: 0.5rem;
        transition: transform .15s ease, box-shadow .15s ease, background-color .15s ease;
      }
      .btn-primary:hover { transform: translateY(-1px); box-shadow: 0 8px 24px rgba(212,175,55,.24); }
      .btn-primary:focus-visible { outline: 2px solid #000; outline-offset: 2px; box-shadow: 0 0 0 4px rgba(212,175,55,.35); }
      .btn-secondary {
        border: 2px solid var(--accent);
        color: var(--accent);
        padding: 0.6875rem 1.125rem;
        border-radius: 0.5rem;
        font-weight: 600;
        transition: background-color .15s ease, color .15s ease;
      }
      .btn-secondary:hover { background-color: var(--accent); color: #111; }
      .btn-secondary:focus-visible { outline: 2px solid #000; outline-offset: 2px; box-shadow: 0 0 0 4px rgba(212,175,55,.35); }
    </style>
        </head>

  <body class="bg-chess-black text-white" x-data="{ showModal: false, darkMode: false }" x-cloak>
    <!-- Navigation -->
    <nav class="bg-chess-black/90 backdrop-blur-md shadow-lg fixed w-full z-50 border-b border-chess-accent/20">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between h-16">
          <div class="flex items-center">
            <i class="fas fa-chess-king text-chess-accent text-2xl mr-3"></i>
            <span class="text-xl font-bold gradient-text">Aeon Chess</span>
            <span class="ml-2 px-2 py-1 text-xs bg-chess-accent/20 text-chess-accent rounded-full border border-chess-accent/30">
              PRO
            </span>
          </div>
          <div class="flex items-center space-x-6">
            <a href="#recursos" class="text-gray-300 hover:text-chess-accent transition-colors">
              Recursos
            </a>
            <a href="#analise" class="text-gray-300 hover:text-chess-accent transition-colors">
              An√°lise IA
            </a>
            <a href="#torneios" class="text-gray-300 hover:text-chess-accent transition-colors">
              Torneios
            </a>
            <a href="#planos" class="text-gray-300 hover:text-chess-accent transition-colors">
              Planos
            </a>
            <button class="btn-chess">
              <i class="fas fa-play mr-2"></i>
              Jogar Agora
            </button>
          </div>
        </div>
      </div>
    </nav>

    <!-- Hero Section -->
    <section class="bg-[#0f0f10] pt-32 pb-20">
      <!-- Background Chess Pattern -->
      <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="grid lg:grid-cols-2 gap-12 items-center">
          <!-- Left Column - Content -->
          <div class="text-center lg:text-left">
            <div class="inline-flex items-center px-4 py-2 bg-chess-accent/20 rounded-full text-chess-accent text-sm mb-6 border border-chess-accent/30">
              <i class="fas fa-crown mr-2"></i>
              <span>Mais de 50,000 jogadores ativos</span>
            </div>
            
            <h1 class="text-5xl lg:text-7xl font-bold mb-6 font-chess">
              Domine o
              <span class="gradient-text block">Xadrez</span>
              com IA Avan√ßada
            </h1>
            
            <p class="text-xl text-gray-300 mb-8 max-w-2xl">
              An√°lise profunda de partidas, treinamento personalizado e 
              advers√°rios de IA que se adaptam ao seu n√≠vel. Evolua do 
              iniciante ao mestre com tecnologia de ponta.
            </p>
            
            	<div class="flex flex-col sm:flex-row gap-4 justify-center lg:justify-start">
              <button id="cta-play" class="btn-primary">
                <i class="fas fa-chess mr-2"></i>
                Jogar Agora
              </button>
              <button id="cta-demo" class="btn-secondary">
                <i class="fas fa-play-circle mr-2"></i>
                Ver Demo
              </button>
            </div>
            
            <!-- AI controls -->
            <div class="mt-4 flex flex-col sm:flex-row gap-3 items-center justify-center lg:justify-start text-sm">
              <label class="flex items-center gap-2">
                <span class="text-gray-400">N√≠vel da IA</span>
                <select id="ai-level" class="bg-[#141415] border border-[var(--border)] rounded px-2 py-1">
                  <option value="beginner">Iniciante</option>
                  <option value="club" selected>Clube</option>
                  <option value="master">Mestre</option>
                </select>
              </label>
              <label class="flex items-center gap-2">
                <input id="ai-strong" type="checkbox" class="accent-[var(--accent)]">
                <span class="text-gray-400">IA Forte (Stockfish)</span>
              </label>
            </div>
            
            <!-- Stats -->
            <div class="grid grid-cols-3 gap-6 mt-12">
              <div>
                <div class="text-3xl font-bold gradient-text">2800+</div>
                <div class="text-sm text-gray-400">ELO da IA</div>
              </div>
              <div>
                <div class="text-3xl font-bold gradient-text">100K+</div>
                <div class="text-sm text-gray-400">Partidas/dia</div>
              </div>
              <div>
                <div class="text-3xl font-bold gradient-text">99.9%</div>
                <div class="text-sm text-gray-400">Precis√£o</div>
              </div>
            </div>
          </div>
          
          <!-- Right Column - Functional Chess Board + Eval -->
          <div class="flex justify-center lg:justify-end">
            <div class="flex flex-col lg:flex-row items-center lg:items-start gap-4">
              <!-- Board Card -->
              <div class="bg-[#141415] border border-[var(--border)] rounded-xl p-4 shadow-xl w-full max-w-sm">
                <chess-board id="aeon-board" draggable-pieces position="start" class="w-full" style="max-width: 100%; aspect-ratio: 1;"></chess-board>
                <div class="mt-4 flex flex-wrap items-center justify-center lg:justify-start gap-2">
                  <button id="aeon-undo" class="btn-secondary px-2 py-1 text-sm">
                    <i class="fas fa-rotate-left mr-1"></i>Desfazer
                  </button>
                  <button id="aeon-reset" class="btn-secondary px-2 py-1 text-sm">
                    <i class="fas fa-arrow-rotate-right mr-1"></i>Reset
                  </button>
                  <span id="aeon-eval-score" class="text-sm text-[var(--muted)] ml-auto">=</span>
                </div>
                <div id="aeon-status" class="mt-3 text-xs text-[var(--muted)] text-center lg:text-left break-all"></div>
                <div id="aeon-narration" class="mt-2 text-xs text-gray-400 italic text-center lg:text-left"></div
              </div>

              <!-- Eval Bar -->
              <div class="flex lg:flex-col flex-row items-center lg:items-center select-none" aria-label="Barra de avalia√ß√£o">
                <div class="text-xs text-gray-400 mb-2 lg:mb-2 mr-2 lg:mr-0">Avalia√ß√£o</div>
                <div id="aeon-eval-bar" class="lg:w-4 w-20 rounded overflow-hidden border border-[var(--border)] lg:h-80 h-4" style="background: linear-gradient(to bottom, #f9fafb, #111827);">
                  <div id="aeon-eval-white" class="lg:bg-[#f9fafb] bg-[#f9fafb]" style="height: 50%; width: 50%;"></div>
                  <div id="aeon-eval-black" class="lg:bg-[#111827] bg-[#111827]" style="height: 50%; width: 50%;"></div>
                </div>
                <div class="text-[10px] text-gray-500 mt-2 lg:mt-2 ml-2 lg:ml-0 whitespace-nowrap">Brancas ‚ñ≤ / Pretas ‚ñº</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Performance Section -->
    <section id="demo" class="py-20 bg-white dark:bg-dark-bg">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-16">
          <h2 class="text-4xl font-bold text-gray-900 dark:text-dark-text mb-4">
            Veja a diferen√ßa que a IA faz
          </h2>
          <p class="text-xl text-gray-600 dark:text-dark-muted">
            Compara√ß√µes reais de desempenho e an√°lise
          </p>
        </div>

        <!-- Performance Comparison Table -->
        <div class="bg-gray-50 dark:bg-dark-surface rounded-xl p-8 mb-12">
          <div class="overflow-x-auto">
            <table class="w-full">
              <thead>
                <tr class="border-b border-gray-200 dark:border-dark-border">
                  <th class="text-left py-4 px-6 font-semibold text-gray-900 dark:text-dark-text">
                    An√°lise
                  </th>
                  <th class="text-center py-4 px-6 font-semibold text-gray-600 dark:text-dark-muted">
                    Jogador Humano
                  </th>
                  <th class="text-center py-4 px-6 font-semibold text-purple-600 dark:text-purple-400">
                    Aeon Chess IA
                  </th>
                  <th class="text-center py-4 px-6 font-semibold text-green-600 dark:text-green-400">
                    Precis√£o
                  </th>
                </tr>
              </thead>
              <tbody>
                <tr
                  class="border-b border-gray-100 dark:border-dark-border"
                  x-data="{ visible: false }"
                  x-intersect="visible = true"
                >
                  <td class="py-4 px-6 font-medium dark:text-dark-text">Melhores jogadas</td>
                  <td class="py-4 px-6 text-center">
                    <div class="bg-red-100 text-red-800 px-3 py-1 rounded-full text-sm">
                      65%
                    </div>
                  </td>
                  <td class="py-4 px-6 text-center">
                    <div
                      class="bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm"
                    >
                      98.5%
                    </div>
                  </td>
                  <td class="py-4 px-6 text-center">
                    <div
                      class="bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-sm font-bold"
                    >
                      +33.5%
                    </div>
                  </td>
                </tr>
                <tr class="border-b border-gray-100 dark:border-dark-border">
                  <td class="py-4 px-6 font-medium dark:text-dark-text">An√°lise t√°tica</td>
                  <td class="py-4 px-6 text-center">
                    <div class="bg-red-100 text-red-800 px-3 py-1 rounded-full text-sm">
                      3-5 min
                    </div>
                  </td>
                  <td class="py-4 px-6 text-center">
                    <div
                      class="bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm"
                    >
                      0.2s
                    </div>
                  </td>
                  <td class="py-4 px-6 text-center">
                    <div
                      class="bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-sm font-bold"
                    >
                      Instant√¢nea
                    </div>
                  </td>
                </tr>
                <tr>
                  <td class="py-4 px-6 font-medium dark:text-dark-text">Avalia√ß√£o posicional</td>
                  <td class="py-4 px-6 text-center">
                    <div class="bg-red-100 text-red-800 px-3 py-1 rounded-full text-sm">
                      70%
                    </div>
                  </td>
                  <td class="py-4 px-6 text-center">
                    <div
                      class="bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm"
                    >
                      99.2%
                    </div>
                  </td>
                  <td class="py-4 px-6 text-center">
                    <div
                      class="bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-sm font-bold"
                    >
                      +29.2%
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

        <!-- Terminal demo movido para a se√ß√£o pr√≥pria abaixo -->
      </div>
    </section>

    <!-- Terminal Chess Demo Section -->
    <section id="terminal-demo" class="py-20 bg-chess-dark relative overflow-hidden">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-12">
          <h2 class="text-4xl lg:text-5xl font-bold mb-4 font-chess">
            Xadrez no <span class="gradient-text">Terminal</span>
          </h2>
          <p class="text-xl text-gray-300 max-w-3xl mx-auto">
            Uma experi√™ncia √∫nica de xadrez com narra√ß√£o cultural e hist√≥rica
          </p>
        </div>
        
        <!-- Terminal Window -->
        <div class="max-w-4xl mx-auto">
          <div class="bg-gray-900 rounded-lg shadow-2xl overflow-hidden border border-gray-700">
            <!-- Terminal Header -->
            <div class="bg-gray-800 px-4 py-2 flex items-center justify-between">
              <div class="flex items-center space-x-2">
                <div class="w-3 h-3 rounded-full bg-red-500"></div>
                <div class="w-3 h-3 rounded-full bg-yellow-500"></div>
                <div class="w-3 h-3 rounded-full bg-green-500"></div>
              </div>
              <div class="text-gray-400 text-sm font-mono">aeon-chess@terminal</div>
            </div>
            
            <!-- Terminal Content -->
            <div id="terminal-output" class="p-6 font-mono text-sm leading-relaxed max-h-96 overflow-y-auto">
              <!-- Conte√∫do ser√° gerado dinamicamente pela anima√ß√£o -->
            </div>
          </div>
          
          <!-- Terminal Controls -->
          <div class="mt-6 flex flex-wrap justify-center gap-4">
            <button data-terminal-continue class="px-4 py-2 bg-chess-accent/20 text-chess-accent rounded border border-chess-accent/30 hover:bg-chess-accent/30 transition-all">
              <i class="fas fa-play mr-2"></i> Continuar Experi√™ncia
            </button>
            <button onclick="window.aeonTerminal?.switchToExperience('fischer_spassky')" class="px-4 py-2 bg-gray-700 text-gray-300 rounded hover:bg-gray-600 transition-all">
              <i class="fas fa-flag-usa mr-2"></i> Fischer vs Spassky
            </button>
            <button onclick="window.aeonTerminal?.switchToExperience('polgar_kasparov')" class="px-4 py-2 bg-gray-700 text-gray-300 rounded hover:bg-gray-600 transition-all">
              <i class="fas fa-venus mr-2"></i> Polg√°r vs Kasparov
            </button>
            <button class="px-4 py-2 bg-gray-700 text-gray-300 rounded hover:bg-gray-600 transition-all">
              <i class="fas fa-terminal mr-2"></i> Instalar CLI
            </button>
          </div>
        </div>
        
        <!-- Features Grid -->
        <div class="grid md:grid-cols-3 gap-8 mt-16">
          <div class="text-center">
            <div class="w-16 h-16 bg-chess-accent/20 rounded-full flex items-center justify-center mx-auto mb-4">
              <i class="fas fa-brain text-2xl text-chess-accent"></i>
            </div>
            <h3 class="text-xl font-semibold mb-2">IA Narrativa</h3>
            <p class="text-gray-400">
              Coment√°rios contextualizados sobre cada movimento,
              conectando hist√≥ria e estrat√©gia
            </p>
          </div>
          
          <div class="text-center">
            <div class="w-16 h-16 bg-chess-accent/20 rounded-full flex items-center justify-center mx-auto mb-4">
              <i class="fas fa-history text-2xl text-chess-accent"></i>
            </div>
            <h3 class="text-xl font-semibold mb-2">Partidas Hist√≥ricas</h3>
            <p class="text-gray-400">
              Revisite os grandes confrontos do xadrez mundial
              com an√°lise moderna
            </p>
          </div>
          
          <div class="text-center">
            <div class="w-16 h-16 bg-chess-accent/20 rounded-full flex items-center justify-center mx-auto mb-4">
              <i class="fas fa-code text-2xl text-chess-accent"></i>
            </div>
            <h3 class="text-xl font-semibold mb-2">CLI Completa</h3>
            <p class="text-gray-400">
              Interface de linha de comando para jogar,
              analisar e estudar xadrez
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- Gamified Journey Section -->
    <section id="journey" class="py-20 bg-[#0f0f10] border-t border-[var(--border)]">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-12">
          <h2 class="text-4xl font-bold font-chess mb-3">
            Encontre seu caminho com nossa Jornada Gamificada
          </h2>
          <p class="text-lg text-gray-300">4 passos r√°pidos para descobrir seu perfil e desbloquear uma oferta ideal</p>
        </div>

        <!-- Wizard -->
        <div x-data="gamifiedJourney()" x-init="init()" class="bg-[#141415] border border-[var(--border)] rounded-2xl p-6 lg:p-8 shadow-xl">
          <!-- Progress -->
          <div class="mb-6">
            <div class="flex items-center justify-between text-xs text-gray-400 mb-2">
              <span x-text="`Passo ${step} de ${totalSteps}`"></span>
              <span x-text="`${points} pts`"></span>
            </div>
            <div class="w-full h-2 bg-[#1c1c1e] rounded">
              <div class="h-2 bg-[var(--accent)] rounded transition-all" :style="`width: ${(step-1)/(totalSteps-1)*100}%`"></div>
            </div>
          </div>

          <!-- Steps -->
          <template x-if="view==='quiz'">
            <div class="space-y-8">
              <!-- Step 1 -->
              <div x-show="step===1">
                <h3 class="text-xl font-semibold mb-4">Qual √© seu n√≠vel atual?</h3>
                <div class="grid sm:grid-cols-3 gap-3">
                  <button @click="select('level','iniciante')" class="border border-[var(--border)] rounded-lg p-4 hover:border-[var(--accent)]">
                    <div class="font-semibold">Iniciante</div>
                    <div class="text-xs text-gray-400">At√© ~1200</div>
                  </button>
                  <button @click="select('level','intermediario')" class="border border-[var(--border)] rounded-lg p-4 hover:border-[var(--accent)]">
                    <div class="font-semibold">Intermedi√°rio</div>
                    <div class="text-xs text-gray-400">1200 - 1800</div>
                  </button>
                  <button @click="select('level','avancado')" class="border border-[var(--border)] rounded-lg p-4 hover:border-[var(--accent)]">
                    <div class="font-semibold">Avan√ßado</div>
                    <div class="text-xs text-gray-400">1800+</div>
                  </button>
                </div>
              </div>

              <!-- Step 2 -->
              <div x-show="step===2">
                <h3 class="text-xl font-semibold mb-4">Qual seu objetivo principal?</h3>
                <div class="grid sm:grid-cols-2 gap-3">
                  <button @click="select('goal','rating')" class="border border-[var(--border)] rounded-lg p-4 hover:border-[var(--accent)] text-left">
                    <div class="font-semibold">Subir rating</div>
                    <div class="text-xs text-gray-400">Plano focado em performance</div>
                  </button>
                  <button @click="select('goal','aberturas')" class="border border-[var(--border)] rounded-lg p-4 hover:border-[var(--accent)] text-left">
                    <div class="font-semibold">Dominar aberturas</div>
                    <div class="text-xs text-gray-400">Repert√≥rio e teoria</div>
                  </button>
                  <button @click="select('goal','tatica')" class="border border-[var(--border)] rounded-lg p-4 hover:border-[var(--accent)] text-left">
                    <div class="font-semibold">T√°tica e c√°lculo</div>
                    <div class="text-xs text-gray-400">Exerc√≠cios personalizados</div>
                  </button>
                  <button @click="select('goal','torneio')" class="border border-[var(--border)] rounded-lg p-4 hover:border-[var(--accent)] text-left">
                    <div class="font-semibold">Prepara√ß√£o para torneios</div>
                    <div class="text-xs text-gray-400">Treino competitivo</div>
                  </button>
                </div>
              </div>

              <!-- Step 3 -->
              <div x-show="step===3">
                <h3 class="text-xl font-semibold mb-4">Quanto tempo por semana?</h3>
                <div class="grid sm:grid-cols-4 gap-3">
                  <button @click="select('time','<2h')" class="border border-[var(--border)] rounded-lg p-4 hover:border-[var(--accent)]">&lt; 2h</button>
                  <button @click="select('time','2-5h')" class="border border-[var(--border)] rounded-lg p-4 hover:border-[var(--accent)]">2-5h</button>
                  <button @click="select('time','5-10h')" class="border border-[var(--border)] rounded-lg p-4 hover:border-[var(--accent)]">5-10h</button>
                  <button @click="select('time','10h+')" class="border border-[var(--border)] rounded-lg p-4 hover:border-[var(--accent)]">10h+</button>
                </div>
              </div>

              <!-- Step 4 -->
              <div x-show="step===4">
                <h3 class="text-xl font-semibold mb-4">Qual seu estilo de jogo?</h3>
                <div class="grid sm:grid-cols-3 gap-3">
                  <button @click="select('style','agressivo')" class="border border-[var(--border)] rounded-lg p-4 hover:border-[var(--accent)]">Agressivo</button>
                  <button @click="select('style','solido')" class="border border-[var(--border)] rounded-lg p-4 hover:border-[var(--accent)]">S√≥lido</button>
                  <button @click="select('style','equilibrado')" class="border border-[var(--border)] rounded-lg p-4 hover:border-[var(--accent)]">Equilibrado</button>
                </div>
              </div>

              <div class="flex justify-between pt-2">
                <button class="btn-secondary px-3 py-2" @click="prev()" :disabled="step===1">Voltar</button>
                <button class="btn-primary px-3 py-2" @click="next()" x-show="step<totalSteps">Continuar</button>
              </div>
            </div>
          </template>

          <!-- Result -->
          <template x-if="view==='result'">
            <div class="grid lg:grid-cols-3 gap-6">
              <div class="lg:col-span-2">
                <div class="flex items-center gap-3 mb-3">
                  <div class="w-8 h-8 rounded-full bg-[var(--accent)] text-black flex items-center justify-center font-bold" x-text="badge"></div>
                  <h3 class="text-2xl font-bold">Seu perfil: <span class="gradient-text" x-text="persona.title"></span></h3>
                </div>
                <p class="text-gray-300 mb-4" x-text="persona.subtitle"></p>
                <ul class="space-y-2 text-sm">
                  <template x-for="b in persona.benefits" :key="b">
                    <li class="flex items-start"><i class="fas fa-check text-green-500 mt-1 mr-2"></i><span x-text="b"></span></li>
                  </template>
                </ul>
              </div>
              <div class="bg-[#0f0f10] border border-[var(--border)] rounded-xl p-5">
                <div class="text-sm text-gray-400 mb-1">Plano recomendado</div>
                <div class="text-3xl font-bold mb-2" x-text="recommendation.plan"></div>
                <div class="text-gray-400 mb-4" x-text="recommendation.price"></div>
                <ul class="space-y-2 text-sm mb-4">
                  <template x-for="f in recommendation.features" :key="f"><li class="flex items-start"><i class="fas fa-star text-yellow-500 mt-1 mr-2"></i><span x-text="f"></span></li></template>
                </ul>
                <button class="w-full btn-primary" @click="goToPricing()">Ver plano</button>
                <div class="text-[11px] text-gray-500 mt-3">Voc√™ desbloqueou: <span class="text-[var(--accent)]" x-text="perk"></span></div>
              </div>
            </div>
          </template>
        </div>
      </div>
    </section>

    <!-- Main Content Area -->
    <section id="features" class="py-20 bg-gray-50 dark:bg-dark-surface">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-16">
          <h2 class="text-4xl font-bold text-gray-900 dark:text-dark-text mb-4">
            Intelig√™ncia que entende seu jogo
          </h2>
          <p class="text-xl text-gray-600 dark:text-dark-muted">
            Recursos avan√ßados de IA que se adaptam ao seu estilo
          </p>
        </div>

        <div class="grid md:grid-cols-3 gap-8">
          <!-- Feature 1: Context-Aware Commits -->
          <div
            class="bg-white dark:bg-dark-bg rounded-xl p-8 shadow-lg hover:shadow-xl transition-shadow"
          >
            <div
              class="w-16 h-16 bg-purple-100 rounded-lg flex items-center justify-center mb-6"
            >
              <span class="text-3xl">üß†</span>
            </div>
            <h3 class="text-2xl font-bold text-gray-900 dark:text-dark-text mb-4">An√°lise Contextual</h3>
            <p class="text-gray-600 dark:text-dark-muted mb-6">
              IA analisa suas jogadas e sugere as melhores continua√ß√µes baseadas no contexto da partida.
            </p>
            <div class="bg-gray-50 dark:bg-dark-surface rounded-lg p-4">
              <div class="text-sm font-mono">
                <div class="text-green-600">‚ôñ Bispo em e7 - Desenvolvimento s√≥lido</div>
                <div class="text-red-600">‚ö†Ô∏è Cavalo em a3 - Posi√ß√£o passiva</div>
                <div class="text-blue-600 mt-2">üë° Sugest√£o:</div>
                <div class="text-gray-800 font-semibold">
                  "Nf3 desenvolvendo com press√£o central"
                </div>
              </div>
            </div>
          </div>

          <!-- Feature 2: Predictive Analysis -->
          <div
            class="bg-white dark:bg-dark-bg rounded-xl p-8 shadow-lg hover:shadow-xl transition-shadow"
          >
            <div
              class="w-16 h-16 bg-blue-100 rounded-lg flex items-center justify-center mb-6"
            >
              <span class="text-3xl">üîÆ</span>
            </div>
            <h3 class="text-2xl font-bold text-gray-900 dark:text-dark-text mb-4">An√°lise Preditiva</h3>
            <p class="text-gray-600 dark:text-dark-muted mb-6">
              Identifique amea√ßas e oportunidades antes que se concretizem com previs√£o avan√ßada.
            </p>
            <div class="bg-gray-50 dark:bg-dark-surface rounded-lg p-4">
              <div class="flex items-center justify-between mb-2">
                <span class="text-sm font-medium">Avalia√ß√£o da Posi√ß√£o</span>
                <span class="text-lg font-bold text-green-600">+2.3</span>
              </div>
              <div class="w-full bg-gray-200 rounded-full h-2 mb-3">
                <div class="bg-green-500 h-2 rounded-full" style="width: 73%"></div>
              </div>
              <div class="text-xs text-gray-600">
                ‚ö†Ô∏è Amea√ßa t√°tica detectada em 3 lances: Nxf7!
              </div>
            </div>
          </div>

          <!-- Feature 3: Smart Automation -->
          <div
            class="bg-white dark:bg-dark-bg rounded-xl p-8 shadow-lg hover:shadow-xl transition-shadow"
          >
            <div
              class="w-16 h-16 bg-yellow-100 rounded-lg flex items-center justify-center mb-6"
            >
              <span class="text-3xl">‚ö°</span>
            </div>
            <h3 class="text-2xl font-bold text-gray-900 dark:text-dark-text mb-4">Treinamento Inteligente</h3>
            <p class="text-gray-600 dark:text-dark-muted mb-6">
              Sistema adaptativo que aprende seus padr√µes e otimiza seu treinamento automaticamente.
            </p>
            <div class="bg-gray-50 dark:bg-dark-surface rounded-lg p-4">
              <div class="space-y-2 text-sm">
                <div class="flex items-center">
                  <span class="w-2 h-2 bg-green-500 rounded-full mr-2"></span>
                  Exerc√≠cios de t√°tica personalizados
                </div>
                <div class="flex items-center">
                  <span class="w-2 h-2 bg-blue-500 rounded-full mr-2"></span>
                  An√°lise autom√°tica p√≥s-partida
                </div>
                <div class="flex items-center">
                  <span class="w-2 h-2 bg-purple-500 rounded-full mr-2"></span>
                  Repert√≥rio de aberturas adaptativo
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Social Proof Section -->
    <section class="py-20 bg-white dark:bg-dark-bg">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-16">
          <h2 class="text-4xl font-bold text-gray-900 dark:text-dark-text mb-4">
            Junte-se √† comunidade Aeon Chess
          </h2>
          <p class="text-xl text-gray-600 dark:text-dark-muted">
            Confiado por jogadores de todos os n√≠veis
          </p>
        </div>

        <!-- Stats Banner -->
        <div class="grid md:grid-cols-3 gap-8 mb-16">
          <div class="text-center">
            <div
              class="text-4xl font-bold text-purple-600 mb-2"
              x-text="stats.waitlist"
            >
              2,847
            </div>
            <div class="text-gray-600 dark:text-dark-muted">jogadores na lista de espera</div>
          </div>
          <div class="text-center">
            <div
              class="text-4xl font-bold text-purple-600 mb-2"
              x-text="stats.satisfaction + '%'"
            >
              94%
            </div>
            <div class="text-gray-600 dark:text-dark-muted">recomendam para amigos</div>
          </div>
          <div class="text-center">
            <div
              class="text-4xl font-bold text-purple-600 mb-2"
              x-text="stats.productivity + 'x'"
            >
              12x
            </div>
            <div class="text-gray-600 dark:text-dark-muted">melhoria m√©dia no rating</div>
          </div>
        </div>

        <!-- Testimonials -->
        <div class="grid md:grid-cols-2 gap-8 mb-16">
          <div class="bg-gray-50 dark:bg-dark-surface rounded-xl p-8">
            <div class="flex items-start">
              <img
                src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=60&h=60&fit=crop&crop=face&auto=format"
                class="w-12 h-12 rounded-full mr-4"
                alt="Alex Thompson"
              />
              <div>
                <p class="text-gray-800 dark:text-dark-text mb-4">
                  "As sugest√µes da IA s√£o incr√≠veis. √â como ter um Grande Mestre
                  analisando cada jogada comigo 24/7."
                </p>
                <div class="text-sm">
                  <div class="font-semibold text-gray-900 dark:text-dark-text">Carlos Silva</div>
                  <div class="text-gray-600 dark:text-dark-muted">FM - Rating 2350</div>
                </div>
              </div>
            </div>
          </div>

          <div class="bg-gray-50 dark:bg-dark-surface rounded-xl p-8">
            <div class="flex items-start">
              <img
                src="https://images.unsplash.com/photo-1494790108755-2616b612b786?w=60&h=60&fit=crop&crop=face&auto=format"
                class="w-12 h-12 rounded-full mr-4"
                alt="Maria Garcia"
              />
              <div>
                <p class="text-gray-800 dark:text-dark-text mb-4">
                  "Melhorei 300 pontos de rating em apenas 6 meses. A an√°lise
                  instant√¢nea √© revolucion√°ria."
                </p>
                <div class="text-sm">
                  <div class="font-semibold text-gray-900 dark:text-dark-text">Ana Santos</div>
                  <div class="text-gray-600 dark:text-dark-muted">Campe√£ Estadual</div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Urgency CTA -->
        <div
          class="bg-gradient-to-r from-purple-600 to-blue-600 rounded-2xl p-8 text-center text-white"
        >
          <div class="max-w-2xl mx-auto">
            <h3 class="text-3xl font-bold mb-4">Acesso Beta Limitado Abrindo em Breve</h3>
            <p class="text-xl mb-8 text-purple-100">
              Apenas 100 vagas dispon√≠veis para teste exclusivo. Seja um dos primeiros a
              experimentar o futuro do xadrez com IA.
            </p>

            <!-- Access Request Form -->
            <form @submit.prevent="submitAccessRequest()" class="max-w-md mx-auto">
              <div class="flex flex-col sm:flex-row gap-4">
                <input
                  type="email"
                  x-model="form.email"
                  placeholder="Digite seu email"
                  class="flex-1 px-4 py-3 rounded-lg text-gray-900 placeholder-gray-500"
                  required
                />
                <button
                  type="submit"
                  class="bg-yellow-500 text-purple-900 px-8 py-3 rounded-lg font-semibold hover:bg-yellow-400 transition-colors"
                >
                  Solicitar Acesso Priorit√°rio
                </button>
              </div>
              <p class="text-sm text-purple-100 mt-4">
                Sem spam. Cancele quando quiser.
              </p>
            </form>
          </div>
        </div>
      </div>
    </section>

    <!-- Pricing Section -->
    <section id="pricing" class="py-20 bg-gray-50 dark:bg-dark-surface">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-16">
          <h2 class="text-4xl font-bold text-gray-900 dark:text-dark-text mb-4">
            Pre√ßos simples e transparentes
          </h2>
          <p class="text-xl text-gray-600 dark:text-dark-muted">Escolha o plano ideal para voc√™</p>
        </div>

        <div class="grid lg:grid-cols-3 md:grid-cols-1 gap-8">
          <!-- Plano Iniciante -->
          <div class="bg-white dark:bg-dark-bg rounded-xl p-6 shadow-lg">
            <div class="text-center">
              <div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
                <i class="fas fa-chess-pawn text-blue-600 text-xl"></i>
              </div>
              <h3 class="text-2xl font-bold text-gray-900 dark:text-dark-text mb-2">Iniciante</h3>
              <p class="text-sm text-gray-500 mb-4">Ideal para quem est√° come√ßando</p>
              <div class="text-4xl font-bold text-blue-600 dark:text-blue-400 mb-1">R$ 19</div>
              <div class="text-gray-600 dark:text-dark-muted mb-6">por m√™s</div>
              <ul class="text-left space-y-3 mb-8">
                <li class="flex items-start">
                  <i class="fas fa-check text-green-500 mr-3 mt-1 text-sm"></i>
                  <div>
                    <strong>10 an√°lises por dia</strong>
                    <div class="text-xs text-gray-500">An√°lise b√°sica com sugest√µes</div>
                  </div>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check text-green-500 mr-3 mt-1 text-sm"></i>
                  <div>
                    <strong>Exerc√≠cios t√°ticos b√°sicos</strong>
                    <div class="text-xs text-gray-500">50 puzzles por semana</div>
                  </div>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check text-green-500 mr-3 mt-1 text-sm"></i>
                  <div>
                    <strong>5 aberturas principais</strong>
                    <div class="text-xs text-gray-500">Teoria essencial</div>
                  </div>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check text-green-500 mr-3 mt-1 text-sm"></i>
                  <div>
                    <strong>IA at√© 1400 ELO</strong>
                    <div class="text-xs text-gray-500">Oponente para iniciantes</div>
                  </div>
                </li>
              </ul>
              <button class="w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors">
                Come√ßar Agora
              </button>
            </div>
          </div>

          <!-- Plano Avan√ßado -->
          <div class="bg-white dark:bg-dark-bg rounded-xl p-6 shadow-lg border-2 border-purple-500 dark:border-purple-400 relative">
            <div class="absolute -top-3 left-1/2 transform -translate-x-1/2">
              <span class="bg-gradient-to-r from-purple-500 to-blue-500 text-white px-4 py-1 rounded-full text-sm font-semibold shadow-lg">
                üî• Mais Popular
              </span>
            </div>
            <div class="text-center">
              <div class="w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4">
                <i class="fas fa-chess-knight text-purple-600 text-xl"></i>
              </div>
              <h3 class="text-2xl font-bold text-gray-900 dark:text-dark-text mb-2">Avan√ßado</h3>
              <p class="text-sm text-gray-500 mb-4">Para jogadores s√©rios (1200-1800 ELO)</p>
              <div class="text-4xl font-bold text-purple-600 dark:text-purple-400 mb-1">R$ 59</div>
              <div class="text-gray-600 dark:text-dark-muted mb-6">por m√™s</div>
              <ul class="text-left space-y-3 mb-8">
                <li class="flex items-start">
                  <i class="fas fa-check text-green-500 mr-3 mt-1 text-sm"></i>
                  <div>
                    <strong>An√°lises ilimitadas</strong>
                    <div class="text-xs text-gray-500">Com engine Stockfish 15</div>
                  </div>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check text-green-500 mr-3 mt-1 text-sm"></i>
                  <div>
                    <strong>2000+ exerc√≠cios t√°ticos</strong>
                    <div class="text-xs text-gray-500">Problemas personalizados</div>
                  </div>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check text-green-500 mr-3 mt-1 text-sm"></i>
                  <div>
                    <strong>Repert√≥rio completo</strong>
                    <div class="text-xs text-gray-500">20+ aberturas com variantes</div>
                  </div>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check text-green-500 mr-3 mt-1 text-sm"></i>
                  <div>
                    <strong>IA at√© 2200 ELO</strong>
                    <div class="text-xs text-gray-500">N√≠vel clube forte</div>
                  </div>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check text-green-500 mr-3 mt-1 text-sm"></i>
                  <div>
                    <strong>Torneios mensais</strong>
                    <div class="text-xs text-gray-500">Premia√ß√£o R$ 500</div>
                  </div>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check text-green-500 mr-3 mt-1 text-sm"></i>
                  <div>
                    <strong>Relat√≥rios detalhados</strong>
                    <div class="text-xs text-gray-500">Progresso semanal</div>
                  </div>
                </li>
              </ul>
              <button class="w-full bg-gradient-to-r from-purple-600 to-blue-600 text-white py-3 rounded-lg font-semibold hover:from-purple-700 hover:to-blue-700 transition-all transform hover:scale-105">
                Come√ßar Teste 7 Dias
              </button>
            </div>
          </div>

          <!-- Plano Mestre -->
          <div class="bg-white dark:bg-dark-bg rounded-xl p-6 shadow-lg">
            <div class="text-center">
              <div class="w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4">
                <i class="fas fa-chess-king text-yellow-600 text-xl"></i>
              </div>
              <h3 class="text-2xl font-bold text-gray-900 dark:text-dark-text mb-2">Mestre</h3>
              <p class="text-sm text-gray-500 mb-4">Para jogadores de elite (1800+ ELO)</p>
              <div class="text-4xl font-bold text-yellow-600 dark:text-yellow-400 mb-1">R$ 129</div>
              <div class="text-gray-600 dark:text-dark-muted mb-6">por m√™s</div>
              <ul class="text-left space-y-3 mb-8">
                <li class="flex items-start">
                  <i class="fas fa-crown text-yellow-500 mr-3 mt-1 text-sm"></i>
                  <div>
                    <strong>Tudo do Avan√ßado +</strong>
                    <div class="text-xs text-gray-500">Recursos premium</div>
                  </div>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-crown text-yellow-500 mr-3 mt-1 text-sm"></i>
                  <div>
                    <strong>IA at√© 2800 ELO</strong>
                    <div class="text-xs text-gray-500">N√≠vel Grande Mestre</div>
                  </div>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-crown text-yellow-500 mr-3 mt-1 text-sm"></i>
                  <div>
                    <strong>Coach IA personalizado</strong>
                    <div class="text-xs text-gray-500">Plano de treino individual</div>
                  </div>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-crown text-yellow-500 mr-3 mt-1 text-sm"></i>
                  <div>
                    <strong>An√°lise de partidas GM</strong>
                    <div class="text-xs text-gray-500">Base 10M+ jogos</div>
                  </div>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-crown text-yellow-500 mr-3 mt-1 text-sm"></i>
                  <div>
                    <strong>Sess√µes 1:1 mensais</strong>
                    <div class="text-xs text-gray-500">Com FM/IM certificados</div>
                  </div>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-crown text-yellow-500 mr-3 mt-1 text-sm"></i>
                  <div>
                    <strong>Acesso beta features</strong>
                    <div class="text-xs text-gray-500">Primeiros a testar</div>
                  </div>
                </li>
              </ul>
              <button class="w-full bg-gradient-to-r from-yellow-600 to-orange-500 text-white py-3 rounded-lg font-semibold hover:from-yellow-700 hover:to-orange-600 transition-all">
                Agendar Demonstra√ß√£o
              </button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-12">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center">
          <div class="text-2xl font-bold mb-4">Aeon Chess</div>
          <p class="text-gray-400 mb-8">
            Domine o xadrez com intelig√™ncia artificial avan√ßada
          </p>
          <div class="flex justify-center space-x-6">
            <a href="#" class="text-gray-400 hover:text-white">Pol√≠tica de Privacidade</a>
            <a href="#" class="text-gray-400 hover:text-white">Termos de Servi√ßo</a>
            <a href="#" class="text-gray-400 hover:text-white">Documenta√ß√£o</a>
            <a href="https://github.com/NEO-SH1W4/aeon-chess" target="_blank" rel="noopener noreferrer" class="text-gray-400 hover:text-white flex items-center gap-1">
              <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.605-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
              </svg>
              GitHub
            </a>
          </div>
          <div class="mt-8 text-gray-500 text-sm">
            ¬© 2024 Aeon Chess. Todos os direitos reservados.
          </div>
        </div>
      </div>
    </footer>

    <!-- Access Request Modal -->
    <div
      x-show="showModal"
      x-cloak
      class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"
      @click.away="showModal = false"
    >
      <div class="bg-white dark:bg-dark-surface rounded-xl p-8 max-w-md w-full mx-4" @click.stop>
        <h3 class="text-2xl font-bold text-gray-900 dark:text-dark-text mb-4">Request Early Access</h3>
        <form @submit.prevent="submitAccessRequest()">
          <div class="space-y-4">
            <div>
              <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Email</label>
              <input
                type="email"
                x-model="form.email"
                required
                class="w-full px-3 py-2 border border-gray-300 dark:border-dark-border dark:bg-dark-bg dark:text-dark-text rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"
              />
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"
                >Company</label
              >
              <input
                type="text"
                x-model="form.company"
                class="w-full px-3 py-2 border border-gray-300 dark:border-dark-border dark:bg-dark-bg dark:text-dark-text rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"
              />
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Role</label>
              <select
                x-model="form.role"
                class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"
              >
                <option value="">Select your role</option>
                <option value="developer">Developer</option>
                <option value="tech-lead">Tech Lead</option>
                <option value="cto">CTO</option>
                <option value="other">Other</option>
              </select>
            </div>
          </div>
          <div class="flex gap-4 mt-6">
            <button
              type="button"
              @click="showModal = false"
              class="flex-1 px-4 py-2 border border-gray-300 dark:border-dark-border text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-50 dark:hover:bg-dark-border"
            >
              Cancel
            </button>
            <button
              type="submit"
              class="flex-1 px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700"
            >
              Request Access
            </button>
          </div>
        </form>
      </div>
    </div>

    <!-- Novo Sistema Cultural Avan√ßado -->
    <script src="js/terminal-cultural.js"></script>
    
    <!-- Alpine.js runtime configurado em js/app.js -->

    <script>
      // Jornada Gamificada - l√≥gica leve com Alpine
      function gamifiedJourney() {
        return {
          step: 1,
          totalSteps: 4,
          view: 'quiz',
          points: 0,
          badge: 'A',
          answers: { level: null, goal: null, time: null, style: null },
          persona: { title: '', subtitle: '', benefits: [] },
          recommendation: { plan: '', price: '', features: [] },
          perk: '',
          init() {},
          select(key, val) {
            this.answers[key] = val;
            this.points += 10;
            if (this.step < this.totalSteps) this.step++;
            else this.finish();
          },
          next() { if (this.step < this.totalSteps) this.step++; },
          prev() { if (this.step > 1) this.step--; },
          finish() {
            // Calcular persona
            const { level, goal, time, style } = this.answers;
            let title = 'Aprendiz Determinado';
            let subtitle = 'Voc√™ busca evolu√ß√£o consistente com foco pr√°tico.';
            let benefits = ['Trilhas guiadas por objetivos', 'Exerc√≠cios adaptativos semanais', 'Feedback imediato da IA'];
            if (goal === 'torneio' || level === 'avancado') {
              title = 'Competidor Estrat√©gico';
              subtitle = 'Seu foco √© performance competitiva e prepara√ß√£o s√©ria.';
              benefits = ['Prepara√ß√£o de repert√≥rio por advers√°rio', 'Relat√≥rios detalhados p√≥s-jogo', 'Simula√ß√µes de torneio'];
            } else if (goal === 'tatica' || style === 'agressivo') {
              title = 'T√°tico Implac√°vel';
              subtitle = 'Voc√™ valoriza iniciativa e c√°lculo preciso.';
              benefits = ['Drills de c√°lculo progressivos', 'Padr√µes t√°ticos frequentes', 'Treinos de tempo reduzido'];
            }
            this.persona = { title, subtitle, benefits };

            // Recomendar plano
            const plan = this.choosePlan(level, goal, time);
            const mapping = {
              iniciante: { plan: 'Iniciante', price: 'R$ 19/m√™s', features: ['10 an√°lises/dia', '50 puzzles/semana', 'IA at√© 1400 ELO'] },
              avancado: { plan: 'Mestre', price: 'R$ 129/m√™s', features: ['Coach IA', 'Base 10M+ jogos', 'IA at√© 2800 ELO'] },
              intermediario: { plan: 'Avan√ßado', price: 'R$ 59/m√™s', features: ['An√°lises ilimitadas', '2000+ exerc√≠cios', 'IA at√© 2200 ELO'] }
            };
            this.recommendation = mapping[plan];

            // Perk desbloqueado
            if (plan === 'intermediario') this.perk = 'Teste gr√°tis de 7 dias';
            else if (plan === 'avancado') this.perk = 'Sess√£o de onboarding com coach IA';
            else this.perk = 'Kit de inicia√ß√£o com trilha guiada';

            // Badge simples por pontos
            this.badge = this.points >= 30 ? 'S' : 'A';
            this.view = 'result';
          },
          choosePlan(level, goal, time) {
            // √Årvore simples: traduz para iniciante/intermediario/avancado
            if (level === 'avancado') return 'avancado';
            if (goal === 'torneio') return 'avancado';
            if (level === 'intermediario' && (goal === 'rating' || goal === 'tatica')) return 'intermediario';
            if (time === '10h+' && (goal === 'aberturas' || goal === 'rating')) return 'intermediario';
            return 'iniciante';
          },
          goToPricing() {
            // Rola at√© a se√ß√£o de pre√ßos e destaca o cart√£o correspondente
            const id = this.recommendation.plan.toLowerCase();
            const pricing = document.getElementById('pricing');
            if (pricing) pricing.scrollIntoView({ behavior: 'smooth', block: 'start' });
          }
        }
      }

      // Inicializa√ß√£o do tabuleiro com valida√ß√£o, Undo/Reset, barra de avalia√ß√£o e modos Demo/Jogar
      document.addEventListener('DOMContentLoaded', function () {
        const board = document.getElementById('aeon-board');
        if (!board || typeof Chess === 'undefined') return;
        const game = new Chess();
        const status = document.getElementById('aeon-status');
        const narration = document.getElementById('aeon-narration');
        const undoBtn = document.getElementById('aeon-undo');
        const resetBtn = document.getElementById('aeon-reset');
        const evalWhite = document.getElementById('aeon-eval-white');
        const evalBlack = document.getElementById('aeon-eval-black');
        const evalScore = document.getElementById('aeon-eval-score');
        const ctaPlay = document.getElementById('cta-play');
        const ctaDemo = document.getElementById('cta-demo');

        let demoTimer = null;
        let demoIndex = 0;
        let demoRunning = true;
        let humanVsAI = false;
        let engine = null;
        let engineReady = false;
        let engineBusy = false;

        function syncBoard() {
          if (typeof board.setPosition === 'function') {
            board.setPosition(game.fen());
          } else {
            board.position = game.fen();
          }
        }

        // Avalia√ß√£o simples por material (pawns)
        const pieceValues = { p: 1, n: 3, b: 3, r: 5, q: 9, k: 0 };
        function evaluateMaterial() {
          const fen = game.fen().split(' ')[0];
          let score = 0; // positivo favorece Brancas
          for (const ch of fen) {
            if (ch === '/' || !isNaN(Number(ch))) continue;
            const isUpper = ch === ch.toUpperCase();
            const val = pieceValues[ch.toLowerCase()] ?? 0;
            score += isUpper ? val : -val;
          }
          return score; // em pe√µes
        }

        function updateEvalBar() {
          const s = evaluateMaterial();
          const pctWhite = 50 + 50 * Math.tanh(s / 3);
          const pctClamped = Math.max(0, Math.min(100, pctWhite));
          const whiteH = pctClamped;
          const blackH = 100 - pctClamped;
          if (window.innerWidth >= 1024) {
            evalWhite.style.height = whiteH + '%';
            evalWhite.style.width = '100%';
            evalBlack.style.height = blackH + '%';
            evalBlack.style.width = '100%';
          } else {
            evalWhite.style.width = whiteH + '%';
            evalWhite.style.height = '100%';
            evalBlack.style.width = blackH + '%';
            evalBlack.style.height = '100%';
          }
          let txt = '=';
          if (Math.abs(s) >= 0.05) txt = (s > 0 ? '+' : '') + s.toFixed(1);
          evalScore.textContent = txt;
        }

        function setNarration(text) {
          if (narration) narration.textContent = text;
        }

        function updateStatus() {
          let msg = '';
          if (game.in_checkmate()) {
            msg = 'Xeque-mate! ' + (game.turn() === 'w' ? 'Pretas' : 'Brancas') + ' venceram.';
          } else if (game.in_draw()) {
            msg = 'Empate.';
          } else {
            msg = (game.turn() === 'w' ? 'Brancas' : 'Pretas') + ' para jogar' + (game.in_check() ? ' (em xeque)' : '');
          }
          status.textContent = msg;
          updateEvalBar();
        }

        // Trilhas culturais: Europa x LatAm, √çndia, R√∫ssia, Brasil
        const culturalTracks = [
          {
            name: 'Europa vs LatAm (Najdorf)',
            moves: ['e4','c5','Nf3','d6','d4','cxd4','Nxd4','Nf6','Nc3','a6','Bg5','e6','f4','Be7'],
            narr: [
              'Brancas (Escola Cl√°ssica Europeia) avan√ßam pelo centro.',
              'Pretas (Estilo Latino-americano) respondem com Sic√≠liana din√¢mica.',
              'Desenvolvimento com press√£o em e5 ‚Äî pragmatismo europeu.',
              'Estrutura flex√≠vel preparando ...g6 ou ...e6.',
              'Abertura do centro: jogo aberto em perspectiva.',
              'Contrajogo imediato no flanco da dama.',
              'Cavalo centralizado mira casas fortes.',
              'Desafio direto ao centro ‚Äî ritmo latino.',
              'Refor√ßo no centro; ideias de Bg5 e f4 no horizonte.',
              'Najdorf: ambi√ß√£o estrat√©gica das Pretas.',
              'Press√£o posicional cl√°ssica sobre o cavalo de f6.',
              'Estrat√©gia s√≥lida mantendo flexibilidade defensiva.',
              'Plano agressivo: lan√ßar ataque no roque curto.',
              'Pretas completam o desenvolvimento, prontas para contragolpes.'
            ]
          },
          {
            name: '√çndia (Defesa √çndia do Rei)',
            moves: ['d4','Nf6','c4','g6','Nc3','Bg7','e4','d6','Nf3','O-O','Be2','e5'],
            narr: [
              'Brancas escolhem 1.d4, caminho posicional amplamente estudado na √çndia.',
              'Pretas respondem com flexibilidade indiana (‚Ä¶Cf6).',
              'Estrutura cl√°ssica de pe√µes no centro da dama.',
              '‚Ä¶g6 anuncia a √çndia do Rei, arma favorita de muitos mestres indianos.',
              'Desenvolvimento natural rumo ao dom√≠nio central.',
              'O bispo fianchettado observa o centro e o flanco da dama.',
              'As Brancas cravam o espa√ßo com e4.',
              '‚Ä¶d6 prepara ‚Ä¶e5 e jogo complexo ‚Äî estilo combativo.',
              'Pe√ßas brancas coordenam para ocupar o centro.',
              'Roque curto, prontas para o embate central.',
              'Calma preparat√≥ria das Brancas.',
              '‚Ä¶e5 ‚Äî ruptura tem√°tica da √çndia do Rei, dinamismo cultural em a√ß√£o.'
            ]
          },
          {
            name: 'R√∫ssia (Defesa Eslava)',
            moves: ['d4','d5','c4','c6','Nf3','Nf6','Nc3','dxc4','a4','Bf5','e3','e6'],
            narr: [
              'Ritmo s√≥lido: 1.d4 d5, assinatura russa de resist√™ncia.',
              'Estrutura sim√©trica que privilegia precis√£o te√≥rica.',
              'As Brancas desafiam com c4 ‚Äî Gambito da Dama.',
              '‚Ä¶c6: Eslava, conhecida pela robustez sovi√©tica.',
              'Desenvolvimento s√≥brio das for√ßas.',
              '‚Ä¶Cf6 espelha a disciplina posicional.',
              'Coordena√ß√£o no centro e no flanco da dama.',
              'Tomada em c4: captura-tema da Eslava.',
              'a4 restringe ‚Ä¶b5 ‚Äî medida profil√°tica cl√°ssica.',
              '‚Ä¶Bf5: desenvolvimento ativo, manual de escola sovi√©tica.',
              'e3 liberta o bispo de f1 mantendose s√≥lido.',
              '‚Ä¶e6 completa uma cadeia compacta e resiliente.'
            ]
          },
          {
            name: 'Brasil (Ataque Indiano com tempero)',
            moves: ['e4','e5','Nf3','Nc6','Bc4','Nf6','d3','Bc5','c3','d6','O-O','a6'],
            narr: [
              'Toque brasileiro: 1.e4 e4-e5 com inten√ß√£o de jogo alegre e t√©cnico.',
              'Simetria inicial, abrindo caminho para criatividade.',
              'Cavalo em f3 ‚Äî desenvolvimento cl√°ssico com olhar ofensivo.',
              '‚Ä¶Nc6 acompanha com leveza e precis√£o.',
              'Bispo em c4: esp√≠rito italiano com gingado.',
              '‚Ä¶Nf6 pressiona e pede resposta fina.',
              'd3: estrutura flex√≠vel para um meio-jogo dan√ßante.',
              '‚Ä¶Bc5 harmoniza pe√ßas ‚Äî fluidez tropical.',
              'c3 prepara d4 no momento certo.',
              '‚Ä¶d6 confere estabilidade antes do carnaval t√°tico.',
              'Roque: prontid√£o para atacar os pontos fracos.',
              '‚Ä¶a6 previne Bb5 e mant√©m op√ß√µes ‚Äî malandragem posicional.'
            ]
          }
        ];
        let currentTrack = 0;

        function playNextDemoMove() {
          if (!demoRunning) return;
          const track = culturalTracks[currentTrack % culturalTracks.length];
          if (demoIndex >= track.moves.length) {
            demoIndex = 0; // reinicia o ciclo e passa para pr√≥xima trilha
            currentTrack = (currentTrack + 1) % culturalTracks.length;
            game.reset();
            syncBoard();
          }
          const t = culturalTracks[currentTrack % culturalTracks.length];
          const moveSan = t.moves[demoIndex];
          const move = game.move(moveSan, { sloppy: true });
          if (move) {
            syncBoard();
            setNarration(t.narr[demoIndex] || t.name);
            updateStatus();
            demoIndex++;
          }
        }

        function startDemo() {
          stopDemo();
          demoRunning = true;
          humanVsAI = false;
          game.reset();
          demoIndex = 0;
          syncBoard();
          const t = culturalTracks[currentTrack % culturalTracks.length];
          setNarration(t.name + ' ‚Äî come√ßando a trilha cultural.');
          updateStatus();
          demoTimer = setInterval(playNextDemoMove, 1500);
        }
        function stopDemo() {
          demoRunning = false;
          if (demoTimer) { clearInterval(demoTimer); demoTimer = null; }
        }

        // Inicializar Stockfish (opcional)
        function initEngine() {
          try {
            if (typeof Stockfish === 'undefined') return;
            engine = Stockfish();
            engine.onmessage = function (e) {
              const line = (typeof e === 'string') ? e : (e && e.data);
              if (!line) return;
              if (/uciok/.test(line)) engineReady = true;
              if (/bestmove\s(\w{4,5})/.test(line)) {
                engineBusy = false;
                const m = /bestmove\s(\w{4,5})/.exec(line)[1];
                applyBestmoveUci(m);
              }
            };
            engine.postMessage('uci');
          } catch (_) {}
        }

        function engineGo(fen, level) {
          if (!engine || !engineReady) return false;
          engineBusy = true;
          engine.postMessage('ucinewgame');
          engine.postMessage('isready');
          engine.postMessage('position fen ' + fen);
          // n√≠veis: beginner, club, master
          let movetime = 200; let depth = undefined;
          if (level === 'beginner') { movetime = 150; }
          else if (level === 'club') { movetime = 400; }
          else if (level === 'master') { movetime = 800; }
          if (movetime) engine.postMessage('go movetime ' + movetime);
          else if (depth) engine.postMessage('go depth ' + depth);
          return true;
        }

        function applyBestmoveUci(uci) {
          const from = uci.slice(0,2);
          const to = uci.slice(2,4);
          const promo = uci.length === 5 ? uci[4] : undefined;
          const mv = game.move({ from, to, promotion: promo || 'q' });
          if (mv) {
            syncBoard();
            const sideName = (mv.color === 'w') ? 'Brancas' : 'Pretas';
            const styleTag = (mv.color === 'w') ? 'Cl√°ssica' : 'Ataque';
            setNarration(`${sideName} (${styleTag}) jogam ${mv.san}.`);
            updateStatus();
          }
        }

        // IA simples (fallback 1-ply material)
        function aiBestMove() {
          const moves = game.moves({ verbose: true });
          if (moves.length === 0) return null;
          function materialScore(side) { return evaluateMaterial() * (side === 'w' ? 1 : -1); }
          const side = game.turn();
          let best = null;
          let bestScore = -Infinity;
          for (const m of moves) {
            game.move(m);
            const score = -materialScore(side);
            game.undo();
            if (score > bestScore) { bestScore = score; best = m; }
          }
          return best;
        }

        function aiMoveWithNarration() {
          const strong = document.getElementById('ai-strong')?.checked;
          const level = document.getElementById('ai-level')?.value || 'club';
          if (strong && engine && engineReady && !engineBusy) {
            engineGo(game.fen(), level);
            return; // aguardar√° bestmove async
          }
          const m = aiBestMove();
          if (!m) return;
          game.move(m);
          syncBoard();
          const sideName = (m.color === 'w') ? 'Brancas' : 'Pretas';
          const styleTag = (m.color === 'w') ? 'Cl√°ssica' : 'Ataque';
          setNarration(`${sideName} (${styleTag}) jogam ${m.san}.`);
          updateStatus();
        }

        // Drop handler: respeitar modos
        board.addEventListener('drop', function (e) {
          const detail = e.detail || {};
          const from = detail.source;
          const to = detail.target;
          if (!from || !to) return;
          if (demoRunning && !humanVsAI) {
            if (typeof e.preventDefault === 'function') e.preventDefault();
            return;
          }
          const move = game.move({ from, to, promotion: 'q' });
          if (move == null) {
            if (typeof e.preventDefault === 'function') e.preventDefault();
          } else {
            syncBoard();
            updateStatus();
            if (humanVsAI) {
              // Resposta da IA ap√≥s pequeno delay
              setTimeout(() => {
                aiMoveWithNarration();
              }, 400);
            }
          }
        });

        // Controles
        if (undoBtn) {
          undoBtn.addEventListener('click', function () {
            const undone = game.undo();
            if (undone) {
              syncBoard();
              updateStatus();
            }
          });
        }
        if (resetBtn) {
          resetBtn.addEventListener('click', function () {
            game.reset();
            syncBoard();
            updateStatus();
          });
        }
        if (ctaPlay) {
          ctaPlay.addEventListener('click', function () {
            stopDemo();
            humanVsAI = true;
            game.reset();
            syncBoard();
            setNarration('Partida demonstrativa: voc√™ (Brancas) vs IA. Boa sorte!');
            updateStatus();
          });
        }
        if (ctaDemo) {
          ctaDemo.addEventListener('click', function () {
            startDemo();
          });
        }

      // Inicializa em modo demo e engine
      syncBoard();
      startDemo();
      initEngine();
    });
    
    // Anima√ß√£o do Terminal Avan√ßada
    function initTerminalAnimation() {
      const terminalOutput = document.getElementById('terminal-output');
      if (!terminalOutput) return;
      
        // M√∫ltiplas experi√™ncias culturais de xadrez
        const culturalExperiences = {
          capablanca_alekhine: {
            info: {
              white: 'Jos√© Ra√∫l Capablanca',
              black: 'Alexander Alekhine', 
              event: 'World Championship Match',
              site: 'Buenos Aires',
              date: '1927.10.29',
              result: '0-1',
              opening: 'Queen\'s Gambit Declined',
              culture: 'Escola Cl√°ssica Cubana vs Escola Din√¢mica Russa'
            },
        moves: [
          // Abertura
          { move: 'd4', side: 'white', time: '14:00', eval: '+0.2', ply: 1 },
          { move: 'd5', side: 'black', time: '14:01', eval: '=', ply: 2 },
          { move: 'c4', side: 'white', time: '14:02', eval: '+0.3', ply: 3 },
          { move: 'e6', side: 'black', time: '14:03', eval: '+0.2', ply: 4 },
          { move: 'Nc3', side: 'white', time: '14:04', eval: '+0.3', ply: 5 },
          { move: 'Nf6', side: 'black', time: '14:05', eval: '+0.2', ply: 6 },
          { move: 'Bg5', side: 'white', time: '14:07', eval: '+0.4', ply: 7 },
          { move: 'Be7', side: 'black', time: '14:09', eval: '+0.3', ply: 8 },
          { move: 'e3', side: 'white', time: '14:11', eval: '+0.3', ply: 9 },
          { move: 'O-O', side: 'black', time: '14:13', eval: '+0.2', ply: 10 },
          // Meio-jogo inicial
          { move: 'Nf3', side: 'white', time: '14:15', eval: '+0.4', ply: 11 },
          { move: 'Nbd7', side: 'black', time: '14:18', eval: '+0.3', ply: 12 },
          { move: 'Rc1', side: 'white', time: '14:22', eval: '+0.5', ply: 13 },
          { move: 'c6', side: 'black', time: '14:25', eval: '+0.4', ply: 14 },
          { move: 'Bd3', side: 'white', time: '14:28', eval: '+0.6', ply: 15 },
          { move: 'dxc4', side: 'black', time: '14:32', eval: '+0.4', ply: 16 },
          { move: 'Bxc4', side: 'white', time: '14:34', eval: '+0.7', ply: 17 },
          { move: 'Nd5', side: 'black', time: '14:38', eval: '+0.3', ply: 18 },
          // Complica√ß√µes t√°ticas
          { move: 'Bxe7', side: 'white', time: '14:42', eval: '+0.8', ply: 19 },
          { move: 'Qxe7', side: 'black', time: '14:44', eval: '+0.6', ply: 20 },
          { move: 'O-O', side: 'white', time: '14:47', eval: '+0.9', ply: 21 },
          { move: 'Nxf3+', side: 'black', time: '14:52', eval: '+0.1', ply: 22 },
          { move: 'gxf3', side: 'white', time: '14:54', eval: '+0.2', ply: 23 },
          { move: 'e5', side: 'black', time: '14:58', eval: '-0.1', ply: 24 },
          { move: 'f4', side: 'white', time: '15:03', eval: '+0.3', ply: 25 },
          { move: 'exd4', side: 'black', time: '15:07', eval: '-0.2', ply: 26 },
          { move: 'exd4', side: 'white', time: '15:09', eval: '+0.1', ply: 27 },
          { move: 'Bf5', side: 'black', time: '15:14', eval: '-0.3', ply: 28 },
          // Meio-jogo complexo
          { move: 'Qe2', side: 'white', time: '15:18', eval: '+0.4', ply: 29 },
          { move: 'Qb4', side: 'black', time: '15:23', eval: '-0.1', ply: 30 },
          { move: 'a3', side: 'white', time: '15:26', eval: '+0.2', ply: 31 },
          { move: 'Qxb2', side: 'black', time: '15:31', eval: '-0.4', ply: 32 },
          { move: 'Rab1', side: 'white', time: '15:34', eval: '+0.1', ply: 33 },
          { move: 'Qxa3', side: 'black', time: '15:39', eval: '-0.6', ply: 34 },
          { move: 'Rxb7', side: 'white', time: '15:42', eval: '+0.3', ply: 35 },
          { move: 'Qd6', side: 'black', time: '15:47', eval: '-0.8', ply: 36 },
          { move: 'Rfb1', side: 'white', time: '15:51', eval: '+0.5', ply: 37 },
          { move: 'h6', side: 'black', time: '15:56', eval: '-1.1', ply: 38 },
          // Final t√°tico brilhante
          { move: 'h3', side: 'white', time: '16:01', eval: '+0.8', ply: 39 },
          { move: 'a5', side: 'black', time: '16:07', eval: '-1.3', ply: 40 },
          { move: 'Kh2', side: 'white', time: '16:12', eval: '+1.1', ply: 41 },
          { move: 'Ra6', side: 'black', time: '16:18', eval: '-1.8', ply: 42 },
          { move: 'Kg3', side: 'white', time: '16:23', eval: '+1.5', ply: 43 },
          { move: 'g6', side: 'black', time: '16:29', eval: '-2.1', ply: 44 },
          { move: 'Kf2', side: 'white', time: '16:34', eval: '+1.8', ply: 45 },
          { move: 'Re8!', side: 'black', time: '16:42', eval: '-0.3', ply: 46 }, // Movimento brilhante!
          { move: 'Qd1', side: 'white', time: '16:47', eval: '+0.1', ply: 47 },
          { move: 'Re2+!', side: 'black', time: '16:51', eval: '-1.2', ply: 48 }, // Sacrif√≠cio devastador
          { move: 'Kf1', side: 'white', time: '16:53', eval: '-0.8', ply: 49 },
          { move: 'Qd2', side: 'black', time: '16:56', eval: '-2.3', ply: 50 },
          { move: 'Qxd2', side: 'white', time: '16:58', eval: '-1.9', ply: 51 },
          { move: 'Rxd2', side: 'black', time: '16:59', eval: '-2.8', ply: 52 }
          // 0-1 - Capablanca resigna
          },
          
          kasparov_karpov: {
            info: {
              white: 'Anatoly Karpov',
              black: 'Garry Kasparov',
              event: 'World Championship 1984',
              site: 'Moscow',
              date: '1984.10.15',
              result: '1-0', 
              opening: 'Nimzo-Indian Defense',
              culture: 'Escola Sovi√©tica: Posicional vs Din√¢mica'
            },
            moves: [
              { move: 'd4', side: 'white', time: '15:00', eval: '+0.2', ply: 1 },
              { move: 'Nf6', side: 'black', time: '15:01', eval: '=', ply: 2 },
              { move: 'c4', side: 'white', time: '15:02', eval: '+0.3', ply: 3 },
              { move: 'e6', side: 'black', time: '15:03', eval: '+0.2', ply: 4 },
              { move: 'Nc3', side: 'white', time: '15:04', eval: '+0.3', ply: 5 },
              { move: 'Bb4', side: 'black', time: '15:06', eval: '+0.1', ply: 6 },
              { move: 'e3', side: 'white', time: '15:08', eval: '+0.2', ply: 7 },
              { move: 'O-O', side: 'black', time: '15:10', eval: '+0.3', ply: 8 },
              { move: 'Bd3', side: 'white', time: '15:13', eval: '+0.4', ply: 9 },
              { move: 'd5', side: 'black', time: '15:16', eval: '+0.2', ply: 10 }
            ]
          },
          
          fischer_spassky: {
            info: {
              white: 'Robert James Fischer',
              black: 'Boris Spassky',
              event: 'World Championship Match',
              site: 'Reykjavik',
              date: '1972.07.11',
              result: '1-0',
              opening: 'Queen\'s Gambit Declined',
              culture: 'Am√©rica vs URSS: Guerra Fria no Tabuleiro'
            },
            moves: [
              { move: 'd4', side: 'white', time: '16:00', eval: '+0.2', ply: 1 },
              { move: 'Nf6', side: 'black', time: '16:01', eval: '=', ply: 2 },
              { move: 'c4', side: 'white', time: '16:02', eval: '+0.3', ply: 3 },
              { move: 'e6', side: 'black', time: '16:03', eval: '+0.2', ply: 4 },
              { move: 'Nf3', side: 'white', time: '16:04', eval: '+0.3', ply: 5 },
              { move: 'd5', side: 'black', time: '16:05', eval: '+0.2', ply: 6 },
              { move: 'Nc3', side: 'white', time: '16:07', eval: '+0.4', ply: 7 },
              { move: 'Be7', side: 'black', time: '16:09', eval: '+0.3', ply: 8 }
            ]
          },
          
          polgar_kasparov: {
            info: {
              white: 'Judit Polg√°r',
              black: 'Garry Kasparov',
              event: 'Russia vs Rest of World',
              site: 'Moscow',
              date: '2002.09.07',
              result: '1-0',
              opening: 'Sicilian Defense',
              culture: 'Revolu√ß√£o Feminina: Quebrando Barreiras'
            },
            moves: [
              { move: 'e4', side: 'white', time: '14:30', eval: '+0.3', ply: 1 },
              { move: 'c5', side: 'black', time: '14:31', eval: '=', ply: 2 },
              { move: 'Nf3', side: 'white', time: '14:32', eval: '+0.2', ply: 3 },
              { move: 'd6', side: 'black', time: '14:33', eval: '+0.1', ply: 4 },
              { move: 'd4', side: 'white', time: '14:34', eval: '+0.4', ply: 5 },
              { move: 'cxd4', side: 'black', time: '14:35', eval: '+0.2', ply: 6 },
              { move: 'Nxd4', side: 'white', time: '14:36', eval: '+0.3', ply: 7 },
              { move: 'Nf6', side: 'black', time: '14:38', eval: '+0.2', ply: 8 }
            ]
          }
        };
        
        const gameCommentary = {
          capablanca_alekhine: {
          1: {
            text: "Capablanca escolhe 1.d4, preferindo posi√ß√µes s√≥lidas e estrat√©gicas. Este seria um dos √∫ltimos jogos como Campe√£o Mundial.",
            type: "opening",
            cultural: "Em 1927, o xadrez estava vivenciando uma revolu√ß√£o t√©cnica. Capablanca representava a escola cl√°ssica cubana-europeia."
          },
          2: {
            text: "Alekhine responde com a s√≥lida 1...d5. O futuro campe√£o buscava posi√ß√µes complexas onde sua capacidade de c√°lculo brilharia.",
            type: "response",
            cultural: "A escola russa de xadrez, representada por Alekhine, priorizava o c√°lculo concreto sobre princ√≠pios gerais."
          },
          7: {
            text: "O sistema Bg5 contra a Ortodoxa! Capablanca aplica press√£o imediata no cavalo de f6, buscando simplifica√ß√µes favor√°veis.",
            type: "strategy",
            cultural: "Esta variante foi popularizada pelos mestres austr√≠acos e alem√£es no in√≠cio do s√©culo XX."
          },
          22: {
            text: "Nxf3+! Alekhine inicia uma sequ√™ncia t√°tica brilhante, sacrificando a estrutura de pe√µes para ativar suas pe√ßas.",
            type: "tactic",
            cultural: "Este estilo de jogo din√¢mico definiria a era Alekhine (1927-1946) do xadrez mundial."
          },
          46: {
            text: "Re8!! O movimento que mudou a hist√≥ria do xadrez! Alekhine encontra uma manobra profund√≠ssima que Capablanca n√£o havia previsto.",
            type: "brilliance",
            cultural: "Este lance √© estudado at√© hoje nas academias de xadrez como exemplo de vis√£o posicional superior."
          },
          48: {
            text: "Re2+! O sacrif√≠cio de torre que selou o destino do match. Capablanca, pela primeira vez em sua carreira, foi superado taticamente.",
            type: "decisive",
            cultural: "Este momento marcou o fim da era Capablanca e o in√≠cio do reinado de Alekhine como Campe√£o Mundial."
          }
        }
      };
      
      let currentMoveIndex = 0;
      let isAnimating = false;
      let animationSpeed = 2500; // ms por movimento
      
      // Gera o tabuleiro ASCII para uma posi√ß√£o espec√≠fica
      function generateBoardASCII(ply) {
        // Simula√ß√£o simples - em produ√ß√£o, usar√≠amos Chess.js para gerar posi√ß√µes reais
        const initialBoard = [
          ['‚ôú', '‚ôû', '‚ôù', '‚ôõ', '‚ôö', '‚ôù', '‚ôû', '‚ôú'],
          ['‚ôü', '‚ôü', '‚ôü', '‚ôü', '‚ôü', '‚ôü', '‚ôü', '‚ôü'],
          [' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '],
          [' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '],
          [' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '],
          [' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '],
          ['‚ôô', '‚ôô', '‚ôô', '‚ôô', '‚ôô', '‚ôô', '‚ôô', '‚ôô'],
          ['‚ôñ', '‚ôò', '‚ôó', '‚ôï', '‚ôî', '‚ôó', '‚ôò', '‚ôñ']
        ];
        
        // Aplicar movimentos baseado no ply (simplificado)
        if (ply >= 1) initialBoard[6][3] = ' ', initialBoard[4][3] = '‚ôô'; // d4
        if (ply >= 2) initialBoard[1][3] = ' ', initialBoard[3][3] = '‚ôü'; // d5
        if (ply >= 3) initialBoard[6][2] = ' ', initialBoard[4][2] = '‚ôô'; // c4
        if (ply >= 4) initialBoard[1][4] = ' ', initialBoard[2][4] = '‚ôü'; // e6
        if (ply >= 5) initialBoard[7][1] = ' ', initialBoard[5][2] = '‚ôò'; // Nc3
        if (ply >= 6) initialBoard[0][6] = ' ', initialBoard[2][5] = '‚ôû'; // Nf6
        if (ply >= 7) initialBoard[7][2] = ' ', initialBoard[4][6] = '‚ôó'; // Bg5
        if (ply >= 8) initialBoard[0][5] = ' ', initialBoard[1][4] = '‚ôù'; // Be7
        if (ply >= 9) initialBoard[6][4] = ' ', initialBoard[5][4] = '‚ôô'; // e3
        if (ply >= 10) initialBoard[0][4] = ' ', initialBoard[0][6] = '‚ôö'; // O-O
        
        let ascii = '    a   b   c   d   e   f   g   h\n';
        ascii += '  ‚îå‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îê\n';
        
        for (let rank = 0; rank < 8; rank++) {
          ascii += `${8-rank} ‚îÇ`;
          for (let file = 0; file < 8; file++) {
            ascii += ` ${initialBoard[rank][file]} ‚îÇ`;
          }
          ascii += ` ${8-rank}\n`;
          if (rank < 7) {
            ascii += '  ‚îú‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚î§\n';
          }
        }
        
        ascii += '  ‚îî‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îò\n';
        ascii += '    a   b   c   d   e   f   g   h';
        
        return ascii;
      }
      
      async function displayMove(moveData, index) {
        const move = completeGame.moves[index];
        const commentary = completeGame.commentary[index + 1];
        
        // Movimento
        const moveDiv = document.createElement('div');
        moveDiv.className = 'text-yellow-400 mb-2';
        moveDiv.innerHTML = `<span class="text-gray-500">[${move.time}]</span> ${move.side === 'white' ? 'Capablanca' : 'Alekhine'} (${move.side === 'white' ? 'Brancas' : 'Pretas'}): ${move.move}`;
        terminalOutput.appendChild(moveDiv);
        
        // Tabuleiro
        if (index % 4 === 0 || commentary?.type === 'brilliance' || commentary?.type === 'decisive') {
          const boardDiv = document.createElement('div');
          boardDiv.innerHTML = `<pre class="text-gray-100 mb-4 text-xs">${generateBoardASCII(move.ply)}</pre>`;
          terminalOutput.appendChild(boardDiv);
        }
        
        // An√°lise da IA
        const analysisDiv = document.createElement('div');
        analysisDiv.className = 'text-green-400 mb-3';
        const winProb = parseFloat(move.eval.replace('+', '').replace('=', '0'));
        const whiteWin = 50 + winProb * 10;
        const blackWin = 100 - whiteWin;
        analysisDiv.innerHTML = `> An√°lise: ${move.eval} | Profundidade: ${Math.min(index + 8, 22)} plies<br>> Probabilidade: Brancas ${whiteWin.toFixed(1)}% | Pretas ${blackWin.toFixed(1)}%`;
        terminalOutput.appendChild(analysisDiv);
        
        // Coment√°rio espec√≠fico
        if (commentary) {
          const commentDiv = document.createElement('div');
          commentDiv.className = `text-blue-300 italic mb-3 ${commentary.type === 'brilliance' ? 'text-yellow-300 font-bold' : commentary.type === 'decisive' ? 'text-red-300 font-bold' : ''}`;
          await typeText(commentDiv, `"${commentary.text}"`, 25);
          terminalOutput.appendChild(commentDiv);
          
          if (commentary.cultural) {
            const culturalDiv = document.createElement('div');
            culturalDiv.className = 'text-purple-400 mt-2 mb-4 border-l-2 border-purple-400 pl-4';
            culturalDiv.innerHTML = `<strong>Contexto:</strong> ${commentary.cultural}`;
            terminalOutput.appendChild(culturalDiv);
          }
        }
        
        // Momentos especiais
        if (commentary?.type === 'brilliance') {
          const specialDiv = document.createElement('div');
          specialDiv.className = 'text-yellow-300 font-bold mb-3 bg-yellow-900 bg-opacity-20 p-2 rounded border border-yellow-600';
          specialDiv.innerHTML = '‚≠ê MOVIMENTO BRILHANTE! A an√°lise moderna confirma: este lance mudou completamente a avalia√ß√£o da posi√ß√£o.';
          terminalOutput.appendChild(specialDiv);
        }
        
        if (commentary?.type === 'decisive') {
          const decisiveDiv = document.createElement('div');
          decisiveDiv.className = 'text-red-300 font-bold mb-3 bg-red-900 bg-opacity-20 p-2 rounded border border-red-600';
          decisiveDiv.innerHTML = 'üí• LANCE DECISIVO! Capablanca n√£o conseguiu encontrar defesa adequada ap√≥s esta jogada.';
          terminalOutput.appendChild(decisiveDiv);
        }
        
        terminalOutput.scrollTop = terminalOutput.scrollHeight;
      }
      
      async function runCompleteGame() {
        if (isAnimating) return;
        isAnimating = true;
        
        // Header inicial
        terminalOutput.innerHTML = '';
        
        // Comando inicial
        const cmdDiv = document.createElement('div');
        cmdDiv.className = 'text-green-400 mb-2';
        cmdDiv.textContent = '$ aeon-chess replay --historic --players="Capablanca vs Alekhine" --year=1927';
        terminalOutput.appendChild(cmdDiv);
        
        // Info do jogo
        const infoDiv = document.createElement('div');
        infoDiv.className = 'text-blue-400 mb-4';
        infoDiv.innerHTML = `üìã Carregando: ${completeGame.info.event}<br>üìÖ ${completeGame.info.date} - ${completeGame.info.site}<br>üèÜ ${completeGame.info.opening}<br>üìä Resultado: ${completeGame.info.result} (Vit√≥ria de Alekhine)`;
        terminalOutput.appendChild(infoDiv);
        
        await new Promise(resolve => setTimeout(resolve, 2000));
        
        // Loading engine
        const loadDiv = document.createElement('div');
        loadDiv.className = 'text-yellow-400 mb-4';
        loadDiv.textContent = '‚ö° Inicializando engine Stockfish 16 | Profundidade: 22 plies';
        terminalOutput.appendChild(loadDiv);
        terminalOutput.scrollTop = terminalOutput.scrollHeight;
        
        await new Promise(resolve => setTimeout(resolve, 1500));
        
        // Reproduzir movimentos
        for (let i = 0; i < completeGame.moves.length && isAnimating; i++) {
          await displayMove(null, i);
          await new Promise(resolve => setTimeout(resolve, animationSpeed));
          
          // Especiais momentos - pause mais longa
          const commentary = completeGame.commentary[i + 1];
          if (commentary?.type === 'brilliance' || commentary?.type === 'decisive') {
            await new Promise(resolve => setTimeout(resolve, 2000));
          }
          
          // Final da partida
          if (i === completeGame.moves.length - 1) {
            const finalDiv = document.createElement('div');
            finalDiv.className = 'text-red-400 font-bold mb-4 bg-red-900 bg-opacity-20 p-3 rounded border border-red-600';
            finalDiv.innerHTML = 'üèÜ CAPABLANCA RESIGNA!<br>Alexander Alekhine torna-se o novo Campe√£o Mundial de Xadrez.<br>Uma era se encerra, outra come√ßa.';
            terminalOutput.appendChild(finalDiv);
            
            const statsDiv = document.createElement('div');
            statsDiv.className = 'text-purple-400 mt-4 mb-4 border-l-2 border-purple-400 pl-4';
            statsDiv.innerHTML = '<strong>Estat√≠sticas Finais:</strong><br>‚Ä¢ Dura√ß√£o: 2h 59min<br>‚Ä¢ Movimentos: 52<br>‚Ä¢ Precis√£o Capablanca: 89.2%<br>‚Ä¢ Precis√£o Alekhine: 94.7%<br>‚Ä¢ Momento decisivo: 46...Re8!!';
            terminalOutput.appendChild(statsDiv);
            
            terminalOutput.scrollTop = terminalOutput.scrollHeight;
          }
        }
        
        // Final message
        if (isAnimating) {
          const endDiv = document.createElement('div');
          endDiv.className = 'text-gray-400 mt-4';
          endDiv.innerHTML = 'üìö Digite "aeon-chess --help" para explorar mais partidas hist√≥ricas<br><span class="animate-pulse">_</span>';
          terminalOutput.appendChild(endDiv);
          
          setTimeout(() => {
            if (isAnimating) runCompleteGame();
          }, 8000);
        }
      }
      
      function typeText(element, text, speed = 50) {
        return new Promise((resolve) => {
          let i = 0;
          element.innerHTML = '';
          terminalOutput.appendChild(element);
          
          const timer = setInterval(() => {
            if (i < text.length) {
              element.innerHTML += text.charAt(i);
              i++;
              terminalOutput.scrollTop = terminalOutput.scrollHeight;
            } else {
              clearInterval(timer);
              resolve();
            }
          }, speed);
        });
      }
      
      function stopAnimation() {
        isAnimating = false;
      }
      
      // Inicia a anima√ß√£o
      runCompleteGame();
      
      // Controles dos bot√µes
      const continueBtn = document.querySelector('[data-terminal-continue]');
      if (continueBtn) {
        continueBtn.addEventListener('click', () => {
          if (!isAnimating) runCompleteGame();
        });
      }
      
      // Para a anima√ß√£o se o usu√°rio sair da se√ß√£o
      const observer = new IntersectionObserver((entries) => {
        const entry = entries[0];
        if (!entry.isIntersecting) {
          stopAnimation();
        } else if (!isAnimating) {
          setTimeout(runCompleteGame, 1000);
        }
      });
      
      const terminalSection = document.getElementById('terminal-demo');
      if (terminalSection) {
        observer.observe(terminalSection);
      }
    }
    
    // Inicia a anima√ß√£o do terminal quando a p√°gina carregar
    document.addEventListener('DOMContentLoaded', function() {
      setTimeout(initTerminalAnimation, 2000); // Delay para n√£o conflitar com outras anima√ß√µes
    });
    </script>
  </body>
</html>
