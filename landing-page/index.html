<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Aeon Chess - Plataforma de Xadrez com Intelig√™ncia Artificial</title>
    <meta name="description" content="Aprenda e domine o xadrez com Aeon Chess. IA avan√ßada, an√°lise de jogadas, treinamento personalizado e torneios online.">
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        darkMode: 'class',
        theme: {
          extend: {
            colors: {
              chess: {
                black: '#1a1a1a',
                white: '#f0f0f0',
                board: '#8B4513',
                accent: '#D4AF37',
                primary: '#2563eb',
                secondary: '#4338ca'
              }
            },
            fontFamily: {
              'chess': ['Georgia', 'serif'],
              'sans': ['Inter', 'sans-serif']
            }
          }
        }
      }
    </script>

    <!-- Alpine.js para interatividade -->
    <script src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
    
    <!-- Font Awesome para √≠cones -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');
      
      [x-cloak] { display: none !important; }
      
      /* Tema Cursor AI - Preto Chique */
      :root {
        --bg-primary: #0a0a0a;
        --bg-secondary: #111111;
        --bg-tertiary: #1a1a1a;
        --text-primary: #ffffff;
        --text-secondary: #a3a3a3;
        --text-muted: #6b7280;
        --accent: #3b82f6;
        --accent-hover: #2563eb;
        --border: #2a2a2a;
        --border-hover: #3a3a3a;
        --success: #10b981;
        --warning: #f59e0b;
        --error: #ef4444;
        --gradient: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
        --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.25);
        --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.3);
        --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.4);
        --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.5);
      }
      
      body {
        background: var(--bg-primary);
        color: var(--text-primary);
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
        line-height: 1.6;
      }
      
      /* Anima√ß√µes suaves */
      @keyframes fadeIn {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 1; transform: translateY(0); }
      }
      
      @keyframes float {
        0%, 100% { transform: translateY(0px); }
        50% { transform: translateY(-8px); }
      }
      
      @keyframes pulse-glow {
        0%, 100% { box-shadow: 0 0 20px rgba(59, 130, 246, 0.3); }
        50% { box-shadow: 0 0 30px rgba(59, 130, 246, 0.5); }
      }
      
      .animate-fade-in {
        animation: fadeIn 0.6s ease-out;
      }
      
      .animate-float {
        animation: float 3s ease-in-out infinite;
      }
      
      .animate-pulse-glow {
        animation: pulse-glow 2s ease-in-out infinite;
      }
      
      /* Gradientes modernos */
      .gradient-text {
        background: var(--gradient);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }
      
      .gradient-bg {
        background: var(--gradient);
      }
      
      /* Bot√µes estilizados */
      .btn-primary {
        background: var(--gradient);
        color: white;
        font-weight: 600;
        padding: 0.75rem 1.5rem;
        border-radius: 0.75rem;
        border: none;
        cursor: pointer;
        transition: all 0.2s ease;
        box-shadow: var(--shadow-md);
      }
      
      .btn-primary:hover {
        transform: translateY(-1px);
        box-shadow: var(--shadow-lg);
        filter: brightness(1.1);
      }
      
      .btn-secondary {
        background: transparent;
        color: var(--text-primary);
        font-weight: 600;
        padding: 0.75rem 1.5rem;
        border: 2px solid var(--border);
        border-radius: 0.75rem;
        cursor: pointer;
        transition: all 0.2s ease;
      }
      
      .btn-secondary:hover {
        border-color: var(--accent);
        background: rgba(59, 130, 246, 0.1);
        color: var(--accent);
      }
      
      /* Cards modernos */
      .card {
        background: var(--bg-secondary);
        border: 1px solid var(--border);
        border-radius: 1rem;
        padding: 1.5rem;
        box-shadow: var(--shadow-md);
        transition: all 0.3s ease;
      }
      
      .card:hover {
        border-color: var(--border-hover);
        box-shadow: var(--shadow-lg);
        transform: translateY(-2px);
      }
      
      /* Scrollbar personalizada */
      ::-webkit-scrollbar {
        width: 8px;
      }
      
      ::-webkit-scrollbar-track {
        background: var(--bg-primary);
      }
      
      ::-webkit-scrollbar-thumb {
        background: var(--border);
        border-radius: 4px;
      }
      
      ::-webkit-scrollbar-thumb:hover {
        background: var(--border-hover);
      }
      
      /* Navega√ß√£o */
      nav {
        background: rgba(10, 10, 10, 0.8);
        backdrop-filter: blur(20px);
        border-bottom: 1px solid var(--border);
      }
      
      /* Chess board specific styles */
      chess-board {
        border-radius: 0.75rem;
        overflow: hidden;
        box-shadow: var(--shadow-xl);
        border: 2px solid var(--border);
      }
      
      /* Evaluation bar */
      .eval-bar {
        background: linear-gradient(to bottom, #f8fafc 50%, #1f2937 50%);
        border: 1px solid var(--border);
        border-radius: 0.5rem;
        overflow: hidden;
      }
      
      /* Chess move highlights */
      .highlight-move {
        position: relative;
      }
      
      .highlight-move::before {
        content: '';
        position: absolute;
        inset: 30%;
        background: rgba(59, 130, 246, 0.5);
        border-radius: 50%;
        pointer-events: none;
      }
      
      .highlight-capture {
        position: relative;
      }
      
      .highlight-capture::before {
        content: '';
        position: absolute;
        inset: 10%;
        border: 3px solid rgba(239, 68, 68, 0.7);
        border-radius: 50%;
        pointer-events: none;
      }
      
      .highlight-selected {
        position: relative;
      }
      
      .highlight-selected::after {
        content: '';
        position: absolute;
        inset: 0;
        background: rgba(212, 175, 55, 0.3);
        pointer-events: none;
      }
    </style>
  
        <style>
            /* Estilos espec√≠ficos para xadrez */
            .chessboard-preview {
                width: 300px;
                height: 300px;
                margin: 2rem auto;
                background: repeating-conic-gradient(#e8e8e8 0% 25%, #1a1a2e 0% 50%) 50% / 75px 75px;
                border: 2px solid #0f4c75;
                border-radius: 8px;
                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
                position: relative;
                overflow: hidden;
            }
            
            .chess-piece {
                font-size: 32px;
                position: absolute;
                animation: float 3s ease-in-out infinite;
            }
            
            @keyframes float {
                0%, 100% { transform: translateY(0); }
                50% { transform: translateY(-10px); }
            }
            
            .feature-icon {
                font-size: 48px;
                margin-bottom: 1rem;
                color: #3282b8;
            }
            
            .game-modes {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                gap: 1rem;
                margin-top: 3rem;
            }
            
            .game-mode-card {
                background: rgba(22, 33, 62, 0.5);
                border: 1px solid #3282b8;
                border-radius: 8px;
                padding: 1.5rem;
                text-align: center;
                transition: all 0.3s ease;
            }
            
            .game-mode-card:hover {
                transform: translateY(-5px);
                box-shadow: 0 10px 20px rgba(50, 130, 184, 0.3);
            }
        </style>
    <link rel="stylesheet" href="css/chess-theme.css">
    
    	<!-- Chessboard and Chess.js -->
    <script type="module" src="https://unpkg.com/chessboard-element?module"></script>
    <script src="https://unpkg.com/chess.js@1.0.0/dist/chess.min.js"></script>
    
    <!-- Optional strong engine: Stockfish WASM -->
    <script src="https://cdn.jsdelivr.net/npm/stockfish@16/stockfish.wasm.js"></script>

    <style>
      /* Paleta harmonizada e estados de foco */
      :root {
        --bg: #0f0f10;
        --text: #e8e8e8;
        --muted: #b3b3b3;
        --accent: #D4AF37;
        --border: #2a2a2a;
      }
      body { background: var(--bg); color: var(--text); }
      .btn-primary {
        background: var(--accent);
        color: #111;
        font-weight: 600;
        padding: 0.75rem 1.25rem;
        border-radius: 0.5rem;
        transition: transform .15s ease, box-shadow .15s ease, background-color .15s ease;
      }
      .btn-primary:hover { transform: translateY(-1px); box-shadow: 0 8px 24px rgba(212,175,55,.24); }
      .btn-primary:focus-visible { outline: 2px solid #000; outline-offset: 2px; box-shadow: 0 0 0 4px rgba(212,175,55,.35); }
      .btn-secondary {
        border: 2px solid var(--accent);
        color: var(--accent);
        padding: 0.6875rem 1.125rem;
        border-radius: 0.5rem;
        font-weight: 600;
        transition: background-color .15s ease, color .15s ease;
      }
      .btn-secondary:hover { background-color: var(--accent); color: #111; }
      .btn-secondary:focus-visible { outline: 2px solid #000; outline-offset: 2px; box-shadow: 0 0 0 4px rgba(212,175,55,.35); }
    </style>
        </head>

  <body x-data="{ showModal: false, darkMode: false }" x-cloak>
    <!-- Navigation -->
    <nav class="fixed w-full z-50">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between h-16">
          <div class="flex items-center">
            <i class="fas fa-chess-king text-2xl mr-3" style="color: var(--accent);"></i>
            <span class="text-xl font-bold gradient-text">Aeon Chess</span>
            <span class="ml-2 px-2 py-1 text-xs rounded-full border" style="background: rgba(59, 130, 246, 0.1); color: var(--accent); border-color: rgba(59, 130, 246, 0.3);">
              PRO
            </span>
          </div>
          <div class="flex items-center space-x-6">
            <a href="#recursos" style="color: var(--text-secondary);" class="hover:text-blue-400 transition-colors">
              Recursos
            </a>
            <a href="#analise" style="color: var(--text-secondary);" class="hover:text-blue-400 transition-colors">
              An√°lise IA
            </a>
            <a href="#torneios" style="color: var(--text-secondary);" class="hover:text-blue-400 transition-colors">
              Torneios
            </a>
            <a href="#planos" style="color: var(--text-secondary);" class="hover:text-blue-400 transition-colors">
              Planos
            </a>
            <button id="nav-play" class="btn-primary">
              <i class="fas fa-play mr-2"></i>
              Jogar Agora
            </button>
          </div>
        </div>
      </div>
    </nav>

    <!-- Hero Section -->
    <section class="pt-32 pb-20" style="background: var(--bg-primary);">
      <!-- Background Chess Pattern -->
      <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="grid lg:grid-cols-2 gap-12 items-center">
          <!-- Left Column - Content -->
          <div class="text-center lg:text-left">
            <div class="inline-flex items-center px-4 py-2 bg-chess-accent/20 rounded-full text-chess-accent text-sm mb-6 border border-chess-accent/30">
              <i class="fas fa-crown mr-2"></i>
              <span>Mais de 50,000 jogadores ativos</span>
            </div>
            
            <h1 class="text-5xl lg:text-7xl font-bold mb-6 font-chess">
              Domine o
              <span class="gradient-text block">Xadrez</span>
              com IA Avan√ßada
            </h1>
            
            <p class="text-xl text-gray-300 mb-8 max-w-2xl">
              An√°lise profunda de partidas, treinamento personalizado e 
              advers√°rios de IA que se adaptam ao seu n√≠vel. Evolua do 
              iniciante ao mestre com tecnologia de ponta.
            </p>
            
            	<div class="flex flex-col sm:flex-row gap-4 justify-center lg:justify-start">
              <button id="cta-play" class="btn-primary">
                <i class="fas fa-chess mr-2"></i>
                Jogar Agora
              </button>
              <button id="cta-demo" class="btn-secondary">
                <i class="fas fa-play-circle mr-2"></i>
                Ver Demo
              </button>
            </div>
            
            <!-- AI controls -->
            <div class="mt-4 flex flex-col sm:flex-row gap-3 items-center justify-center lg:justify-start text-sm">
              <label class="flex items-center gap-2">
                <span class="text-gray-400">N√≠vel da IA</span>
                <select id="ai-level" class="bg-[#141415] border border-[var(--border)] rounded px-2 py-1">
                  <option value="beginner">Iniciante</option>
                  <option value="club" selected>Clube</option>
                  <option value="master">Mestre</option>
                </select>
              </label>
              <label class="flex items-center gap-2">
                <input id="ai-strong" type="checkbox" class="accent-[var(--accent)]">
                <span class="text-gray-400">IA Forte (Stockfish)</span>
              </label>
            </div>
            
            <!-- Stats -->
            <div class="grid grid-cols-3 gap-6 mt-12">
              <div>
                <div class="text-3xl font-bold gradient-text">2800+</div>
                <div class="text-sm text-gray-400">ELO da IA</div>
              </div>
              <div>
                <div class="text-3xl font-bold gradient-text">100K+</div>
                <div class="text-sm text-gray-400">Partidas/dia</div>
              </div>
              <div>
                <div class="text-3xl font-bold gradient-text">99.9%</div>
                <div class="text-sm text-gray-400">Precis√£o</div>
              </div>
            </div>
          </div>
          
          <!-- Right Column - Functional Chess Board + Eval -->
          <div class="flex justify-center lg:justify-end">
            <div class="flex flex-col lg:flex-row items-center lg:items-start gap-4">
              <!-- Board Card -->
              <div class="bg-[#141415] border border-[var(--border)] rounded-xl p-4 shadow-xl w-full max-w-sm">
                <chess-board id="aeon-board" draggable-pieces position="start" class="w-full" style="max-width: 100%; aspect-ratio: 1;"></chess-board>
                <div class="mt-4 flex flex-wrap items-center justify-center lg:justify-start gap-2">
                  <button id="aeon-undo" class="btn-secondary px-2 py-1 text-sm">
                    <i class="fas fa-rotate-left mr-1"></i>Desfazer
                  </button>
                  <button id="aeon-reset" class="btn-secondary px-2 py-1 text-sm">
                    <i class="fas fa-arrow-rotate-right mr-1"></i>Reset
                  </button>
                  <span id="aeon-eval-score" class="text-sm text-[var(--muted)] ml-auto">=</span>
                </div>
                <div id="aeon-status" class="mt-3 text-xs text-[var(--muted)] text-center lg:text-left break-all"></div>
                <div id="aeon-narration" class="mt-2 text-xs text-gray-400 italic text-center lg:text-left"></div>
              </div>

              <!-- Eval Bar -->
              <div class="flex lg:flex-col flex-row items-center lg:items-center select-none" aria-label="Barra de avalia√ß√£o">
                <div class="text-xs text-gray-400 mb-2 lg:mb-2 mr-2 lg:mr-0">Avalia√ß√£o</div>
                <div id="aeon-eval-bar" class="lg:w-4 w-20 rounded overflow-hidden border border-[var(--border)] lg:h-80 h-4" style="background: linear-gradient(to bottom, #f9fafb, #111827);">
                  <div id="aeon-eval-white" class="lg:bg-[#f9fafb] bg-[#f9fafb]" style="height: 50%; width: 50%;"></div>
                  <div id="aeon-eval-black" class="lg:bg-[#111827] bg-[#111827]" style="height: 50%; width: 50%;"></div>
                </div>
                <div class="text-[10px] text-gray-500 mt-2 lg:mt-2 ml-2 lg:ml-0 whitespace-nowrap">Brancas ‚ñ≤ / Pretas ‚ñº</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Performance Section -->
    <section id="demo" class="py-20 bg-white dark:bg-dark-bg">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-16">
          <h2 class="text-4xl font-bold text-gray-900 dark:text-dark-text mb-4">
            Veja a diferen√ßa que a IA faz
          </h2>
          <p class="text-xl text-gray-600 dark:text-dark-muted">
            Compara√ß√µes reais de desempenho e an√°lise
          </p>
        </div>

        <!-- Performance Comparison Table -->
        <div class="bg-gray-50 dark:bg-dark-surface rounded-xl p-8 mb-12">
          <div class="overflow-x-auto">
            <table class="w-full">
              <thead>
                <tr class="border-b border-gray-200 dark:border-dark-border">
                  <th class="text-left py-4 px-6 font-semibold text-gray-900 dark:text-dark-text">
                    An√°lise
                  </th>
                  <th class="text-center py-4 px-6 font-semibold text-gray-600 dark:text-dark-muted">
                    Jogador Humano
                  </th>
                  <th class="text-center py-4 px-6 font-semibold text-purple-600 dark:text-purple-400">
                    Aeon Chess IA
                  </th>
                  <th class="text-center py-4 px-6 font-semibold text-green-600 dark:text-green-400">
                    Precis√£o
                  </th>
                </tr>
              </thead>
              <tbody>
                <tr
                  class="border-b border-gray-100 dark:border-dark-border"
                  x-data="{ visible: false }"
                  x-intersect="visible = true"
                >
                  <td class="py-4 px-6 font-medium dark:text-dark-text">Melhores jogadas</td>
                  <td class="py-4 px-6 text-center">
                    <div class="bg-red-100 text-red-800 px-3 py-1 rounded-full text-sm">
                      65%
                    </div>
                  </td>
                  <td class="py-4 px-6 text-center">
                    <div
                      class="bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm"
                    >
                      98.5%
                    </div>
                  </td>
                  <td class="py-4 px-6 text-center">
                    <div
                      class="bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-sm font-bold"
                    >
                      +33.5%
                    </div>
                  </td>
                </tr>
                <tr class="border-b border-gray-100 dark:border-dark-border">
                  <td class="py-4 px-6 font-medium dark:text-dark-text">An√°lise t√°tica</td>
                  <td class="py-4 px-6 text-center">
                    <div class="bg-red-100 text-red-800 px-3 py-1 rounded-full text-sm">
                      3-5 min
                    </div>
                  </td>
                  <td class="py-4 px-6 text-center">
                    <div
                      class="bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm"
                    >
                      0.2s
                    </div>
                  </td>
                  <td class="py-4 px-6 text-center">
                    <div
                      class="bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-sm font-bold"
                    >
                      Instant√¢nea
                    </div>
                  </td>
                </tr>
                <tr>
                  <td class="py-4 px-6 font-medium dark:text-dark-text">Avalia√ß√£o posicional</td>
                  <td class="py-4 px-6 text-center">
                    <div class="bg-red-100 text-red-800 px-3 py-1 rounded-full text-sm">
                      70%
                    </div>
                  </td>
                  <td class="py-4 px-6 text-center">
                    <div
                      class="bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm"
                    >
                      99.2%
                    </div>
                  </td>
                  <td class="py-4 px-6 text-center">
                    <div
                      class="bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-sm font-bold"
                    >
                      +29.2%
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

        <!-- Terminal demo movido para a se√ß√£o pr√≥pria abaixo -->
      </div>
    </section>

    <!-- Terminal Chess Demo Section -->
    <section id="terminal-demo" class="py-20 bg-chess-dark relative overflow-hidden">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-12">
          <h2 class="text-4xl lg:text-5xl font-bold mb-4 font-chess">
            Xadrez no <span class="gradient-text">Terminal</span>
          </h2>
          <p class="text-xl text-gray-300 max-w-3xl mx-auto">
            Uma experi√™ncia √∫nica de xadrez com narra√ß√£o cultural e hist√≥rica
          </p>
        </div>
        
        <!-- Terminal Window -->
        <div class="max-w-4xl mx-auto">
          <div class="bg-gray-900 rounded-lg shadow-2xl overflow-hidden border border-gray-700">
            <!-- Terminal Header -->
            <div class="bg-gray-800 px-4 py-2 flex items-center justify-between">
              <div class="flex items-center space-x-2">
                <div class="w-3 h-3 rounded-full bg-red-500"></div>
                <div class="w-3 h-3 rounded-full bg-yellow-500"></div>
                <div class="w-3 h-3 rounded-full bg-green-500"></div>
              </div>
              <div class="text-gray-400 text-sm font-mono">aeon-chess@terminal</div>
            </div>
            
            <!-- Terminal Content -->
            <div id="terminal-output" class="p-6 font-mono text-sm leading-relaxed max-h-96 overflow-y-auto">
              <!-- Conte√∫do ser√° gerado dinamicamente pela anima√ß√£o -->
            </div>
          </div>
          
          <!-- Terminal Controls -->
          <div class="mt-6 flex flex-wrap justify-center gap-4">
            <button data-terminal-continue class="px-4 py-2 bg-chess-accent/20 text-chess-accent rounded border border-chess-accent/30 hover:bg-chess-accent/30 transition-all">
              <i class="fas fa-play mr-2"></i> Continuar Experi√™ncia
            </button>
            <button onclick="window.aeonTerminal?.switchToExperience('fischer_spassky')" class="px-4 py-2 bg-gray-700 text-gray-300 rounded hover:bg-gray-600 transition-all">
              <i class="fas fa-flag-usa mr-2"></i> Fischer vs Spassky
            </button>
            <button onclick="window.aeonTerminal?.switchToExperience('polgar_kasparov')" class="px-4 py-2 bg-gray-700 text-gray-300 rounded hover:bg-gray-600 transition-all">
              <i class="fas fa-venus mr-2"></i> Polg√°r vs Kasparov
            </button>
            <button class="px-4 py-2 bg-gray-700 text-gray-300 rounded hover:bg-gray-600 transition-all">
              <i class="fas fa-terminal mr-2"></i> Instalar CLI
            </button>
          </div>
        </div>
        
        <!-- Features Grid -->
        <div class="grid md:grid-cols-3 gap-8 mt-16">
          <div class="text-center">
            <div class="w-16 h-16 bg-chess-accent/20 rounded-full flex items-center justify-center mx-auto mb-4">
              <i class="fas fa-brain text-2xl text-chess-accent"></i>
            </div>
            <h3 class="text-xl font-semibold mb-2">IA Narrativa</h3>
            <p class="text-gray-400">
              Coment√°rios contextualizados sobre cada movimento,
              conectando hist√≥ria e estrat√©gia
            </p>
          </div>
          
          <div class="text-center">
            <div class="w-16 h-16 bg-chess-accent/20 rounded-full flex items-center justify-center mx-auto mb-4">
              <i class="fas fa-history text-2xl text-chess-accent"></i>
            </div>
            <h3 class="text-xl font-semibold mb-2">Partidas Hist√≥ricas</h3>
            <p class="text-gray-400">
              Revisite os grandes confrontos do xadrez mundial
              com an√°lise moderna
            </p>
          </div>
          
          <div class="text-center">
            <div class="w-16 h-16 bg-chess-accent/20 rounded-full flex items-center justify-center mx-auto mb-4">
              <i class="fas fa-code text-2xl text-chess-accent"></i>
            </div>
            <h3 class="text-xl font-semibold mb-2">CLI Completa</h3>
            <p class="text-gray-400">
              Interface de linha de comando para jogar,
              analisar e estudar xadrez
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- Gamified Journey Section -->
    <section id="journey" class="py-20 bg-[#0f0f10] border-t border-[var(--border)]">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-12">
          <h2 class="text-4xl font-bold font-chess mb-3">
            Encontre seu caminho com nossa Jornada Gamificada
          </h2>
          <p class="text-lg text-gray-300">4 passos r√°pidos para descobrir seu perfil e desbloquear uma oferta ideal</p>
        </div>

        <!-- Wizard -->
        <div x-data="gamifiedJourney()" x-init="init()" class="bg-[#141415] border border-[var(--border)] rounded-2xl p-6 lg:p-8 shadow-xl">
          <!-- Progress -->
          <div class="mb-6">
            <div class="flex items-center justify-between text-xs text-gray-400 mb-2">
              <span x-text="`Passo ${step} de ${totalSteps}`"></span>
              <span x-text="`${points} pts`"></span>
            </div>
            <div class="w-full h-2 bg-[#1c1c1e] rounded">
              <div class="h-2 bg-[var(--accent)] rounded transition-all" :style="`width: ${(step-1)/(totalSteps-1)*100}%`"></div>
            </div>
          </div>

          <!-- Steps -->
          <template x-if="view==='quiz'">
            <div class="space-y-8">
              <!-- Step 1 -->
              <div x-show="step===1">
                <h3 class="text-xl font-semibold mb-4">Qual √© seu n√≠vel atual?</h3>
                <div class="grid sm:grid-cols-3 gap-3">
                  <button @click="select('level','iniciante')" class="border border-[var(--border)] rounded-lg p-4 hover:border-[var(--accent)]">
                    <div class="font-semibold">Iniciante</div>
                    <div class="text-xs text-gray-400">At√© ~1200</div>
                  </button>
                  <button @click="select('level','intermediario')" class="border border-[var(--border)] rounded-lg p-4 hover:border-[var(--accent)]">
                    <div class="font-semibold">Intermedi√°rio</div>
                    <div class="text-xs text-gray-400">1200 - 1800</div>
                  </button>
                  <button @click="select('level','avancado')" class="border border-[var(--border)] rounded-lg p-4 hover:border-[var(--accent)]">
                    <div class="font-semibold">Avan√ßado</div>
                    <div class="text-xs text-gray-400">1800+</div>
                  </button>
                </div>
              </div>

              <!-- Step 2 -->
              <div x-show="step===2">
                <h3 class="text-xl font-semibold mb-4">Qual seu objetivo principal?</h3>
                <div class="grid sm:grid-cols-2 gap-3">
                  <button @click="select('goal','rating')" class="border border-[var(--border)] rounded-lg p-4 hover:border-[var(--accent)] text-left">
                    <div class="font-semibold">Subir rating</div>
                    <div class="text-xs text-gray-400">Plano focado em performance</div>
                  </button>
                  <button @click="select('goal','aberturas')" class="border border-[var(--border)] rounded-lg p-4 hover:border-[var(--accent)] text-left">
                    <div class="font-semibold">Dominar aberturas</div>
                    <div class="text-xs text-gray-400">Repert√≥rio e teoria</div>
                  </button>
                  <button @click="select('goal','tatica')" class="border border-[var(--border)] rounded-lg p-4 hover:border-[var(--accent)] text-left">
                    <div class="font-semibold">T√°tica e c√°lculo</div>
                    <div class="text-xs text-gray-400">Exerc√≠cios personalizados</div>
                  </button>
                  <button @click="select('goal','torneio')" class="border border-[var(--border)] rounded-lg p-4 hover:border-[var(--accent)] text-left">
                    <div class="font-semibold">Prepara√ß√£o para torneios</div>
                    <div class="text-xs text-gray-400">Treino competitivo</div>
                  </button>
                </div>
              </div>

              <!-- Step 3 -->
              <div x-show="step===3">
                <h3 class="text-xl font-semibold mb-4">Quanto tempo por semana?</h3>
                <div class="grid sm:grid-cols-4 gap-3">
                  <button @click="select('time','<2h')" class="border border-[var(--border)] rounded-lg p-4 hover:border-[var(--accent)]">&lt; 2h</button>
                  <button @click="select('time','2-5h')" class="border border-[var(--border)] rounded-lg p-4 hover:border-[var(--accent)]">2-5h</button>
                  <button @click="select('time','5-10h')" class="border border-[var(--border)] rounded-lg p-4 hover:border-[var(--accent)]">5-10h</button>
                  <button @click="select('time','10h+')" class="border border-[var(--border)] rounded-lg p-4 hover:border-[var(--accent)]">10h+</button>
                </div>
              </div>

              <!-- Step 4 -->
              <div x-show="step===4">
                <h3 class="text-xl font-semibold mb-4">Qual seu estilo de jogo?</h3>
                <div class="grid sm:grid-cols-3 gap-3">
                  <button @click="select('style','agressivo')" class="border border-[var(--border)] rounded-lg p-4 hover:border-[var(--accent)]">Agressivo</button>
                  <button @click="select('style','solido')" class="border border-[var(--border)] rounded-lg p-4 hover:border-[var(--accent)]">S√≥lido</button>
                  <button @click="select('style','equilibrado')" class="border border-[var(--border)] rounded-lg p-4 hover:border-[var(--accent)]">Equilibrado</button>
                </div>
              </div>

              <div class="flex justify-between pt-2">
                <button class="btn-secondary px-3 py-2" @click="prev()" :disabled="step===1">Voltar</button>
                <button class="btn-primary px-3 py-2" @click="next()" x-show="step<totalSteps">Continuar</button>
              </div>
            </div>
          </template>

          <!-- Result -->
          <template x-if="view==='result'">
            <div class="grid lg:grid-cols-3 gap-6">
              <div class="lg:col-span-2">
                <div class="flex items-center gap-3 mb-3">
                  <div class="w-8 h-8 rounded-full bg-[var(--accent)] text-black flex items-center justify-center font-bold" x-text="badge"></div>
                  <h3 class="text-2xl font-bold">Seu perfil: <span class="gradient-text" x-text="persona.title"></span></h3>
                </div>
                <p class="text-gray-300 mb-4" x-text="persona.subtitle"></p>
                <ul class="space-y-2 text-sm">
                  <template x-for="b in persona.benefits" :key="b">
                    <li class="flex items-start"><i class="fas fa-check text-green-500 mt-1 mr-2"></i><span x-text="b"></span></li>
                  </template>
                </ul>
              </div>
              <div class="bg-[#0f0f10] border border-[var(--border)] rounded-xl p-5">
                <div class="text-sm text-gray-400 mb-1">Plano recomendado</div>
                <div class="text-3xl font-bold mb-2" x-text="recommendation.plan"></div>
                <div class="text-gray-400 mb-4" x-text="recommendation.price"></div>
                <ul class="space-y-2 text-sm mb-4">
                  <template x-for="f in recommendation.features" :key="f"><li class="flex items-start"><i class="fas fa-star text-yellow-500 mt-1 mr-2"></i><span x-text="f"></span></li></template>
                </ul>
                <button class="w-full btn-primary" @click="goToPricing()">Ver plano</button>
                <div class="text-[11px] text-gray-500 mt-3">Voc√™ desbloqueou: <span class="text-[var(--accent)]" x-text="perk"></span></div>
              </div>
            </div>
          </template>
        </div>
      </div>
    </section>

    <!-- Main Content Area -->
    <section id="features" class="py-20 bg-gray-50 dark:bg-dark-surface">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-16">
          <h2 class="text-4xl font-bold text-gray-900 dark:text-dark-text mb-4">
            Intelig√™ncia que entende seu jogo
          </h2>
          <p class="text-xl text-gray-600 dark:text-dark-muted">
            Recursos avan√ßados de IA que se adaptam ao seu estilo
          </p>
        </div>

        <div class="grid md:grid-cols-3 gap-8">
          <!-- Feature 1: Context-Aware Commits -->
          <div
            class="bg-white dark:bg-dark-bg rounded-xl p-8 shadow-lg hover:shadow-xl transition-shadow"
          >
            <div
              class="w-16 h-16 bg-purple-100 rounded-lg flex items-center justify-center mb-6"
            >
              <span class="text-3xl">üß†</span>
            </div>
            <h3 class="text-2xl font-bold text-gray-900 dark:text-dark-text mb-4">An√°lise Contextual</h3>
            <p class="text-gray-600 dark:text-dark-muted mb-6">
              IA analisa suas jogadas e sugere as melhores continua√ß√µes baseadas no contexto da partida.
            </p>
            <div class="bg-gray-50 dark:bg-dark-surface rounded-lg p-4">
              <div class="text-sm font-mono">
                <div class="text-green-600">‚ôñ Bispo em e7 - Desenvolvimento s√≥lido</div>
                <div class="text-red-600">‚ö†Ô∏è Cavalo em a3 - Posi√ß√£o passiva</div>
                <div class="text-blue-600 mt-2">üë° Sugest√£o:</div>
                <div class="text-gray-800 font-semibold">
                  "Nf3 desenvolvendo com press√£o central"
                </div>
              </div>
            </div>
          </div>

          <!-- Feature 2: Predictive Analysis -->
          <div
            class="bg-white dark:bg-dark-bg rounded-xl p-8 shadow-lg hover:shadow-xl transition-shadow"
          >
            <div
              class="w-16 h-16 bg-blue-100 rounded-lg flex items-center justify-center mb-6"
            >
              <span class="text-3xl">üîÆ</span>
            </div>
            <h3 class="text-2xl font-bold text-gray-900 dark:text-dark-text mb-4">An√°lise Preditiva</h3>
            <p class="text-gray-600 dark:text-dark-muted mb-6">
              Identifique amea√ßas e oportunidades antes que se concretizem com previs√£o avan√ßada.
            </p>
            <div class="bg-gray-50 dark:bg-dark-surface rounded-lg p-4">
              <div class="flex items-center justify-between mb-2">
                <span class="text-sm font-medium">Avalia√ß√£o da Posi√ß√£o</span>
                <span class="text-lg font-bold text-green-600">+2.3</span>
              </div>
              <div class="w-full bg-gray-200 rounded-full h-2 mb-3">
                <div class="bg-green-500 h-2 rounded-full" style="width: 73%"></div>
              </div>
              <div class="text-xs text-gray-600">
                ‚ö†Ô∏è Amea√ßa t√°tica detectada em 3 lances: Nxf7!
              </div>
            </div>
          </div>

          <!-- Feature 3: Smart Automation -->
          <div
            class="bg-white dark:bg-dark-bg rounded-xl p-8 shadow-lg hover:shadow-xl transition-shadow"
          >
            <div
              class="w-16 h-16 bg-yellow-100 rounded-lg flex items-center justify-center mb-6"
            >
              <span class="text-3xl">‚ö°</span>
            </div>
            <h3 class="text-2xl font-bold text-gray-900 dark:text-dark-text mb-4">Treinamento Inteligente</h3>
            <p class="text-gray-600 dark:text-dark-muted mb-6">
              Sistema adaptativo que aprende seus padr√µes e otimiza seu treinamento automaticamente.
            </p>
            <div class="bg-gray-50 dark:bg-dark-surface rounded-lg p-4">
              <div class="space-y-2 text-sm">
                <div class="flex items-center">
                  <span class="w-2 h-2 bg-green-500 rounded-full mr-2"></span>
                  Exerc√≠cios de t√°tica personalizados
                </div>
                <div class="flex items-center">
                  <span class="w-2 h-2 bg-blue-500 rounded-full mr-2"></span>
                  An√°lise autom√°tica p√≥s-partida
                </div>
                <div class="flex items-center">
                  <span class="w-2 h-2 bg-purple-500 rounded-full mr-2"></span>
                  Repert√≥rio de aberturas adaptativo
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Social Proof Section -->
    <section class="py-20 bg-white dark:bg-dark-bg">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-16">
          <h2 class="text-4xl font-bold text-gray-900 dark:text-dark-text mb-4">
            Junte-se √† comunidade Aeon Chess
          </h2>
          <p class="text-xl text-gray-600 dark:text-dark-muted">
            Confiado por jogadores de todos os n√≠veis
          </p>
        </div>

        <!-- Stats Banner -->
        <div class="grid md:grid-cols-3 gap-8 mb-16">
          <div class="text-center">
            <div
              class="text-4xl font-bold text-purple-600 mb-2"
              x-text="stats.waitlist"
            >
              2,847
            </div>
            <div class="text-gray-600 dark:text-dark-muted">jogadores na lista de espera</div>
          </div>
          <div class="text-center">
            <div
              class="text-4xl font-bold text-purple-600 mb-2"
              x-text="stats.satisfaction + '%'"
            >
              94%
            </div>
            <div class="text-gray-600 dark:text-dark-muted">recomendam para amigos</div>
          </div>
          <div class="text-center">
            <div
              class="text-4xl font-bold text-purple-600 mb-2"
              x-text="stats.productivity + 'x'"
            >
              12x
            </div>
            <div class="text-gray-600 dark:text-dark-muted">melhoria m√©dia no rating</div>
          </div>
        </div>

        <!-- Testimonials -->
        <div class="grid md:grid-cols-2 gap-8 mb-16">
          <div class="bg-gray-50 dark:bg-dark-surface rounded-xl p-8">
            <div class="flex items-start">
              <img
                src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=60&h=60&fit=crop&crop=face&auto=format"
                class="w-12 h-12 rounded-full mr-4"
                alt="Alex Thompson"
              />
              <div>
                <p class="text-gray-800 dark:text-dark-text mb-4">
                  "As sugest√µes da IA s√£o incr√≠veis. √â como ter um Grande Mestre
                  analisando cada jogada comigo 24/7."
                </p>
                <div class="text-sm">
                  <div class="font-semibold text-gray-900 dark:text-dark-text">Carlos Silva</div>
                  <div class="text-gray-600 dark:text-dark-muted">FM - Rating 2350</div>
                </div>
              </div>
            </div>
          </div>

          <div class="bg-gray-50 dark:bg-dark-surface rounded-xl p-8">
            <div class="flex items-start">
              <img
                src="https://images.unsplash.com/photo-1494790108755-2616b612b786?w=60&h=60&fit=crop&crop=face&auto=format"
                class="w-12 h-12 rounded-full mr-4"
                alt="Maria Garcia"
              />
              <div>
                <p class="text-gray-800 dark:text-dark-text mb-4">
                  "Melhorei 300 pontos de rating em apenas 6 meses. A an√°lise
                  instant√¢nea √© revolucion√°ria."
                </p>
                <div class="text-sm">
                  <div class="font-semibold text-gray-900 dark:text-dark-text">Ana Santos</div>
                  <div class="text-gray-600 dark:text-dark-muted">Campe√£ Estadual</div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Urgency CTA -->
        <div
          class="bg-gradient-to-r from-purple-600 to-blue-600 rounded-2xl p-8 text-center text-white"
        >
          <div class="max-w-2xl mx-auto">
            <h3 class="text-3xl font-bold mb-4">Acesso Beta Limitado Abrindo em Breve</h3>
            <p class="text-xl mb-8 text-purple-100">
              Apenas 100 vagas dispon√≠veis para teste exclusivo. Seja um dos primeiros a
              experimentar o futuro do xadrez com IA.
            </p>

            <!-- Access Request Form -->
            <form @submit.prevent="submitAccessRequest()" class="max-w-md mx-auto">
              <div class="flex flex-col sm:flex-row gap-4">
                <input
                  type="email"
                  x-model="form.email"
                  placeholder="Digite seu email"
                  class="flex-1 px-4 py-3 rounded-lg text-gray-900 placeholder-gray-500"
                  required
                />
                <button
                  type="submit"
                  class="bg-yellow-500 text-purple-900 px-8 py-3 rounded-lg font-semibold hover:bg-yellow-400 transition-colors"
                >
                  Solicitar Acesso Priorit√°rio
                </button>
              </div>
              <p class="text-sm text-purple-100 mt-4">
                Sem spam. Cancele quando quiser.
              </p>
            </form>
          </div>
        </div>
      </div>
    </section>

    <!-- Pricing Section -->
    <section id="pricing" class="py-20 bg-gray-50 dark:bg-dark-surface">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-16">
          <h2 class="text-4xl font-bold text-gray-900 dark:text-dark-text mb-4">
            Pre√ßos simples e transparentes
          </h2>
          <p class="text-xl text-gray-600 dark:text-dark-muted">Escolha o plano ideal para voc√™</p>
        </div>

        <div class="grid lg:grid-cols-3 md:grid-cols-1 gap-8">
          <!-- Plano Iniciante -->
          <div class="bg-white dark:bg-dark-bg rounded-xl p-6 shadow-lg">
            <div class="text-center">
              <div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
                <i class="fas fa-chess-pawn text-blue-600 text-xl"></i>
              </div>
              <h3 class="text-2xl font-bold text-gray-900 dark:text-dark-text mb-2">Iniciante</h3>
              <p class="text-sm text-gray-500 mb-4">Ideal para quem est√° come√ßando</p>
              <div class="text-4xl font-bold text-blue-600 dark:text-blue-400 mb-1">R$ 19</div>
              <div class="text-gray-600 dark:text-dark-muted mb-6">por m√™s</div>
              <ul class="text-left space-y-3 mb-8">
                <li class="flex items-start">
                  <i class="fas fa-check text-green-500 mr-3 mt-1 text-sm"></i>
                  <div>
                    <strong>10 an√°lises por dia</strong>
                    <div class="text-xs text-gray-500">An√°lise b√°sica com sugest√µes</div>
                  </div>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check text-green-500 mr-3 mt-1 text-sm"></i>
                  <div>
                    <strong>Exerc√≠cios t√°ticos b√°sicos</strong>
                    <div class="text-xs text-gray-500">50 puzzles por semana</div>
                  </div>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check text-green-500 mr-3 mt-1 text-sm"></i>
                  <div>
                    <strong>5 aberturas principais</strong>
                    <div class="text-xs text-gray-500">Teoria essencial</div>
                  </div>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check text-green-500 mr-3 mt-1 text-sm"></i>
                  <div>
                    <strong>IA at√© 1400 ELO</strong>
                    <div class="text-xs text-gray-500">Oponente para iniciantes</div>
                  </div>
                </li>
              </ul>
              <button class="w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors">
                Come√ßar Agora
              </button>
            </div>
          </div>

          <!-- Plano Avan√ßado -->
          <div class="bg-white dark:bg-dark-bg rounded-xl p-6 shadow-lg border-2 border-purple-500 dark:border-purple-400 relative">
            <div class="absolute -top-3 left-1/2 transform -translate-x-1/2">
              <span class="bg-gradient-to-r from-purple-500 to-blue-500 text-white px-4 py-1 rounded-full text-sm font-semibold shadow-lg">
                üî• Mais Popular
              </span>
            </div>
            <div class="text-center">
              <div class="w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4">
                <i class="fas fa-chess-knight text-purple-600 text-xl"></i>
              </div>
              <h3 class="text-2xl font-bold text-gray-900 dark:text-dark-text mb-2">Avan√ßado</h3>
              <p class="text-sm text-gray-500 mb-4">Para jogadores s√©rios (1200-1800 ELO)</p>
              <div class="text-4xl font-bold text-purple-600 dark:text-purple-400 mb-1">R$ 59</div>
              <div class="text-gray-600 dark:text-dark-muted mb-6">por m√™s</div>
              <ul class="text-left space-y-3 mb-8">
                <li class="flex items-start">
                  <i class="fas fa-check text-green-500 mr-3 mt-1 text-sm"></i>
                  <div>
                    <strong>An√°lises ilimitadas</strong>
                    <div class="text-xs text-gray-500">Com engine Stockfish 15</div>
                  </div>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check text-green-500 mr-3 mt-1 text-sm"></i>
                  <div>
                    <strong>2000+ exerc√≠cios t√°ticos</strong>
                    <div class="text-xs text-gray-500">Problemas personalizados</div>
                  </div>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check text-green-500 mr-3 mt-1 text-sm"></i>
                  <div>
                    <strong>Repert√≥rio completo</strong>
                    <div class="text-xs text-gray-500">20+ aberturas com variantes</div>
                  </div>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check text-green-500 mr-3 mt-1 text-sm"></i>
                  <div>
                    <strong>IA at√© 2200 ELO</strong>
                    <div class="text-xs text-gray-500">N√≠vel clube forte</div>
                  </div>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check text-green-500 mr-3 mt-1 text-sm"></i>
                  <div>
                    <strong>Torneios mensais</strong>
                    <div class="text-xs text-gray-500">Premia√ß√£o R$ 500</div>
                  </div>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check text-green-500 mr-3 mt-1 text-sm"></i>
                  <div>
                    <strong>Relat√≥rios detalhados</strong>
                    <div class="text-xs text-gray-500">Progresso semanal</div>
                  </div>
                </li>
              </ul>
              <button class="w-full bg-gradient-to-r from-purple-600 to-blue-600 text-white py-3 rounded-lg font-semibold hover:from-purple-700 hover:to-blue-700 transition-all transform hover:scale-105">
                Come√ßar Teste 7 Dias
              </button>
            </div>
          </div>

          <!-- Plano Mestre -->
          <div class="bg-white dark:bg-dark-bg rounded-xl p-6 shadow-lg">
            <div class="text-center">
              <div class="w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4">
                <i class="fas fa-chess-king text-yellow-600 text-xl"></i>
              </div>
              <h3 class="text-2xl font-bold text-gray-900 dark:text-dark-text mb-2">Mestre</h3>
              <p class="text-sm text-gray-500 mb-4">Para jogadores de elite (1800+ ELO)</p>
              <div class="text-4xl font-bold text-yellow-600 dark:text-yellow-400 mb-1">R$ 129</div>
              <div class="text-gray-600 dark:text-dark-muted mb-6">por m√™s</div>
              <ul class="text-left space-y-3 mb-8">
                <li class="flex items-start">
                  <i class="fas fa-crown text-yellow-500 mr-3 mt-1 text-sm"></i>
                  <div>
                    <strong>Tudo do Avan√ßado +</strong>
                    <div class="text-xs text-gray-500">Recursos premium</div>
                  </div>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-crown text-yellow-500 mr-3 mt-1 text-sm"></i>
                  <div>
                    <strong>IA at√© 2800 ELO</strong>
                    <div class="text-xs text-gray-500">N√≠vel Grande Mestre</div>
                  </div>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-crown text-yellow-500 mr-3 mt-1 text-sm"></i>
                  <div>
                    <strong>Coach IA personalizado</strong>
                    <div class="text-xs text-gray-500">Plano de treino individual</div>
                  </div>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-crown text-yellow-500 mr-3 mt-1 text-sm"></i>
                  <div>
                    <strong>An√°lise de partidas GM</strong>
                    <div class="text-xs text-gray-500">Base 10M+ jogos</div>
                  </div>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-crown text-yellow-500 mr-3 mt-1 text-sm"></i>
                  <div>
                    <strong>Sess√µes 1:1 mensais</strong>
                    <div class="text-xs text-gray-500">Com FM/IM certificados</div>
                  </div>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-crown text-yellow-500 mr-3 mt-1 text-sm"></i>
                  <div>
                    <strong>Acesso beta features</strong>
                    <div class="text-xs text-gray-500">Primeiros a testar</div>
                  </div>
                </li>
              </ul>
              <button class="w-full bg-gradient-to-r from-yellow-600 to-orange-500 text-white py-3 rounded-lg font-semibold hover:from-yellow-700 hover:to-orange-600 transition-all">
                Agendar Demonstra√ß√£o
              </button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-12">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center">
          <div class="text-2xl font-bold mb-4">Aeon Chess</div>
          <p class="text-gray-400 mb-8">
            Domine o xadrez com intelig√™ncia artificial avan√ßada
          </p>
          <div class="flex justify-center space-x-6">
            <a href="#" class="text-gray-400 hover:text-white">Pol√≠tica de Privacidade</a>
            <a href="#" class="text-gray-400 hover:text-white">Termos de Servi√ßo</a>
            <a href="#" class="text-gray-400 hover:text-white">Documenta√ß√£o</a>
            <a href="https://github.com/NEO-SH1W4/aeon-chess" target="_blank" rel="noopener noreferrer" class="text-gray-400 hover:text-white flex items-center gap-1">
              <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.605-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
              </svg>
              GitHub
            </a>
          </div>
          <div class="mt-8 text-gray-500 text-sm">
            ¬© 2024 Aeon Chess. Todos os direitos reservados.
          </div>
        </div>
      </div>
    </footer>

    <!-- Access Request Modal -->
    <div
      x-show="showModal"
      x-cloak
      class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"
      @click.away="showModal = false"
    >
      <div class="bg-white dark:bg-dark-surface rounded-xl p-8 max-w-md w-full mx-4" @click.stop>
        <h3 class="text-2xl font-bold text-gray-900 dark:text-dark-text mb-4">Request Early Access</h3>
        <form @submit.prevent="submitAccessRequest()">
          <div class="space-y-4">
            <div>
              <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Email</label>
              <input
                type="email"
                x-model="form.email"
                required
                class="w-full px-3 py-2 border border-gray-300 dark:border-dark-border dark:bg-dark-bg dark:text-dark-text rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"
              />
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"
                >Company</label
              >
              <input
                type="text"
                x-model="form.company"
                class="w-full px-3 py-2 border border-gray-300 dark:border-dark-border dark:bg-dark-bg dark:text-dark-text rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"
              />
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Role</label>
              <select
                x-model="form.role"
                class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"
              >
                <option value="">Select your role</option>
                <option value="developer">Developer</option>
                <option value="tech-lead">Tech Lead</option>
                <option value="cto">CTO</option>
                <option value="other">Other</option>
              </select>
            </div>
          </div>
          <div class="flex gap-4 mt-6">
            <button
              type="button"
              @click="showModal = false"
              class="flex-1 px-4 py-2 border border-gray-300 dark:border-dark-border text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-50 dark:hover:bg-dark-border"
            >
              Cancel
            </button>
            <button
              type="submit"
              class="flex-1 px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700"
            >
              Request Access
            </button>
          </div>
        </form>
      </div>
    </div>

    <!-- Chess.js Library -->
    <script src="https://unpkg.com/chess.js@1.0.0/chess.min.js"></script>
    
    <!-- Aeon Chess Engine -->
    <script src="js/chess-engine.js"></script>
    
    <!-- Novo Sistema Cultural Avan√ßado -->
    <script src="js/terminal-cultural.js"></script>
    
    <!-- App Principal -->
    <script src="js/app.js"></script>
    
    <!-- Alpine.js runtime configurado em js/app.js -->

    <script>
      // Jornada Gamificada - l√≥gica leve com Alpine
      function gamifiedJourney() {
        return {
          step: 1,
          totalSteps: 4,
          view: 'quiz',
          points: 0,
          badge: 'A',
          answers: { level: null, goal: null, time: null, style: null },
          persona: { title: '', subtitle: '', benefits: [] },
          recommendation: { plan: '', price: '', features: [] },
          perk: '',
          init() {},
          select(key, val) {
            this.answers[key] = val;
            this.points += 10;
            if (this.step < this.totalSteps) this.step++;
            else this.finish();
          },
          next() { if (this.step < this.totalSteps) this.step++; },
          prev() { if (this.step > 1) this.step--; },
          finish() {
            // Calcular persona
            const { level, goal, time, style } = this.answers;
            let title = 'Aprendiz Determinado';
            let subtitle = 'Voc√™ busca evolu√ß√£o consistente com foco pr√°tico.';
            let benefits = ['Trilhas guiadas por objetivos', 'Exerc√≠cios adaptativos semanais', 'Feedback imediato da IA'];
            if (goal === 'torneio' || level === 'avancado') {
              title = 'Competidor Estrat√©gico';
              subtitle = 'Seu foco √© performance competitiva e prepara√ß√£o s√©ria.';
              benefits = ['Prepara√ß√£o de repert√≥rio por advers√°rio', 'Relat√≥rios detalhados p√≥s-jogo', 'Simula√ß√µes de torneio'];
            } else if (goal === 'tatica' || style === 'agressivo') {
              title = 'T√°tico Implac√°vel';
              subtitle = 'Voc√™ valoriza iniciativa e c√°lculo preciso.';
              benefits = ['Drills de c√°lculo progressivos', 'Padr√µes t√°ticos frequentes', 'Treinos de tempo reduzido'];
            }
            this.persona = { title, subtitle, benefits };

            // Recomendar plano
            const plan = this.choosePlan(level, goal, time);
            const mapping = {
              iniciante: { plan: 'Iniciante', price: 'R$ 19/m√™s', features: ['10 an√°lises/dia', '50 puzzles/semana', 'IA at√© 1400 ELO'] },
              avancado: { plan: 'Mestre', price: 'R$ 129/m√™s', features: ['Coach IA', 'Base 10M+ jogos', 'IA at√© 2800 ELO'] },
              intermediario: { plan: 'Avan√ßado', price: 'R$ 59/m√™s', features: ['An√°lises ilimitadas', '2000+ exerc√≠cios', 'IA at√© 2200 ELO'] }
            };
            this.recommendation = mapping[plan];

            // Perk desbloqueado
            if (plan === 'intermediario') this.perk = 'Teste gr√°tis de 7 dias';
            else if (plan === 'avancado') this.perk = 'Sess√£o de onboarding com coach IA';
            else this.perk = 'Kit de inicia√ß√£o com trilha guiada';

            // Badge simples por pontos
            this.badge = this.points >= 30 ? 'S' : 'A';
            this.view = 'result';
          },
          choosePlan(level, goal, time) {
            // √Årvore simples: traduz para iniciante/intermediario/avancado
            if (level === 'avancado') return 'avancado';
            if (goal === 'torneio') return 'avancado';
            if (level === 'intermediario' && (goal === 'rating' || goal === 'tatica')) return 'intermediario';
            if (time === '10h+' && (goal === 'aberturas' || goal === 'rating')) return 'intermediario';
            return 'iniciante';
          },
          goToPricing() {
            // Rola at√© a se√ß√£o de pre√ßos e destaca o cart√£o correspondente
            const id = this.recommendation.plan.toLowerCase();
            const pricing = document.getElementById('pricing');
            if (pricing) pricing.scrollIntoView({ behavior: 'smooth', block: 'start' });
          }
        }
      }

      // Inicializa√ß√£o do tabuleiro com avalia√ß√£o inteligente de n√≠vel
      document.addEventListener('DOMContentLoaded', function () {
        const board = document.getElementById('aeon-board');
        if (!board || typeof Chess === 'undefined') return;
        const game = new Chess();
        const status = document.getElementById('aeon-status');
        const narration = document.getElementById('aeon-narration');
        const undoBtn = document.getElementById('aeon-undo');
        const resetBtn = document.getElementById('aeon-reset');
        const evalWhite = document.getElementById('aeon-eval-white');
        const evalBlack = document.getElementById('aeon-eval-black');
        const evalScore = document.getElementById('aeon-eval-score');
        const ctaPlay = document.getElementById('cta-play');
        const ctaDemo = document.getElementById('cta-demo');

        let demoTimer = null;
        let demoIndex = 0;
        let demoRunning = true;
        let humanVsAI = false;
        let engine = null;
        let engineReady = false;
        let engineBusy = false;
        
        // Sistema de avalia√ß√£o inteligente
        let playerAnalysis = {
          moves: [],
          totalMoves: 0,
          accurateMovesCount: 0,
          tacticalMovesCount: 0,
          blundersCount: 0,
          averageThinkingTime: 0,
          openingKnowledge: 0,
          endgameSkill: 0,
          estimatedElo: 1200,
          playStyle: 'balanced',
          weaknesses: [],
          strengths: []
        };
        
        let moveStartTime = Date.now();
        let gameStarted = false;
        let movesAnalyzed = 0;

        function syncBoard() {
          if (typeof board.setPosition === 'function') {
            board.setPosition(game.fen());
          } else {
            board.position = game.fen();
          }
        }

        // Avalia√ß√£o simples por material (pawns)
        const pieceValues = { p: 1, n: 3, b: 3, r: 5, q: 9, k: 0 };
        function evaluateMaterial() {
          const fen = game.fen().split(' ')[0];
          let score = 0; // positivo favorece Brancas
          for (const ch of fen) {
            if (ch === '/' || !isNaN(Number(ch))) continue;
            const isUpper = ch === ch.toUpperCase();
            const val = pieceValues[ch.toLowerCase()] ?? 0;
            score += isUpper ? val : -val;
          }
          return score; // em pe√µes
        }

        function updateEvalBar() {
          const s = evaluateMaterial();
          const pctWhite = 50 + 50 * Math.tanh(s / 3);
          const pctClamped = Math.max(0, Math.min(100, pctWhite));
          const whiteH = pctClamped;
          const blackH = 100 - pctClamped;
          if (window.innerWidth >= 1024) {
            evalWhite.style.height = whiteH + '%';
            evalWhite.style.width = '100%';
            evalBlack.style.height = blackH + '%';
            evalBlack.style.width = '100%';
          } else {
            evalWhite.style.width = whiteH + '%';
            evalWhite.style.height = '100%';
            evalBlack.style.width = blackH + '%';
            evalBlack.style.height = '100%';
          }
          let txt = '=';
          if (Math.abs(s) >= 0.05) txt = (s > 0 ? '+' : '') + s.toFixed(1);
          evalScore.textContent = txt;
        }

        function setNarration(text) {
          if (narration) narration.textContent = text;
        }

        function updateStatus() {
          let msg = '';
          if (game.in_checkmate()) {
            msg = 'Xeque-mate! ' + (game.turn() === 'w' ? 'Pretas' : 'Brancas') + ' venceram.';
          } else if (game.in_draw()) {
            msg = 'Empate.';
          } else {
            msg = (game.turn() === 'w' ? 'Brancas' : 'Pretas') + ' para jogar' + (game.in_check() ? ' (em xeque)' : '');
          }
          status.textContent = msg;
          updateEvalBar();
        }

        // O sistema cultural agora √© gerenciado pelo AeonTerminalCultural
        // Mantemos apenas a l√≥gica do tabuleiro Hero

        // Inicializar Stockfish (opcional)
        function initEngine() {
          try {
            if (typeof Stockfish === 'undefined') return;
            engine = Stockfish();
            engine.onmessage = function (e) {
              const line = (typeof e === 'string') ? e : (e && e.data);
              if (!line) return;
              if (/uciok/.test(line)) engineReady = true;
              if (/bestmove\s(\w{4,5})/.test(line)) {
                engineBusy = false;
                const m = /bestmove\s(\w{4,5})/.exec(line)[1];
                applyBestmoveUci(m);
              }
            };
            engine.postMessage('uci');
          } catch (_) {}
        }

        function engineGo(fen, level) {
          if (!engine || !engineReady) return false;
          engineBusy = true;
          engine.postMessage('ucinewgame');
          engine.postMessage('isready');
          engine.postMessage('position fen ' + fen);
          // n√≠veis: beginner, club, master
          let movetime = 200; let depth = undefined;
          if (level === 'beginner') { movetime = 150; }
          else if (level === 'club') { movetime = 400; }
          else if (level === 'master') { movetime = 800; }
          if (movetime) engine.postMessage('go movetime ' + movetime);
          else if (depth) engine.postMessage('go depth ' + depth);
          return true;
        }

        function applyBestmoveUci(uci) {
          const from = uci.slice(0,2);
          const to = uci.slice(2,4);
          const promo = uci.length === 5 ? uci[4] : undefined;
          const mv = game.move({ from, to, promotion: promo || 'q' });
          if (mv) {
            syncBoard();
            const sideName = (mv.color === 'w') ? 'Brancas' : 'Pretas';
            const styleTag = (mv.color === 'w') ? 'Cl√°ssica' : 'Ataque';
            setNarration(`${sideName} (${styleTag}) jogam ${mv.san}.`);
            updateStatus();
          }
        }

        // IA simples (fallback 1-ply material)
        function aiBestMove() {
          const moves = game.moves({ verbose: true });
          if (moves.length === 0) return null;
          function materialScore(side) { return evaluateMaterial() * (side === 'w' ? 1 : -1); }
          const side = game.turn();
          let best = null;
          let bestScore = -Infinity;
          for (const m of moves) {
            game.move(m);
            const score = -materialScore(side);
            game.undo();
            if (score > bestScore) { bestScore = score; best = m; }
          }
          return best;
        }

        function aiMoveWithNarration() {
          const strong = document.getElementById('ai-strong')?.checked;
          const level = document.getElementById('ai-level')?.value || 'club';
          if (strong && engine && engineReady && !engineBusy) {
            engineGo(game.fen(), level);
            return; // aguardar√° bestmove async
          }
          const m = aiBestMove();
          if (!m) return;
          game.move(m);
          syncBoard();
          const sideName = (m.color === 'w') ? 'Brancas' : 'Pretas';
          const styleTag = (m.color === 'w') ? 'Cl√°ssica' : 'Ataque';
          setNarration(`${sideName} (${styleTag}) jogam ${m.san}.`);
          updateStatus();
        }

        // Sistema inteligente de an√°lise de movimentos
        function analyzePlayerMove(move, positionBefore, positionAfter) {
          if (!gameStarted) {
            gameStarted = true;
            moveStartTime = Date.now();
          }
          
          // Calcular tempo de pensamento
          const thinkingTime = Date.now() - moveStartTime;
          playerAnalysis.averageThinkingTime = 
            (playerAnalysis.averageThinkingTime * movesAnalyzed + thinkingTime) / (movesAnalyzed + 1);
          
          // Avaliar qualidade do movimento
          const evaluation = evaluateMove(move, positionBefore, positionAfter);
          playerAnalysis.moves.push({
            move: move.san,
            from: move.from,
            to: move.to,
            thinkingTime,
            evaluation,
            ply: game.ply()
          });
          
          movesAnalyzed++;
          playerAnalysis.totalMoves = movesAnalyzed;
          
          // Atualizar contadores baseado na avalia√ß√£o
          if (evaluation.score >= 0.8) playerAnalysis.accurateMovesCount++;
          if (evaluation.isTactical) playerAnalysis.tacticalMovesCount++;
          if (evaluation.score <= 0.3) playerAnalysis.blundersCount++;
          
          // Avaliar conhecimento de abertura (primeiros 12 movimentos)
          if (game.ply() <= 12) {
            playerAnalysis.openingKnowledge += evaluation.score / 12;
          }
          
          // Detectar padr√µes de jogo
          detectPlayStyle(move, evaluation);
          
          // Calcular ELO estimado a cada 3 movimentos
          if (movesAnalyzed % 3 === 0) {
            updateEstimatedElo();
            updateIntelligentNarration();
          }
          
          moveStartTime = Date.now();
        }
        
        function evaluateMove(move, posBefore, posAfter) {
          // Sistema b√°sico de avalia√ß√£o (seria mais sofisticado com engine completa)
          let score = 0.5; // neutro
          let isTactical = false;
          let reasoning = [];
          
          // Avalia captures
          if (move.captured) {
            score += 0.3;
            isTactical = true;
            reasoning.push('captura');
          }
          
          // Avalia checks
          if (move.san.includes('+')) {
            score += 0.2;
            isTactical = true;
            reasoning.push('xeque');
          }
          
          // Avalia desenvolvimento (pe√ßas menores saindo da primeira fileira)
          if ((move.piece === 'n' || move.piece === 'b') && 
              (move.from[1] === '1' || move.from[1] === '8')) {
            score += 0.2;
            reasoning.push('desenvolvimento');
          }
          
          // Avalia controle central
          const centralSquares = ['d4', 'd5', 'e4', 'e5'];
          if (centralSquares.includes(move.to)) {
            score += 0.15;
            reasoning.push('controle central');
          }
          
          // Penaliza movimentos repetitivos
          const recentMoves = playerAnalysis.moves.slice(-6);
          const similarMoves = recentMoves.filter(m => m.from === move.from || m.to === move.to);
          if (similarMoves.length > 2) {
            score -= 0.2;
            reasoning.push('movimento repetitivo');
          }
          
          // Avalia castling
          if (move.san.includes('O')) {
            score += 0.25;
            reasoning.push('roque');
          }
          
          return {
            score: Math.max(0, Math.min(1, score)),
            isTactical,
            reasoning
          };
        }
        
        function detectPlayStyle(move, evaluation) {
          // Detecta se o jogador prefere jogadas agressivas, s√≥lidas ou equilibradas
          const moveHistory = playerAnalysis.moves;
          if (moveHistory.length < 5) return;
          
          const recentMoves = moveHistory.slice(-5);
          const tacticalMoves = recentMoves.filter(m => m.evaluation.isTactical).length;
          const aggressiveRatio = tacticalMoves / recentMoves.length;
          
          if (aggressiveRatio > 0.6) {
            playerAnalysis.playStyle = 'aggressive';
          } else if (aggressiveRatio < 0.3) {
            playerAnalysis.playStyle = 'solid';
          } else {
            playerAnalysis.playStyle = 'balanced';
          }
        }
        
        function updateEstimatedElo() {
          if (playerAnalysis.totalMoves < 6) return;
          
          let baseElo = 1200;
          const accuracy = playerAnalysis.accurateMovesCount / playerAnalysis.totalMoves;
          const tacticalRatio = playerAnalysis.tacticalMovesCount / playerAnalysis.totalMoves;
          const blunderRatio = playerAnalysis.blundersCount / playerAnalysis.totalMoves;
          const avgThinkingTime = playerAnalysis.averageThinkingTime;
          
          // Ajustar ELO baseado na precis√£o
          if (accuracy > 0.8) baseElo += 400;      // 1600+
          else if (accuracy > 0.7) baseElo += 200; // 1400+
          else if (accuracy > 0.6) baseElo += 100; // 1300+
          else if (accuracy < 0.4) baseElo -= 100; // 1100-
          
          // Ajustar baseado em habilidade t√°tica
          if (tacticalRatio > 0.3) baseElo += 150;
          else if (tacticalRatio < 0.1) baseElo -= 100;
          
          // Penalizar blunders
          if (blunderRatio > 0.2) baseElo -= 200;
          
          // Ajustar baseado no tempo de pensamento
          if (avgThinkingTime > 15000) baseElo += 100; // Pensa mais = possivelmente melhor
          else if (avgThinkingTime < 3000) baseElo -= 50; // Muito r√°pido pode ser impreciso
          
          // Ajustar baseado no conhecimento de abertura
          if (playerAnalysis.openingKnowledge > 0.7) baseElo += 100;
          else if (playerAnalysis.openingKnowledge < 0.4) baseElo -= 50;
          
          playerAnalysis.estimatedElo = Math.max(800, Math.min(2400, baseElo));
        }
        
        function updateIntelligentNarration() {
          if (playerAnalysis.totalMoves < 6) return;
          
          const elo = playerAnalysis.estimatedElo;
          const accuracy = (playerAnalysis.accurateMovesCount / playerAnalysis.totalMoves * 100).toFixed(0);
          
          let levelDescription = '';
          let suggestion = '';
          
          if (elo >= 1800) {
            levelDescription = 'Avan√ßado';
            suggestion = 'Continue com esse excelente n√≠vel!';
          } else if (elo >= 1500) {
            levelDescription = 'Intermedi√°rio+';
            suggestion = 'Foque em t√°ticas complexas para crescer.';
          } else if (elo >= 1200) {
            levelDescription = 'Intermedi√°rio';
            suggestion = 'Trabalhe nas aberturas e finais.';
          } else {
            levelDescription = 'Iniciante+';
            suggestion = 'Pratique t√°ticas b√°sicas diariamente.';
          }
          
          const narrativeText = `üéØ N√≠vel detectado: ${levelDescription} (~${elo} ELO) | Precis√£o: ${accuracy}% | ${suggestion}`;
          setNarration(narrativeText);
        }
        
        function generateAIRecommendation() {
          const elo = playerAnalysis.estimatedElo;
          const style = playerAnalysis.playStyle;
          const accuracy = playerAnalysis.accurateMovesCount / playerAnalysis.totalMoves;
          
          // Mapear para os planos dispon√≠veis
          let recommendedPlan = 'Iniciante';
          let planFeatures = ['Treinamento b√°sico', 'Exerc√≠cios simples', 'IA adaptativa'];
          let specialOffer = 'Kit de inicia√ß√£o gratuito';
          
          if (elo >= 1700) {
            recommendedPlan = 'Mestre';
            planFeatures = ['Coach IA personalizado', 'An√°lise avan√ßada', 'Prepara√ß√£o torneios'];
            specialOffer = 'Sess√£o individual com GM';
          } else if (elo >= 1300) {
            recommendedPlan = 'Avan√ßado';
            planFeatures = ['An√°lises ilimitadas', 'T√°ticas avan√ßadas', 'Repert√≥rio completo'];
            specialOffer = '7 dias gr√°tis + relat√≥rio detalhado';
          }
          
          // Ajustar baseado no estilo
          if (style === 'aggressive') {
            planFeatures.push('Treinamento t√°tico intensivo');
          } else if (style === 'solid') {
            planFeatures.push('Masterclass em finais');
          }
          
          return {
            plan: recommendedPlan,
            elo: elo,
            accuracy: (accuracy * 100).toFixed(0),
            style: style,
            features: planFeatures,
            offer: specialOffer
          };
        }

        // Vari√°veis para controle de destaque de movimentos
        let selectedSquare = null;
        let highlightedMoves = [];
        
        // Fun√ß√£o para limpar destaques
        function clearHighlights() {
          highlightedMoves.forEach(square => {
            const element = board.querySelector(`[square="${square}"]`);
            if (element) {
              element.classList.remove('highlight-move', 'highlight-capture');
            }
          });
          highlightedMoves = [];
          if (selectedSquare) {
            const element = board.querySelector(`[square="${selectedSquare}"]`);
            if (element) {
              element.classList.remove('highlight-selected');
            }
            selectedSquare = null;
          }
        }
        
        // Fun√ß√£o para destacar movimentos poss√≠veis
        function highlightPossibleMoves(square) {
          clearHighlights();
          
          // Destacar quadrado selecionado
          selectedSquare = square;
          const selectedElement = board.querySelector(`[square="${square}"]`);
          if (selectedElement) {
            selectedElement.classList.add('highlight-selected');
          }
          
          // Obter movimentos poss√≠veis
          const moves = game.moves({ square: square, verbose: true });
          
          moves.forEach(move => {
            const targetElement = board.querySelector(`[square="${move.to}"]`);
            if (targetElement) {
              highlightedMoves.push(move.to);
              if (move.captured) {
                targetElement.classList.add('highlight-capture');
              } else {
                targetElement.classList.add('highlight-move');
              }
            }
          });
        }
        
        // Click handler para selecionar pe√ßas
        board.addEventListener('click', function (e) {
          const square = e.target.getAttribute('square');
          if (!square) return;
          
          const piece = game.get(square);
          const turn = game.turn();
          
          // Se clicou em uma pe√ßa do jogador da vez
          if (piece && piece.color === turn) {
            // Se √© a vez do humano no modo vs IA
            if (humanVsAI && turn === 'w') {
              highlightPossibleMoves(square);
            }
            // Se n√£o est√° em modo vs IA (modo demo ou explora√ß√£o)
            else if (!humanVsAI) {
              highlightPossibleMoves(square);
            }
          }
          // Se clicou em um quadrado destacado (movimento poss√≠vel)
          else if (selectedSquare && highlightedMoves.includes(square)) {
            // Executar o movimento
            const move = game.move({ from: selectedSquare, to: square, promotion: 'q' });
            if (move) {
              clearHighlights();
              
              // Analisar movimento do jogador (somente em modo demonstrativo)
              if (humanVsAI) {
                analyzePlayerMove(move, game.fen(), game.fen());
              }
              
              setTimeout(() => {
                syncBoard();
                updateStatus();
                if (humanVsAI && !game.game_over()) {
                  // Resposta da IA ap√≥s pequeno delay
                  setTimeout(() => {
                    aiMoveWithNarration();
                  }, 400);
                } else if (game.game_over() && humanVsAI && movesAnalyzed >= 8) {
                  // Gerar recomenda√ß√£o final ap√≥s partida demonstrativa
                  setTimeout(() => {
                    const recommendation = generateAIRecommendation();
                    showIntelligentRecommendation(recommendation);
                  }, 2000);
                }
              }, 100);
            }
          }
          // Se clicou em outro lugar, limpar destaques
          else {
            clearHighlights();
          }
        });
        
        // Drop handler correto para chessboard-element
        board.addEventListener('drop', function (e) {
          const detail = e.detail || {};
          const from = detail.source;
          const to = detail.target;
          
          clearHighlights(); // Limpar destaques ao arrastar
          
          // Validar movimento com chess.js
          try {
            const positionBefore = game.fen();
            const move = game.move({ from, to, promotion: 'q' });
            if (move) {
              // Movimento v√°lido - sincronizar tabuleiro e analisar
              const positionAfter = game.fen();
              
              // Analisar movimento do jogador (somente em modo demonstrativo)
              if (humanVsAI) {
                analyzePlayerMove(move, positionBefore, positionAfter);
              }
              
              setTimeout(() => {
                syncBoard();
                updateStatus();
                if (humanVsAI && !game.game_over()) {
                  // Resposta da IA ap√≥s pequeno delay
                  setTimeout(() => {
                    aiMoveWithNarration();
                  }, 400);
                } else if (game.game_over() && humanVsAI && movesAnalyzed >= 8) {
                  // Gerar recomenda√ß√£o final ap√≥s partida demonstrativa
                  setTimeout(() => {
                    const recommendation = generateAIRecommendation();
                    showIntelligentRecommendation(recommendation);
                  }, 2000);
                }
              }, 100);
            } else {
              // Movimento inv√°lido - retornar pe√ßa
              setTimeout(() => syncBoard(), 100);
            }
          } catch (err) {
            // Erro na valida√ß√£o - retornar pe√ßa
            console.warn('Movimento inv√°lido:', from, '->', to);
            setTimeout(() => syncBoard(), 100);
          }
        });
        
        // Fun√ß√£o para exibir recomenda√ß√£o inteligente
        function showIntelligentRecommendation(rec) {
          const journeySection = document.getElementById('journey');
          if (journeySection) {
            // Scroll suave at√© a se√ß√£o
            journeySection.scrollIntoView({ behavior: 'smooth', block: 'start' });
            
            // Atualizar interface com recomenda√ß√£o IA
            setTimeout(() => {
              const recommendationHTML = `
                <div class="bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl p-6 mb-6 text-white">
                  <div class="flex items-center mb-4">
                    <div class="w-12 h-12 bg-white/20 rounded-full flex items-center justify-center mr-4">
                      <i class="fas fa-robot text-2xl"></i>
                    </div>
                    <div>
                      <h3 class="text-xl font-bold">An√°lise IA Completa</h3>
                      <p class="text-blue-100 text-sm">Baseada em ${playerAnalysis.totalMoves} movimentos analisados</p>
                    </div>
                  </div>
                  <div class="grid md:grid-cols-3 gap-4 mb-4">
                    <div class="text-center">
                      <div class="text-2xl font-bold">${rec.elo}</div>
                      <div class="text-sm text-blue-100">ELO Estimado</div>
                    </div>
                    <div class="text-center">
                      <div class="text-2xl font-bold">${rec.accuracy}%</div>
                      <div class="text-sm text-blue-100">Precis√£o</div>
                    </div>
                    <div class="text-center">
                      <div class="text-2xl font-bold capitalize">${rec.style}</div>
                      <div class="text-sm text-blue-100">Estilo</div>
                    </div>
                  </div>
                  <div class="bg-white/10 rounded-lg p-4">
                    <h4 class="font-semibold mb-2">üéØ Plano Recomendado: ${rec.plan}</h4>
                    <p class="text-sm mb-2">‚ú® Oferta exclusiva: ${rec.offer}</p>
                    <div class="text-xs text-blue-100">
                      Recursos inclusos: ${rec.features.join(', ')}
                    </div>
                  </div>
                </div>
              `;
              
              // Inserir antes do formul√°rio existente
              const wizardDiv = journeySection.querySelector('[x-data="gamifiedJourney()"]');
              if (wizardDiv) {
                wizardDiv.insertAdjacentHTML('beforebegin', recommendationHTML);
              }
            }, 1000);
          }
        }

        // Handler adicional para snap back de movimentos inv√°lidos
        board.addEventListener('snapback-end', function (e) {
          syncBoard();
        });

        // Controles
        if (undoBtn) {
          undoBtn.addEventListener('click', function () {
            const undone = game.undo();
            if (undone) {
              syncBoard();
              updateStatus();
            }
          });
        }
        if (resetBtn) {
          resetBtn.addEventListener('click', function () {
            game.reset();
            syncBoard();
            updateStatus();
          });
        }
        if (ctaPlay) {
          ctaPlay.addEventListener('click', function () {
            // Resetar an√°lise
            humanVsAI = true;
            gameStarted = false;
            movesAnalyzed = 0;
            playerAnalysis = {
              moves: [],
              totalMoves: 0,
              accurateMovesCount: 0,
              tacticalMovesCount: 0,
              blundersCount: 0,
              averageThinkingTime: 0,
              openingKnowledge: 0,
              endgameSkill: 0,
              estimatedElo: 1200,
              playStyle: 'balanced',
              weaknesses: [],
              strengths: []
            };
            moveStartTime = Date.now();
            
            // Resetar jogo
            game.reset();
            syncBoard();
            setNarration('üéÆ Partida demonstrativa iniciada! Voc√™ joga com as Brancas. Fa√ßa seu movimento para come√ßar a an√°lise IA.');
            updateStatus();
            
            // Destacar tabuleiro
            board.style.boxShadow = '0 0 20px rgba(59, 130, 246, 0.5)';
            setTimeout(() => {
              board.style.boxShadow = 'var(--shadow-xl)';
            }, 2000);
          });
        }
        if (ctaDemo) {
          ctaDemo.addEventListener('click', function () {
            // Scroll para o terminal demo
            const terminalSection = document.getElementById('terminal-demo');
            if (terminalSection) {
              terminalSection.scrollIntoView({ behavior: 'smooth' });
            }
          });
        }

      // Inicializa o tabuleiro Hero e engine
      // IMPORTANTE: Resetar o jogo primeiro para garantir posi√ß√£o inicial
      game.reset();
      syncBoard();
      updateStatus();
      setNarration('Clique em uma pe√ßa para ver os movimentos poss√≠veis, ou clique em "Jogar Agora" para jogar contra a IA.');
      initEngine();
    });
    
    // O novo sistema cultural avan√ßado √© auto-inicializado via js/terminal-cultural.js
    // Todo o c√≥digo antigo do terminal foi removido
    </script>
  </body>
</html>
