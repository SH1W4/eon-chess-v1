"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/index",{

/***/ "./src/shared/engine/ChessEngineBase.ts":
/*!**********************************************!*\
  !*** ./src/shared/engine/ChessEngineBase.ts ***!
  \**********************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ChessEngineBase\": function() { return /* binding */ ChessEngineBase; }\n/* harmony export */ });\n/* harmony import */ var chess_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! chess.js */ \"./node_modules/chess.js/dist/esm/chess.js\");\n/* harmony import */ var _constants_game__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants/game */ \"./src/shared/constants/game.ts\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! events */ \"./node_modules/next/dist/compiled/events/events.js\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\nclass ChessEngineBase {\n    // Estado do jogo\n    getBoard() {\n        const board = this.game.board();\n        return board.map((row)=>row.map((square)=>square ? {\n                    type: square.type,\n                    color: square.color\n                } : null).filter((piece)=>piece !== null));\n    }\n    getFEN() {\n        return this.game.fen();\n    }\n    setFEN(fen) {\n        try {\n            // Na nova versão do chess.js, load() já valida o FEN\n            this.game.load(fen);\n            this.emitEvent({\n                type: \"POSITION_CHANGED\",\n                fen\n            });\n        } catch (e) {\n            throw new Error(\"Invalid FEN string\");\n        }\n    }\n    // Movimentos\n    getPossibleMoves(position) {\n        const moves = this.game.moves({\n            square: this.positionToSquare(position),\n            verbose: true\n        });\n        return moves.map((move)=>({\n                from: this.squareToPosition(move.from),\n                to: this.squareToPosition(move.to),\n                piece: {\n                    type: move.piece,\n                    color: this.getCurrentPlayer()\n                },\n                captured: move.captured ? {\n                    type: move.captured,\n                    color: this.getCurrentPlayer() === \"white\" ? \"black\" : \"white\"\n                } : undefined,\n                promotion: move.promotion\n            }));\n    }\n    makeMove(from, to) {\n        const move = this.game.move({\n            from: this.positionToSquare(from),\n            to: this.positionToSquare(to),\n            promotion: \"q\" // Auto-promove para rainha por padrão\n        });\n        if (move) {\n            const chessMove = {\n                from,\n                to,\n                piece: {\n                    type: move.piece,\n                    color: move.color === \"w\" ? \"white\" : \"black\"\n                },\n                captured: move.captured ? {\n                    type: move.captured,\n                    color: move.color === \"w\" ? \"black\" : \"white\"\n                } : undefined,\n                promotion: move.promotion\n            };\n            this.emitEvent({\n                type: \"MOVE_MADE\",\n                move: chessMove\n            });\n            if (this.isCheck()) {\n                this.emitEvent({\n                    type: \"CHECK\",\n                    kingPosition: this.findKing(this.getCurrentPlayer())\n                });\n            }\n            if (this.isGameOver()) {\n                let result = \"draw\";\n                if (this.isCheckmate()) {\n                    result = this.getCurrentPlayer() === \"white\" ? \"black\" : \"white\";\n                }\n                this.emitEvent({\n                    type: \"GAME_OVER\",\n                    result\n                });\n            }\n            return true;\n        }\n        return false;\n    }\n    undoLastMove() {\n        const move = this.game.undo();\n        if (move) {\n            this.emitEvent({\n                type: \"POSITION_CHANGED\",\n                fen: this.getFEN()\n            });\n            return true;\n        }\n        return false;\n    }\n    // Estado do jogo\n    isCheck() {\n        return this.game.isCheck();\n    }\n    isCheckmate() {\n        return this.game.isCheckmate();\n    }\n    isDraw() {\n        return this.game.isDraw();\n    }\n    isGameOver() {\n        return this.game.isGameOver();\n    }\n    getCurrentPlayer() {\n        const turn = this.game.turn();\n        return turn === \"w\" ? \"white\" : \"black\";\n    }\n    // Avaliação e análise\n    evaluatePosition() {\n        // Implementação básica de avaliação\n        const weights = this.options.evaluationParameters || {\n            materialWeight: 1,\n            positionWeight: 0.1,\n            mobilityWeight: 0.1,\n            kingSafetyWeight: 0.2,\n            pawnStructureWeight: 0.1\n        };\n        let score = 0;\n        // Material\n        score += this.evaluateMaterial() * weights.materialWeight;\n        // Posição das peças\n        score += this.evaluatePiecePositions() * weights.positionWeight;\n        // Mobilidade\n        score += this.evaluateMobility() * weights.mobilityWeight;\n        // Segurança do rei\n        score += this.evaluateKingSafety() * weights.kingSafetyWeight;\n        // Estrutura de peões\n        score += this.evaluatePawnStructure() * weights.pawnStructureWeight;\n        return score;\n    }\n    evaluatePiecePositions() {\n        // Simple piece-square tables evaluation\n        const pieceSquareValues = {\n            p: [\n                [\n                    0,\n                    0,\n                    0,\n                    0,\n                    0,\n                    0,\n                    0,\n                    0\n                ],\n                [\n                    50,\n                    50,\n                    50,\n                    50,\n                    50,\n                    50,\n                    50,\n                    50\n                ],\n                [\n                    10,\n                    10,\n                    20,\n                    30,\n                    30,\n                    20,\n                    10,\n                    10\n                ],\n                [\n                    5,\n                    5,\n                    10,\n                    25,\n                    25,\n                    10,\n                    5,\n                    5\n                ],\n                [\n                    0,\n                    0,\n                    0,\n                    20,\n                    20,\n                    0,\n                    0,\n                    0\n                ],\n                [\n                    5,\n                    -5,\n                    -10,\n                    0,\n                    0,\n                    -10,\n                    -5,\n                    5\n                ],\n                [\n                    5,\n                    10,\n                    10,\n                    -20,\n                    -20,\n                    10,\n                    10,\n                    5\n                ],\n                [\n                    0,\n                    0,\n                    0,\n                    0,\n                    0,\n                    0,\n                    0,\n                    0\n                ]\n            ],\n            n: [\n                [\n                    -50,\n                    -40,\n                    -30,\n                    -30,\n                    -30,\n                    -30,\n                    -40,\n                    -50\n                ],\n                [\n                    -40,\n                    -20,\n                    0,\n                    0,\n                    0,\n                    0,\n                    -20,\n                    -40\n                ],\n                [\n                    -30,\n                    0,\n                    10,\n                    15,\n                    15,\n                    10,\n                    0,\n                    -30\n                ],\n                [\n                    -30,\n                    5,\n                    15,\n                    20,\n                    20,\n                    15,\n                    5,\n                    -30\n                ],\n                [\n                    -30,\n                    0,\n                    15,\n                    20,\n                    20,\n                    15,\n                    0,\n                    -30\n                ],\n                [\n                    -30,\n                    5,\n                    10,\n                    15,\n                    15,\n                    10,\n                    5,\n                    -30\n                ],\n                [\n                    -40,\n                    -20,\n                    0,\n                    5,\n                    5,\n                    0,\n                    -20,\n                    -40\n                ],\n                [\n                    -50,\n                    -40,\n                    -30,\n                    -30,\n                    -30,\n                    -30,\n                    -40,\n                    -50\n                ]\n            ],\n            b: [\n                [\n                    -20,\n                    -10,\n                    -10,\n                    -10,\n                    -10,\n                    -10,\n                    -10,\n                    -20\n                ],\n                [\n                    -10,\n                    0,\n                    0,\n                    0,\n                    0,\n                    0,\n                    0,\n                    -10\n                ],\n                [\n                    -10,\n                    0,\n                    5,\n                    10,\n                    10,\n                    5,\n                    0,\n                    -10\n                ],\n                [\n                    -10,\n                    5,\n                    5,\n                    10,\n                    10,\n                    5,\n                    5,\n                    -10\n                ],\n                [\n                    -10,\n                    0,\n                    10,\n                    10,\n                    10,\n                    10,\n                    0,\n                    -10\n                ],\n                [\n                    -10,\n                    10,\n                    10,\n                    10,\n                    10,\n                    10,\n                    10,\n                    -10\n                ],\n                [\n                    -10,\n                    5,\n                    0,\n                    0,\n                    0,\n                    0,\n                    5,\n                    -10\n                ],\n                [\n                    -20,\n                    -10,\n                    -10,\n                    -10,\n                    -10,\n                    -10,\n                    -10,\n                    -20\n                ]\n            ]\n        };\n        let score = 0;\n        const board = this.game.board();\n        for(let row = 0; row < 8; row++){\n            for(let col = 0; col < 8; col++){\n                const piece = board[row][col];\n                if (piece) {\n                    const pieceTable = pieceSquareValues[piece.type];\n                    if (pieceTable) {\n                        const positionValue = pieceTable[piece.color === \"w\" ? row : 7 - row][col];\n                        score += piece.color === \"w\" ? positionValue : -positionValue;\n                    }\n                }\n            }\n        }\n        return score;\n    }\n    getBestMove(depth) {\n        // TODO: Implementar busca minimax com poda alpha-beta\n        return null;\n    }\n    getGameHistory() {\n        return this.game.history({\n            verbose: true\n        }).map((move)=>({\n                from: this.squareToPosition(move.from),\n                to: this.squareToPosition(move.to),\n                piece: {\n                    type: move.piece,\n                    color: move.color === \"w\" ? \"white\" : \"black\"\n                },\n                captured: move.captured ? {\n                    type: move.captured,\n                    color: move.color === \"w\" ? \"black\" : \"white\"\n                } : undefined,\n                promotion: move.promotion\n            }));\n    }\n    // Validação\n    isValidMove(from, to) {\n        const moves = this.getPossibleMoves(from);\n        return moves.some((move)=>move.to.row === to.row && move.to.col === to.col);\n    }\n    isValidPosition(position) {\n        return position.row >= 0 && position.row < 8 && position.col >= 0 && position.col < 8;\n    }\n    // Utilidades\n    reset() {\n        this.game.reset();\n        this.positionCache.clear();\n        this.emitEvent({\n            type: \"POSITION_CHANGED\",\n            fen: this.getFEN()\n        });\n    }\n    clone() {\n        const clonedEngine = new ChessEngineBase(this.options);\n        clonedEngine.setFEN(this.getFEN());\n        return clonedEngine;\n    }\n    // Métodos protegidos auxiliares\n    positionToSquare(position) {\n        const file = String.fromCharCode(\"a\".charCodeAt(0) + position.col);\n        const rank = 8 - position.row;\n        return \"\".concat(file).concat(rank);\n    }\n    squareToPosition(square) {\n        const col = square.charCodeAt(0) - \"a\".charCodeAt(0);\n        const row = 8 - parseInt(square[1]);\n        return {\n            row,\n            col\n        };\n    }\n    findKing(color) {\n        const board = this.game.board();\n        for(let row = 0; row < 8; row++){\n            for(let col = 0; col < 8; col++){\n                const piece = board[row][col];\n                if (piece && piece.type === \"k\" && piece.color === (color === \"white\" ? \"w\" : \"b\")) {\n                    return {\n                        row,\n                        col\n                    };\n                }\n            }\n        }\n        throw new Error(\"King not found\");\n    }\n    emitEvent(event) {\n        this.eventEmitter.emit(\"engine-event\", event);\n    }\n    // Métodos de avaliação\n    evaluateMaterial() {\n        const pieceValues = {\n            p: 1,\n            n: 3,\n            b: 3,\n            r: 5,\n            q: 9,\n            k: 0\n        };\n        let score = 0;\n        const board = this.game.board();\n        for(let row = 0; row < 8; row++){\n            for(let col = 0; col < 8; col++){\n                const piece = board[row][col];\n                if (piece) {\n                    const value = pieceValues[piece.type];\n                    score += piece.color === \"w\" ? value : -value;\n                }\n            }\n        }\n        return score;\n    }\n    evaluateMobility() {\n        const whiteMoves = this.game.moves().length;\n        // Clona o jogo para ver os movimentos do oponente\n        const tempGame = new chess_js__WEBPACK_IMPORTED_MODULE_0__.Chess(this.game.fen());\n        tempGame.load(this.game.fen().replace(\" w \", \" b \"));\n        const blackMoves = tempGame.moves().length;\n        return whiteMoves - blackMoves;\n    }\n    evaluateKingSafety() {\n        // TODO: Implementar avaliação de segurança do rei\n        return 0;\n    }\n    evaluatePawnStructure() {\n        // TODO: Implementar avaliação de estrutura de peões\n        return 0;\n    }\n    // Event handlers\n    on(eventName, handler) {\n        this.eventEmitter.on(eventName, handler);\n    }\n    off(eventName, handler) {\n        this.eventEmitter.off(eventName, handler);\n    }\n    constructor(options = {}){\n        this.game = new chess_js__WEBPACK_IMPORTED_MODULE_0__.Chess(options.startPosition || _constants_game__WEBPACK_IMPORTED_MODULE_1__.INITIAL_FEN);\n        this.options = options;\n        this.eventEmitter = new (events__WEBPACK_IMPORTED_MODULE_2___default())();\n        this.positionCache = new Map();\n    }\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2hhcmVkL2VuZ2luZS9DaGVzc0VuZ2luZUJhc2UudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBaUM7QUFZZTtBQUNkO0FBRTNCLE1BQU1HO0lBYVgsaUJBQWlCO0lBQ2pCQyxXQUEyQjtRQUN6QixNQUFNQyxRQUFRLElBQUksQ0FBQ0MsSUFBSSxDQUFDRCxLQUFLO1FBQzdCLE9BQU9BLE1BQU1FLEdBQUcsQ0FBQ0MsQ0FBQUEsTUFDZkEsSUFBSUQsR0FBRyxDQUFDRSxDQUFBQSxTQUNOQSxTQUFTO29CQUNQQyxNQUFNRCxPQUFPQyxJQUFJO29CQUNqQkMsT0FBT0YsT0FBT0UsS0FBSztnQkFDckIsSUFBa0IsSUFBSSxFQUN0QkMsTUFBTSxDQUFDLENBQUNDLFFBQStCQSxVQUFVLElBQUk7SUFFM0Q7SUFFQUMsU0FBaUI7UUFDZixPQUFPLElBQUksQ0FBQ1IsSUFBSSxDQUFDUyxHQUFHO0lBQ3RCO0lBRUFDLE9BQU9ELEdBQVcsRUFBUTtRQUN4QixJQUFJO1lBQ0YscURBQXFEO1lBQ3JELElBQUksQ0FBQ1QsSUFBSSxDQUFDVyxJQUFJLENBQUNGO1lBQ2YsSUFBSSxDQUFDRyxTQUFTLENBQUM7Z0JBQ2JSLE1BQU07Z0JBQ05LO1lBQ0Y7UUFDRixFQUFFLE9BQU9JLEdBQUc7WUFDVixNQUFNLElBQUlDLE1BQU0sc0JBQXNCO1FBQ3hDO0lBQ0Y7SUFFQSxhQUFhO0lBQ2JDLGlCQUFpQkMsUUFBdUIsRUFBZTtRQUNyRCxNQUFNQyxRQUFRLElBQUksQ0FBQ2pCLElBQUksQ0FBQ2lCLEtBQUssQ0FBQztZQUM1QmQsUUFBUSxJQUFJLENBQUNlLGdCQUFnQixDQUFDRjtZQUM5QkcsU0FBUyxJQUFJO1FBQ2Y7UUFFQSxPQUFPRixNQUFNaEIsR0FBRyxDQUFDbUIsQ0FBQUEsT0FBUztnQkFDeEJDLE1BQU0sSUFBSSxDQUFDQyxnQkFBZ0IsQ0FBQ0YsS0FBS0MsSUFBSTtnQkFDckNFLElBQUksSUFBSSxDQUFDRCxnQkFBZ0IsQ0FBQ0YsS0FBS0csRUFBRTtn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QUk7b0JBQUs7aUJBQUU7Z0JBQy9CO29CQUFDO29CQUFJO29CQUFJO29CQUFJO29CQUFJO29CQUFJO29CQUFJO29CQUFJO2lCQUFFO2FBQ2hDO1lBQ0RDLEdBQUc7Z0JBQ0Q7b0JBQUMsQ0FBQztvQkFBRyxDQUFDO29CQUFHLENBQUM7b0JBQUcsQ0FBQztvQkFBRyxDQUFDO29CQUFHLENBQUM7b0JBQUcsQ0FBQztvQkFBRyxDQUFDO2lCQUFHO2dCQUNqQztvQkFBQyxDQUFDO29CQUFHLENBQUM7b0JBQUs7b0JBQUk7b0JBQUk7b0JBQUk7b0JBQUUsQ0FBQztvQkFBRyxDQUFDO2lCQUFHO2dCQUNqQztvQkFBQyxDQUFDO29CQUFLO29CQUFHO29CQUFJO29CQUFJO29CQUFJO29CQUFLO29CQUFFLENBQUM7aUJBQUc7Z0JBQ2pDO29CQUFDLENBQUM7b0JBQUs7b0JBQUc7b0JBQUk7b0JBQUk7b0JBQUk7b0JBQUs7b0JBQUUsQ0FBQztpQkFBRztnQkFDakM7b0JBQUMsQ0FBQztvQkFBSztvQkFBRztvQkFBSTtvQkFBSTtvQkFBSTtvQkFBSztvQkFBRSxDQUFDO2lCQUFHO2dCQUNqQztvQkFBQyxDQUFDO29CQUFLO29CQUFHO29CQUFJO29CQUFJO29CQUFJO29CQUFLO29CQUFFLENBQUM7aUJBQUc7Z0JBQ2pDO29CQUFDLENBQUM7b0JBQUcsQ0FBQztvQkFBSztvQkFBSTtvQkFBSTtvQkFBSTtvQkFBRSxDQUFDO29CQUFHLENBQUM7aUJBQUc7Z0JBQ2pDO29CQUFDLENBQUM7b0JBQUcsQ0FBQztvQkFBRyxDQUFDO29CQUFHLENBQUM7b0JBQUcsQ0FBQztvQkFBRyxDQUFDO29CQUFHLENBQUM7b0JBQUcsQ0FBQztpQkFBRzthQUNsQztZQUNEQyxHQUFHO2dCQUNEO29CQUFDLENBQUM7b0JBQUcsQ0FBQztvQkFBRyxDQUFDO29CQUFHLENBQUM7b0JBQUcsQ0FBQztvQkFBRyxDQUFDO29CQUFHLENBQUM7b0JBQUcsQ0FBQztpQkFBRztnQkFDakM7b0JBQUMsQ0FBQztvQkFBSztvQkFBSTtvQkFBSTtvQkFBSTtv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Q1gsSUFBSSxDQUFDUyxHQUFHLEdBQUdrRixPQUFPLENBQUMsT0FBTztRQUM3QyxNQUFNQyxhQUFhRixTQUFTekUsS0FBSyxHQUFHd0UsTUFBTTtRQUUxQyxPQUFPRCxhQUFhSTtJQUN0QjtJQUVRdkMscUJBQTZCO1FBQ25DLGtEQUFrRDtRQUNsRCxPQUFPO0lBQ1Q7SUFFUUMsd0JBQWdDO1FBQ3RDLG9EQUFvRDtRQUNwRCxPQUFPO0lBQ1Q7SUFFQSxpQkFBaUI7SUFDakJ1QyxHQUFHQyxTQUFpQixFQUFFQyxPQUFxQyxFQUFRO1FBQ2pFLElBQUksQ0FBQ2QsWUFBWSxDQUFDWSxFQUFFLENBQUNDLFdBQVdDO0lBQ2xDO0lBRUFDLElBQUlGLFNBQWlCLEVBQUVDLE9BQXFDLEVBQVE7UUFDbEUsSUFBSSxDQUFDZCxZQUFZLENBQUNlLEdBQUcsQ0FBQ0YsV0FBV0M7SUFDbkM7SUF2V0FFLFlBQVl2RCxVQUF5QixDQUFDLENBQUMsQ0FBRTtRQUN2QyxJQUFJLENBQUMxQyxJQUFJLEdBQUcsSUFBSU4sMkNBQUtBLENBQUNnRCxRQUFRd0QsYUFBYSxJQUFJdkcsd0RBQVdBO1FBQzFELElBQUksQ0FBQytDLE9BQU8sR0FBR0E7UUFDZixJQUFJLENBQUN1QyxZQUFZLEdBQUcsSUFBSXJGLCtDQUFZQTtRQUNwQyxJQUFJLENBQUMwRSxhQUFhLEdBQUcsSUFBSTZCO0lBQzNCO0FBbVdGLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL3NoYXJlZC9lbmdpbmUvQ2hlc3NFbmdpbmVCYXNlLnRzP2YyNDUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ2hlc3MgfSBmcm9tICdjaGVzcy5qcyc7XG5pbXBvcnQgeyBcbiAgQ2hlc3NFbmdpbmUsIFxuICBFbmdpbmVPcHRpb25zLCBcbiAgRW5naW5lQW5hbHlzaXMsXG4gIEVuZ2luZUV2ZW50IFxufSBmcm9tICcuLi90eXBlcy9lbmdpbmUnO1xuaW1wb3J0IHsgXG4gIENoZXNzUG9zaXRpb24sIFxuICBDaGVzc1BpZWNlLCBcbiAgQ2hlc3NNb3ZlIFxufSBmcm9tICcuLi90eXBlcy9jaGVzcyc7XG5pbXBvcnQgeyBJTklUSUFMX0ZFTiB9IGZyb20gJy4uL2NvbnN0YW50cy9nYW1lJztcbmltcG9ydCBFdmVudEVtaXR0ZXIgZnJvbSAnZXZlbnRzJztcblxuZXhwb3J0IGNsYXNzIENoZXNzRW5naW5lQmFzZSBpbXBsZW1lbnRzIENoZXNzRW5naW5lIHtcbiAgcHJvdGVjdGVkIGdhbWU6IENoZXNzO1xuICBwcm90ZWN0ZWQgb3B0aW9uczogRW5naW5lT3B0aW9ucztcbiAgcHJvdGVjdGVkIGV2ZW50RW1pdHRlcjogRXZlbnRFbWl0dGVyO1xuICBwcm90ZWN0ZWQgcG9zaXRpb25DYWNoZTogTWFwPHN0cmluZywgRW5naW5lQW5hbHlzaXM+O1xuXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnM6IEVuZ2luZU9wdGlvbnMgPSB7fSkge1xuICAgIHRoaXMuZ2FtZSA9IG5ldyBDaGVzcyhvcHRpb25zLnN0YXJ0UG9zaXRpb24gfHwgSU5JVElBTF9GRU4pO1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgdGhpcy5ldmVudEVtaXR0ZXIgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgdGhpcy5wb3NpdGlvbkNhY2hlID0gbmV3IE1hcCgpO1xuICB9XG5cbiAgLy8gRXN0YWRvIGRvIGpvZ29cbiAgZ2V0Qm9hcmQoKTogQ2hlc3NQaWVjZVtdW10ge1xuICAgIGNvbnN0IGJvYXJkID0gdGhpcy5nYW1lLmJvYXJkKCk7XG4gICAgcmV0dXJuIGJvYXJkLm1hcChyb3cgPT4gXG4gICAgICByb3cubWFwKHNxdWFyZSA9PiBcbiAgICAgICAgc3F1YXJlID8ge1xuICAgICAgICAgIHR5cGU6IHNxdWFyZS50eXBlLFxuICAgICAgICAgIGNvbG9yOiBzcXVhcmUuY29sb3IsXG4gICAgICAgIH0gYXMgQ2hlc3NQaWVjZSA6IG51bGxcbiAgICAgICkuZmlsdGVyKChwaWVjZSk6IHBpZWNlIGlzIENoZXNzUGllY2UgPT4gcGllY2UgIT09IG51bGwpXG4gICAgKTtcbiAgfVxuXG4gIGdldEZFTigpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmdhbWUuZmVuKCk7XG4gIH1cblxuICBzZXRGRU4oZmVuOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0cnkge1xuICAgICAgLy8gTmEgbm92YSB2ZXJzw6NvIGRvIGNoZXNzLmpzLCBsb2FkKCkgasOhIHZhbGlkYSBvIEZFTlxuICAgICAgdGhpcy5nYW1lLmxvYWQoZmVuKTtcbiAgICAgIHRoaXMuZW1pdEV2ZW50KHsgXG4gICAgICAgIHR5cGU6ICdQT1NJVElPTl9DSEFOR0VEJywgXG4gICAgICAgIGZlbiBcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBGRU4gc3RyaW5nJyk7XG4gICAgfVxuICB9XG5cbiAgLy8gTW92aW1lbnRvc1xuICBnZXRQb3NzaWJsZU1vdmVzKHBvc2l0aW9uOiBDaGVzc1Bvc2l0aW9uKTogQ2hlc3NNb3ZlW10ge1xuICAgIGNvbnN0IG1vdmVzID0gdGhpcy5nYW1lLm1vdmVzKHsgXG4gICAgICBzcXVhcmU6IHRoaXMucG9zaXRpb25Ub1NxdWFyZShwb3NpdGlvbiksXG4gICAgICB2ZXJib3NlOiB0cnVlIFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIG1vdmVzLm1hcChtb3ZlID0+ICh7XG4gICAgICBmcm9tOiB0aGlzLnNxdWFyZVRvUG9zaXRpb24obW92ZS5mcm9tKSxcbiAgICAgIHRvOiB0aGlzLnNxdWFyZVRvUG9zaXRpb24obW92ZS50byksXG4gICAgICBwaWVjZToge1xuICAgICAgICB0eXBlOiBtb3ZlLnBpZWNlLFxuICAgICAgICBjb2xvcjogdGhpcy5nZXRDdXJyZW50UGxheWVyKClcbiAgICAgIH0sXG4gICAgICBjYXB0dXJlZDogbW92ZS5jYXB0dXJlZCA/IHtcbiAgICAgICAgdHlwZTogbW92ZS5jYXB0dXJlZCxcbiAgICAgICAgY29sb3I6IHRoaXMuZ2V0Q3VycmVudFBsYXllcigpID09PSAnd2hpdGUnID8gJ2JsYWNrJyA6ICd3aGl0ZSdcbiAgICAgIH0gOiB1bmRlZmluZWQsXG4gICAgICBwcm9tb3Rpb246IG1vdmUucHJvbW90aW9uLFxuICAgIH0pKTtcbiAgfVxuXG4gIG1ha2VNb3ZlKGZyb206IENoZXNzUG9zaXRpb24sIHRvOiBDaGVzc1Bvc2l0aW9uKTogYm9vbGVhbiB7XG4gICAgY29uc3QgbW92ZSA9IHRoaXMuZ2FtZS5tb3ZlKHtcbiAgICAgIGZyb206IHRoaXMucG9zaXRpb25Ub1NxdWFyZShmcm9tKSxcbiAgICAgIHRvOiB0aGlzLnBvc2l0aW9uVG9TcXVhcmUodG8pLFxuICAgICAgcHJvbW90aW9uOiAncScgLy8gQXV0by1wcm9tb3ZlIHBhcmEgcmFpbmhhIHBvciBwYWRyw6NvXG4gICAgfSk7XG5cbiAgICBpZiAobW92ZSkge1xuICAgICAgY29uc3QgY2hlc3NNb3ZlOiBDaGVzc01vdmUgPSB7XG4gICAgICAgIGZyb20sXG4gICAgICAgIHRvLFxuICAgICAgICBwaWVjZToge1xuICAgICAgICAgIHR5cGU6IG1vdmUucGllY2UsXG4gICAgICAgICAgY29sb3I6IG1vdmUuY29sb3IgPT09ICd3JyA/ICd3aGl0ZScgOiAnYmxhY2snXG4gICAgICAgIH0sXG4gICAgICAgIGNhcHR1cmVkOiBtb3ZlLmNhcHR1cmVkID8ge1xuICAgICAgICAgIHR5cGU6IG1vdmUuY2FwdHVyZWQsXG4gICAgICAgICAgY29sb3I6IG1vdmUuY29sb3IgPT09ICd3JyA/ICdibGFjaycgOiAnd2hpdGUnXG4gICAgICAgIH0gOiB1bmRlZmluZWQsXG4gICAgICAgIHByb21vdGlvbjogbW92ZS5wcm9tb3Rpb24sXG4gICAgICB9O1xuXG4gICAgICB0aGlzLmVtaXRFdmVudCh7IHR5cGU6ICdNT1ZFX01BREUnLCBtb3ZlOiBjaGVzc01vdmUgfSk7XG5cbiAgICAgIGlmICh0aGlzLmlzQ2hlY2soKSkge1xuICAgICAgICB0aGlzLmVtaXRFdmVudCh7IFxuICAgICAgICAgIHR5cGU6ICdDSEVDSycsXG4gICAgICAgICAga2luZ1Bvc2l0aW9uOiB0aGlzLmZpbmRLaW5nKHRoaXMuZ2V0Q3VycmVudFBsYXllcigpKVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuaXNHYW1lT3ZlcigpKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSAnZHJhdyc7XG4gICAgICAgIGlmICh0aGlzLmlzQ2hlY2ttYXRlKCkpIHtcbiAgICAgICAgICByZXN1bHQgPSB0aGlzLmdldEN1cnJlbnRQbGF5ZXIoKSA9PT0gJ3doaXRlJyA/ICdibGFjaycgOiAnd2hpdGUnO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZW1pdEV2ZW50KHsgdHlwZTogJ0dBTUVfT1ZFUicsIHJlc3VsdCB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdW5kb0xhc3RNb3ZlKCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IG1vdmUgPSB0aGlzLmdhbWUudW5kbygpO1xuICAgIGlmIChtb3ZlKSB7XG4gICAgICB0aGlzLmVtaXRFdmVudCh7IFxuICAgICAgICB0eXBlOiAnUE9TSVRJT05fQ0hBTkdFRCcsXG4gICAgICAgIGZlbjogdGhpcy5nZXRGRU4oKVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8gRXN0YWRvIGRvIGpvZ29cbiAgaXNDaGVjaygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5nYW1lLmlzQ2hlY2soKTtcbiAgfVxuXG4gIGlzQ2hlY2ttYXRlKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmdhbWUuaXNDaGVja21hdGUoKTtcbiAgfVxuXG4gIGlzRHJhdygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5nYW1lLmlzRHJhdygpO1xuICB9XG5cbiAgaXNHYW1lT3ZlcigpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5nYW1lLmlzR2FtZU92ZXIoKTtcbiAgfVxuXG4gIGdldEN1cnJlbnRQbGF5ZXIoKTogJ3doaXRlJyB8ICdibGFjaycge1xuICAgIGNvbnN0IHR1cm4gPSB0aGlzLmdhbWUudHVybigpO1xuICAgIHJldHVybiB0dXJuID09PSAndycgPyAnd2hpdGUnIDogJ2JsYWNrJztcbiAgfVxuXG4gIC8vIEF2YWxpYcOnw6NvIGUgYW7DoWxpc2VcbiAgZXZhbHVhdGVQb3NpdGlvbigpOiBudW1iZXIge1xuICAgIC8vIEltcGxlbWVudGHDp8OjbyBiw6FzaWNhIGRlIGF2YWxpYcOnw6NvXG4gICAgY29uc3Qgd2VpZ2h0cyA9IHRoaXMub3B0aW9ucy5ldmFsdWF0aW9uUGFyYW1ldGVycyB8fCB7XG4gICAgICBtYXRlcmlhbFdlaWdodDogMSxcbiAgICAgIHBvc2l0aW9uV2VpZ2h0OiAwLjEsXG4gICAgICBtb2JpbGl0eVdlaWdodDogMC4xLFxuICAgICAga2luZ1NhZmV0eVdlaWdodDogMC4yLFxuICAgICAgcGF3blN0cnVjdHVyZVdlaWdodDogMC4xXG4gICAgfTtcblxuICAgIGxldCBzY29yZSA9IDA7XG5cbiAgICAvLyBNYXRlcmlhbFxuICAgIHNjb3JlICs9IHRoaXMuZXZhbHVhdGVNYXRlcmlhbCgpICogd2VpZ2h0cy5tYXRlcmlhbFdlaWdodDtcblxuICAgIC8vIFBvc2nDp8OjbyBkYXMgcGXDp2FzXG4gICAgc2NvcmUgKz0gdGhpcy5ldmFsdWF0ZVBpZWNlUG9zaXRpb25zKCkgKiB3ZWlnaHRzLnBvc2l0aW9uV2VpZ2h0O1xuXG4gICAgLy8gTW9iaWxpZGFkZVxuICAgIHNjb3JlICs9IHRoaXMuZXZhbHVhdGVNb2JpbGl0eSgpICogd2VpZ2h0cy5tb2JpbGl0eVdlaWdodDtcblxuICAgIC8vIFNlZ3VyYW7Dp2EgZG8gcmVpXG4gICAgc2NvcmUgKz0gdGhpcy5ldmFsdWF0ZUtpbmdTYWZldHkoKSAqIHdlaWdodHMua2luZ1NhZmV0eVdlaWdodDtcblxuICAgIC8vIEVzdHJ1dHVyYSBkZSBwZcO1ZXNcbiAgICBzY29yZSArPSB0aGlzLmV2YWx1YXRlUGF3blN0cnVjdHVyZSgpICogd2VpZ2h0cy5wYXduU3RydWN0dXJlV2VpZ2h0O1xuXG4gICAgcmV0dXJuIHNjb3JlO1xuICB9XG5cbiAgcHJpdmF0ZSBldmFsdWF0ZVBpZWNlUG9zaXRpb25zKCk6IG51bWJlciB7XG4gICAgLy8gU2ltcGxlIHBpZWNlLXNxdWFyZSB0YWJsZXMgZXZhbHVhdGlvblxuICAgIGNvbnN0IHBpZWNlU3F1YXJlVmFsdWVzID0ge1xuICAgICAgcDogWyAvLyBQYXduc1xuICAgICAgICBbMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDBdLFxuICAgICAgICBbNTAsIDUwLCA1MCwgNTAsIDUwLCA1MCwgNTAsIDUwXSxcbiAgICAgICAgWzEwLCAxMCwgMjAsIDMwLCAzMCwgMjAsIDEwLCAxMF0sXG4gICAgICAgIFs1LCAgNSwgMTAsIDI1LCAyNSwgMTAsICA1LCAgNV0sXG4gICAgICAgIFswLCAgMCwgIDAsIDIwLCAyMCwgIDAsICAwLCAgMF0sXG4gICAgICAgIFs1LCAtNSwtMTAsICAwLCAgMCwtMTAsIC01LCAgNV0sXG4gICAgICAgIFs1LCAxMCwgMTAsLTIwLC0yMCwgMTAsIDEwLCAgNV0sXG4gICAgICAgIFswLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMF1cbiAgICAgIF0sXG4gICAgICBuOiBbIC8vIEtuaWdodHNcbiAgICAgICAgWy01MCwtNDAsLTMwLC0zMCwtMzAsLTMwLC00MCwtNTBdLFxuICAgICAgICBbLTQwLC0yMCwgIDAsICAwLCAgMCwgIDAsLTIwLC00MF0sXG4gICAgICAgIFstMzAsICAwLCAxMCwgMTUsIDE1LCAxMCwgIDAsLTMwXSxcbiAgICAgICAgWy0zMCwgIDUsIDE1LCAyMCwgMjAsIDE1LCAgNSwtMzBdLFxuICAgICAgICBbLTMwLCAgMCwgMTUsIDIwLCAyMCwgMTUsICAwLC0zMF0sXG4gICAgICAgIFstMzAsICA1LCAxMCwgMTUsIDE1LCAxMCwgIDUsLTMwXSxcbiAgICAgICAgWy00MCwtMjAsICAwLCAgNSwgIDUsICAwLC0yMCwtNDBdLFxuICAgICAgICBbLTUwLC00MCwtMzAsLTMwLC0zMCwtMzAsLTQwLC01MF1cbiAgICAgIF0sXG4gICAgICBiOiBbIC8vIEJpc2hvcHNcbiAgICAgICAgWy0yMCwtMTAsLTEwLC0xMCwtMTAsLTEwLC0xMCwtMjBdLFxuICAgICAgICBbLTEwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLC0xMF0sXG4gICAgICAgIFstMTAsICAwLCAgNSwgMTAsIDEwLCAgNSwgIDAsLTEwXSxcbiAgICAgICAgWy0xMCwgIDUsICA1LCAxMCwgMTAsICA1LCAgNSwtMTBdLFxuICAgICAgICBbLTEwLCAgMCwgMTAsIDEwLCAxMCwgMTAsICAwLC0xMF0sXG4gICAgICAgIFstMTAsIDEwLCAxMCwgMTAsIDEwLCAxMCwgMTAsLTEwXSxcbiAgICAgICAgWy0xMCwgIDUsICAwLCAgMCwgIDAsICAwLCAgNSwtMTBdLFxuICAgICAgICBbLTIwLC0xMCwtMTAsLTEwLC0xMCwtMTAsLTEwLC0yMF1cbiAgICAgIF1cbiAgICB9O1xuXG4gICAgbGV0IHNjb3JlID0gMDtcbiAgICBjb25zdCBib2FyZCA9IHRoaXMuZ2FtZS5ib2FyZCgpO1xuXG4gICAgZm9yIChsZXQgcm93ID0gMDsgcm93IDwgODsgcm93KyspIHtcbiAgICAgIGZvciAobGV0IGNvbCA9IDA7IGNvbCA8IDg7IGNvbCsrKSB7XG4gICAgICAgIGNvbnN0IHBpZWNlID0gYm9hcmRbcm93XVtjb2xdO1xuICAgICAgICBpZiAocGllY2UpIHtcbiAgICAgICAgICBjb25zdCBwaWVjZVRhYmxlID0gcGllY2VTcXVhcmVWYWx1ZXNbcGllY2UudHlwZSBhcyBrZXlvZiB0eXBlb2YgcGllY2VTcXVhcmVWYWx1ZXNdO1xuICAgICAgICAgIGlmIChwaWVjZVRhYmxlKSB7XG4gICAgICAgICAgICBjb25zdCBwb3NpdGlvblZhbHVlID0gcGllY2VUYWJsZVtwaWVjZS5jb2xvciA9PT0gJ3cnID8gcm93IDogNyAtIHJvd11bY29sXTtcbiAgICAgICAgICAgIHNjb3JlICs9IHBpZWNlLmNvbG9yID09PSAndycgPyBwb3NpdGlvblZhbHVlIDogLXBvc2l0aW9uVmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHNjb3JlO1xuICB9XG5cbiAgZ2V0QmVzdE1vdmUoZGVwdGg6IG51bWJlcik6IENoZXNzTW92ZSB8IG51bGwge1xuICAgIC8vIFRPRE86IEltcGxlbWVudGFyIGJ1c2NhIG1pbmltYXggY29tIHBvZGEgYWxwaGEtYmV0YVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgZ2V0R2FtZUhpc3RvcnkoKTogQ2hlc3NNb3ZlW10ge1xuICAgIHJldHVybiB0aGlzLmdhbWUuaGlzdG9yeSh7IHZlcmJvc2U6IHRydWUgfSkubWFwKG1vdmUgPT4gKHtcbiAgICAgIGZyb206IHRoaXMuc3F1YXJlVG9Qb3NpdGlvbihtb3ZlLmZyb20pLFxuICAgICAgdG86IHRoaXMuc3F1YXJlVG9Qb3NpdGlvbihtb3ZlLnRvKSxcbiAgICAgIHBpZWNlOiB7XG4gICAgICAgIHR5cGU6IG1vdmUucGllY2UsXG4gICAgICAgIGNvbG9yOiBtb3ZlLmNvbG9yID09PSAndycgPyAnd2hpdGUnIDogJ2JsYWNrJ1xuICAgICAgfSxcbiAgICAgIGNhcHR1cmVkOiBtb3ZlLmNhcHR1cmVkID8ge1xuICAgICAgICB0eXBlOiBtb3ZlLmNhcHR1cmVkLFxuICAgICAgICBjb2xvcjogbW92ZS5jb2xvciA9PT0gJ3cnID8gJ2JsYWNrJyA6ICd3aGl0ZSdcbiAgICAgIH0gOiB1bmRlZmluZWQsXG4gICAgICBwcm9tb3Rpb246IG1vdmUucHJvbW90aW9uLFxuICAgIH0pKTtcbiAgfVxuXG4gIC8vIFZhbGlkYcOnw6NvXG4gIGlzVmFsaWRNb3ZlKGZyb206IENoZXNzUG9zaXRpb24sIHRvOiBDaGVzc1Bvc2l0aW9uKTogYm9vbGVhbiB7XG4gICAgY29uc3QgbW92ZXMgPSB0aGlzLmdldFBvc3NpYmxlTW92ZXMoZnJvbSk7XG4gICAgcmV0dXJuIG1vdmVzLnNvbWUobW92ZSA9PiBcbiAgICAgIG1vdmUudG8ucm93ID09PSB0by5yb3cgJiYgbW92ZS50by5jb2wgPT09IHRvLmNvbFxuICAgICk7XG4gIH1cblxuICBpc1ZhbGlkUG9zaXRpb24ocG9zaXRpb246IENoZXNzUG9zaXRpb24pOiBib29sZWFuIHtcbiAgICByZXR1cm4gcG9zaXRpb24ucm93ID49IDAgJiYgcG9zaXRpb24ucm93IDwgOCAmJlxuICAgICAgICAgICBwb3NpdGlvbi5jb2wgPj0gMCAmJiBwb3NpdGlvbi5jb2wgPCA4O1xuICB9XG5cbiAgLy8gVXRpbGlkYWRlc1xuICByZXNldCgpOiB2b2lkIHtcbiAgICB0aGlzLmdhbWUucmVzZXQoKTtcbiAgICB0aGlzLnBvc2l0aW9uQ2FjaGUuY2xlYXIoKTtcbiAgICB0aGlzLmVtaXRFdmVudCh7IFxuICAgICAgdHlwZTogJ1BPU0lUSU9OX0NIQU5HRUQnLFxuICAgICAgZmVuOiB0aGlzLmdldEZFTigpXG4gICAgfSk7XG4gIH1cblxuICBjbG9uZSgpOiBDaGVzc0VuZ2luZSB7XG4gICAgY29uc3QgY2xvbmVkRW5naW5lID0gbmV3IENoZXNzRW5naW5lQmFzZSh0aGlzLm9wdGlvbnMpO1xuICAgIGNsb25lZEVuZ2luZS5zZXRGRU4odGhpcy5nZXRGRU4oKSk7XG4gICAgcmV0dXJuIGNsb25lZEVuZ2luZTtcbiAgfVxuXG4gIC8vIE3DqXRvZG9zIHByb3RlZ2lkb3MgYXV4aWxpYXJlc1xuICBwcm90ZWN0ZWQgcG9zaXRpb25Ub1NxdWFyZShwb3NpdGlvbjogQ2hlc3NQb3NpdGlvbik6IHN0cmluZyB7XG4gICAgY29uc3QgZmlsZSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoJ2EnLmNoYXJDb2RlQXQoMCkgKyBwb3NpdGlvbi5jb2wpO1xuICAgIGNvbnN0IHJhbmsgPSA4IC0gcG9zaXRpb24ucm93O1xuICAgIHJldHVybiBgJHtmaWxlfSR7cmFua31gO1xuICB9XG5cbiAgcHJvdGVjdGVkIHNxdWFyZVRvUG9zaXRpb24oc3F1YXJlOiBzdHJpbmcpOiBDaGVzc1Bvc2l0aW9uIHtcbiAgICBjb25zdCBjb2wgPSBzcXVhcmUuY2hhckNvZGVBdCgwKSAtICdhJy5jaGFyQ29kZUF0KDApO1xuICAgIGNvbnN0IHJvdyA9IDggLSBwYXJzZUludChzcXVhcmVbMV0pO1xuICAgIHJldHVybiB7IHJvdywgY29sIH07XG4gIH1cblxuICBwcm90ZWN0ZWQgZmluZEtpbmcoY29sb3I6ICd3aGl0ZScgfCAnYmxhY2snKTogQ2hlc3NQb3NpdGlvbiB7XG4gICAgY29uc3QgYm9hcmQgPSB0aGlzLmdhbWUuYm9hcmQoKTtcbiAgICBmb3IgKGxldCByb3cgPSAwOyByb3cgPCA4OyByb3crKykge1xuICAgICAgZm9yIChsZXQgY29sID0gMDsgY29sIDwgODsgY29sKyspIHtcbiAgICAgICAgY29uc3QgcGllY2UgPSBib2FyZFtyb3ddW2NvbF07XG4gICAgICAgIGlmIChwaWVjZSAmJiBcbiAgICAgICAgICAgIHBpZWNlLnR5cGUgPT09ICdrJyAmJiBcbiAgICAgICAgICAgIHBpZWNlLmNvbG9yID09PSAoY29sb3IgPT09ICd3aGl0ZScgPyAndycgOiAnYicpKSB7XG4gICAgICAgICAgcmV0dXJuIHsgcm93LCBjb2wgfTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0tpbmcgbm90IGZvdW5kJyk7XG4gIH1cblxuICBwcm90ZWN0ZWQgZW1pdEV2ZW50KGV2ZW50OiBFbmdpbmVFdmVudCk6IHZvaWQge1xuICAgIHRoaXMuZXZlbnRFbWl0dGVyLmVtaXQoJ2VuZ2luZS1ldmVudCcsIGV2ZW50KTtcbiAgfVxuXG4gIC8vIE3DqXRvZG9zIGRlIGF2YWxpYcOnw6NvXG4gIHByaXZhdGUgZXZhbHVhdGVNYXRlcmlhbCgpOiBudW1iZXIge1xuICAgIGNvbnN0IHBpZWNlVmFsdWVzID0ge1xuICAgICAgcDogMSxcbiAgICAgIG46IDMsXG4gICAgICBiOiAzLFxuICAgICAgcjogNSxcbiAgICAgIHE6IDksXG4gICAgICBrOiAwXG4gICAgfTtcblxuICAgIGxldCBzY29yZSA9IDA7XG4gICAgY29uc3QgYm9hcmQgPSB0aGlzLmdhbWUuYm9hcmQoKTtcblxuICAgIGZvciAobGV0IHJvdyA9IDA7IHJvdyA8IDg7IHJvdysrKSB7XG4gICAgICBmb3IgKGxldCBjb2wgPSAwOyBjb2wgPCA4OyBjb2wrKykge1xuICAgICAgICBjb25zdCBwaWVjZSA9IGJvYXJkW3Jvd11bY29sXTtcbiAgICAgICAgaWYgKHBpZWNlKSB7XG4gICAgICAgICAgY29uc3QgdmFsdWUgPSBwaWVjZVZhbHVlc1twaWVjZS50eXBlIGFzIGtleW9mIHR5cGVvZiBwaWVjZVZhbHVlc107XG4gICAgICAgICAgc2NvcmUgKz0gcGllY2UuY29sb3IgPT09ICd3JyA/IHZhbHVlIDogLXZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHNjb3JlO1xuICB9XG5cbiAgcHJpdmF0ZSBldmFsdWF0ZU1vYmlsaXR5KCk6IG51bWJlciB7XG4gICAgY29uc3Qgd2hpdGVNb3ZlcyA9IHRoaXMuZ2FtZS5tb3ZlcygpLmxlbmd0aDtcbiAgICAvLyBDbG9uYSBvIGpvZ28gcGFyYSB2ZXIgb3MgbW92aW1lbnRvcyBkbyBvcG9uZW50ZVxuICAgIGNvbnN0IHRlbXBHYW1lID0gbmV3IENoZXNzKHRoaXMuZ2FtZS5mZW4oKSk7XG4gICAgdGVtcEdhbWUubG9hZCh0aGlzLmdhbWUuZmVuKCkucmVwbGFjZSgnIHcgJywgJyBiICcpKTtcbiAgICBjb25zdCBibGFja01vdmVzID0gdGVtcEdhbWUubW92ZXMoKS5sZW5ndGg7XG4gICAgXG4gICAgcmV0dXJuIHdoaXRlTW92ZXMgLSBibGFja01vdmVzO1xuICB9XG5cbiAgcHJpdmF0ZSBldmFsdWF0ZUtpbmdTYWZldHkoKTogbnVtYmVyIHtcbiAgICAvLyBUT0RPOiBJbXBsZW1lbnRhciBhdmFsaWHDp8OjbyBkZSBzZWd1cmFuw6dhIGRvIHJlaVxuICAgIHJldHVybiAwO1xuICB9XG5cbiAgcHJpdmF0ZSBldmFsdWF0ZVBhd25TdHJ1Y3R1cmUoKTogbnVtYmVyIHtcbiAgICAvLyBUT0RPOiBJbXBsZW1lbnRhciBhdmFsaWHDp8OjbyBkZSBlc3RydXR1cmEgZGUgcGXDtWVzXG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICAvLyBFdmVudCBoYW5kbGVyc1xuICBvbihldmVudE5hbWU6IHN0cmluZywgaGFuZGxlcjogKGV2ZW50OiBFbmdpbmVFdmVudCkgPT4gdm9pZCk6IHZvaWQge1xuICAgIHRoaXMuZXZlbnRFbWl0dGVyLm9uKGV2ZW50TmFtZSwgaGFuZGxlcik7XG4gIH1cblxuICBvZmYoZXZlbnROYW1lOiBzdHJpbmcsIGhhbmRsZXI6IChldmVudDogRW5naW5lRXZlbnQpID0+IHZvaWQpOiB2b2lkIHtcbiAgICB0aGlzLmV2ZW50RW1pdHRlci5vZmYoZXZlbnROYW1lLCBoYW5kbGVyKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIkNoZXNzIiwiSU5JVElBTF9GRU4iLCJFdmVudEVtaXR0ZXIiLCJDaGVzc0VuZ2luZUJhc2UiLCJnZXRCb2FyZCIsImJvYXJkIiwiZ2FtZSIsIm1hcCIsInJvdyIsInNxdWFyZSIsInR5cGUiLCJjb2xvciIsImZpbHRlciIsInBpZWNlIiwiZ2V0RkVOIiwiZmVuIiwic2V0RkVOIiwibG9hZCIsImVtaXRFdmVudCIsImUiLCJFcnJvciIsImdldFBvc3NpYmxlTW92ZXMiLCJwb3NpdGlvbiIsIm1vdmVzIiwicG9zaXRpb25Ub1NxdWFyZSIsInZlcmJvc2UiLCJtb3ZlIiwiZnJvbSIsInNxdWFyZVRvUG9zaXRpb24iLCJ0byIsImdldEN1cnJlbnRQbGF5ZXIiLCJjYXB0dXJlZCIsInVuZGVmaW5lZCIsInByb21vdGlvbiIsIm1ha2VNb3ZlIiwiY2hlc3NNb3ZlIiwiaXNDaGVjayIsImtpbmdQb3NpdGlvbiIsImZpbmRLaW5nIiwiaXNHYW1lT3ZlciIsInJlc3VsdCIsImlzQ2hlY2ttYXRlIiwidW5kb0xhc3RNb3ZlIiwidW5kbyIsImlzRHJhdyIsInR1cm4iLCJldmFsdWF0ZVBvc2l0aW9uIiwid2VpZ2h0cyIsIm9wdGlvbnMiLCJldmFsdWF0aW9uUGFyYW1ldGVycyIsIm1hdGVyaWFsV2VpZ2h0IiwicG9zaXRpb25XZWlnaHQiLCJtb2JpbGl0eVdlaWdodCIsImtpbmdTYWZldHlXZWlnaHQiLCJwYXduU3RydWN0dXJlV2VpZ2h0Iiwic2NvcmUiLCJldmFsdWF0ZU1hdGVyaWFsIiwiZXZhbHVhdGVQaWVjZVBvc2l0aW9ucyIsImV2YWx1YXRlTW9iaWxpdHkiLCJldmFsdWF0ZUtpbmdTYWZldHkiLCJldmFsdWF0ZVBhd25TdHJ1Y3R1cmUiLCJwaWVjZVNxdWFyZVZhbHVlcyIsInAiLCJuIiwiYiIsImNvbCIsInBpZWNlVGFibGUiLCJwb3NpdGlvblZhbHVlIiwiZ2V0QmVzdE1vdmUiLCJkZXB0aCIsImdldEdhbWVIaXN0b3J5IiwiaGlzdG9yeSIsImlzVmFsaWRNb3ZlIiwic29tZSIsImlzVmFsaWRQb3NpdGlvbiIsInJlc2V0IiwicG9zaXRpb25DYWNoZSIsImNsZWFyIiwiY2xvbmUiLCJjbG9uZWRFbmdpbmUiLCJmaWxlIiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwiY2hhckNvZGVBdCIsInJhbmsiLCJwYXJzZUludCIsImV2ZW50IiwiZXZlbnRFbWl0dGVyIiwiZW1pdCIsInBpZWNlVmFsdWVzIiwiciIsInEiLCJrIiwidmFsdWUiLCJ3aGl0ZU1vdmVzIiwibGVuZ3RoIiwidGVtcEdhbWUiLCJyZXBsYWNlIiwiYmxhY2tNb3ZlcyIsIm9uIiwiZXZlbnROYW1lIiwiaGFuZGxlciIsIm9mZiIsImNvbnN0cnVjdG9yIiwic3RhcnRQb3NpdGlvbiIsIk1hcCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/shared/engine/ChessEngineBase.ts\n"));

/***/ })

});