"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/index";
exports.ids = ["pages/index"];
exports.modules = {

/***/ "./src/pages/index.tsx":
/*!*****************************!*\
  !*** ./src/pages/index.tsx ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Home)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _web_components_board_ChessBoard__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../web/components/board/ChessBoard */ \"./src/web/components/board/ChessBoard.tsx\");\n/* harmony import */ var _web_components_controls_GameControls__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../web/components/controls/GameControls */ \"./src/web/components/controls/GameControls.tsx\");\n/* harmony import */ var _web_components_info_GameInfo__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../web/components/info/GameInfo */ \"./src/web/components/info/GameInfo.tsx\");\n/* harmony import */ var _shared_engine_CulturalChessEngine__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../shared/engine/CulturalChessEngine */ \"./src/shared/engine/CulturalChessEngine.ts\");\n/* harmony import */ var _shared_constants_game__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../shared/constants/game */ \"./src/shared/constants/game.ts\");\n\n\n\n\n\n\n\nfunction Home() {\n    const [engine] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(()=>new _shared_engine_CulturalChessEngine__WEBPACK_IMPORTED_MODULE_5__.CulturalChessEngine());\n    const [gameHistory, setGameHistory] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [canUndo, setCanUndo] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [orientation, setOrientation] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"white\");\n    const [culturalStyle, setCulturalStyle] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"modern\");\n    const [narratives, setNarratives] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [evaluation, setEvaluation] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [events, setEvents] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const handleMove = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((from, to)=>{\n        const success = engine.makeMove(from, to);\n        if (success) {\n            const analysis = engine.getStyleBasedEvaluation();\n            const newNarratives = engine.getCulturalNarrative();\n            const newEvents = engine.getCulturalEventHistory();\n            setNarratives(newNarratives);\n            setEvaluation(analysis.evaluation);\n            setEvents(newEvents);\n            setGameHistory((prev)=>[\n                    ...prev,\n                    {\n                        from,\n                        to,\n                        piece: engine.getPieceAt(to)\n                    }\n                ]);\n            setCanUndo(true);\n        }\n    }, []);\n    const handleGameEnd = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((result)=>{\n        alert(`Jogo finalizado! Resultado: ${result}`);\n    }, []);\n    const handleStyleChange = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((style)=>{\n        if (style in _shared_constants_game__WEBPACK_IMPORTED_MODULE_6__.CULTURAL_STYLES) {\n            setCulturalStyle(style);\n            engine.setCulturalStyle(style);\n            const analysis = engine.getStyleBasedEvaluation();\n            setEvaluation(analysis.evaluation);\n        }\n    }, []);\n    const handleNewGame = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        engine.reset();\n        setGameHistory([]);\n        setNarratives([]);\n        setEvents([]);\n        setEvaluation(0);\n        setCanUndo(false);\n    }, []);\n    const handleUndo = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        if (canUndo) {\n            engine.undoLastMove();\n            setGameHistory((prev)=>prev.slice(0, -1));\n            setCanUndo(gameHistory.length > 1);\n            const analysis = engine.getStyleBasedEvaluation();\n            const newNarratives = engine.getCulturalNarrative();\n            const newEvents = engine.getCulturalEventHistory();\n            setEvaluation(analysis.evaluation);\n            setNarratives(newNarratives);\n            setEvents(newEvents);\n        }\n    }, [\n        canUndo,\n        gameHistory.length\n    ]);\n    const handleFlipBoard = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        setOrientation((prev)=>prev === \"white\" ? \"black\" : \"white\");\n    }, []);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        \"data-testid\": \"app-container\",\n        className: \"flex flex-col gap-8\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                \"data-testid\": \"header\",\n                className: \"mb-8 text-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                        \"data-testid\": \"title\",\n                        className: \"text-4xl font-bold text-white mb-2\",\n                        children: \"CHESS: Sistema Cultural de Xadrez\"\n                    }, void 0, false, {\n                        fileName: \"/Users/jx/WORKSPACE/PROJECTS/CHESS/src/pages/index.tsx\",\n                        lineNumber: 85,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        \"data-testid\": \"subtitle\",\n                        className: \"text-emerald-100\",\n                        children: \"Uma experi\\xeancia \\xfanica de xadrez com elementos culturais adaptativos\"\n                    }, void 0, false, {\n                        fileName: \"/Users/jx/WORKSPACE/PROJECTS/CHESS/src/pages/index.tsx\",\n                        lineNumber: 88,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/jx/WORKSPACE/PROJECTS/CHESS/src/pages/index.tsx\",\n                lineNumber: 84,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                \"data-testid\": \"main-content\",\n                className: \"grid lg:grid-cols-3 gap-8\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        \"data-testid\": \"board-controls\",\n                        className: \"lg:col-span-2 space-y-8\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_web_components_controls_GameControls__WEBPACK_IMPORTED_MODULE_3__.MemoizedGameControls, {\n                                culturalStyle: culturalStyle,\n                                onStyleChange: handleStyleChange,\n                                onFlipBoard: handleFlipBoard,\n                                onNewGame: handleNewGame,\n                                onUndo: handleUndo,\n                                canUndo: canUndo,\n                                isPlayerTurn: true\n                            }, void 0, false, {\n                                fileName: \"/Users/jx/WORKSPACE/PROJECTS/CHESS/src/pages/index.tsx\",\n                                lineNumber: 97,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                \"data-testid\": \"board-container\",\n                                className: \"flex justify-center\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_web_components_board_ChessBoard__WEBPACK_IMPORTED_MODULE_2__.MemoizedChessBoard, {\n                                    orientation: orientation,\n                                    culturalStyle: culturalStyle,\n                                    showCoordinates: true,\n                                    onMove: handleMove,\n                                    onGameEnd: handleGameEnd\n                                }, void 0, false, {\n                                    fileName: \"/Users/jx/WORKSPACE/PROJECTS/CHESS/src/pages/index.tsx\",\n                                    lineNumber: 108,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/jx/WORKSPACE/PROJECTS/CHESS/src/pages/index.tsx\",\n                                lineNumber: 107,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/jx/WORKSPACE/PROJECTS/CHESS/src/pages/index.tsx\",\n                        lineNumber: 96,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        \"data-testid\": \"info-panel\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_web_components_info_GameInfo__WEBPACK_IMPORTED_MODULE_4__.MemoizedGameInfo, {\n                            culturalStyle: culturalStyle,\n                            moves: gameHistory,\n                            evaluation: evaluation,\n                            narratives: narratives,\n                            events: events\n                        }, void 0, false, {\n                            fileName: \"/Users/jx/WORKSPACE/PROJECTS/CHESS/src/pages/index.tsx\",\n                            lineNumber: 120,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/jx/WORKSPACE/PROJECTS/CHESS/src/pages/index.tsx\",\n                        lineNumber: 119,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/jx/WORKSPACE/PROJECTS/CHESS/src/pages/index.tsx\",\n                lineNumber: 94,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/jx/WORKSPACE/PROJECTS/CHESS/src/pages/index.tsx\",\n        lineNumber: 82,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFBLE9BQVFBLFNBQVMsVUFBVSxVQUFVLE9BQU87SUFDN0QsR0FBRyxFQUFFO0lBRUwscUJBQ0UsOERBQUNlO1FBQUlDLGVBQVk7UUFBZ0JDLFdBQVU7OzBCQUV2Qyw4REFBQ0Y7Z0JBQUlDLGVBQVk7Z0JBQVNDLFdBQVU7O2tDQUNsQyw4REFBQ0M7d0JBQUdGLGVBQVk7d0JBQVFDLFdBQVU7a0NBQXFDOzs7Ozs7a0NBR3ZFLDhEQUFDRTt3QkFBRUgsZUFBWTt3QkFBV0MsV0FBVTtrQ0FBbUI7Ozs7Ozs7Ozs7OzswQkFNekQsOERBQUNGO2dCQUFJQyxlQUFZO2dCQUFlQyxXQUFVOztrQ0FFeEMsOERBQUNGO3dCQUFJQyxlQUFZO3dCQUFpQkMsV0FBVTs7MENBQzFDLDhEQUFDaEQsdUZBQW9CQTtnQ0FDbkJZLGVBQWVBO2dDQUNmdUMsZUFBZWQ7Z0NBQ2ZlLGFBQWFQO2dDQUNiUSxXQUFXZDtnQ0FDWGUsUUFBUWI7Z0NBQ1JqQyxTQUFTQTtnQ0FDVCtDLGNBQWMsSUFBSTs7Ozs7OzBDQUdwQiw4REFBQ1Q7Z0NBQUlDLGVBQVk7Z0NBQWtCQyxXQUFVOzBDQUMzQyw0RUFBQ2pELGdGQUFrQkE7b0NBQ2pCVyxhQUFhQTtvQ0FDYkUsZUFBZUE7b0NBQ2Y0QyxpQkFBaUIsSUFBSTtvQ0FDckJDLFFBQVFyQztvQ0FDUnNDLFdBQVd4Qjs7Ozs7Ozs7Ozs7Ozs7Ozs7a0NBTWpCLDhEQUFDWTt3QkFBSUMsZUFBWTtrQ0FDZiw0RUFBQzlDLDJFQUFnQkE7NEJBQ2ZXLGVBQWVBOzRCQUNmK0MsT0FBT3JEOzRCQUNQVSxZQUFZQTs0QkFDWkYsWUFBWUE7NEJBQ1pJLFFBQVFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU10QixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2hlc3MvLi9zcmMvcGFnZXMvaW5kZXgudHN4PzE5YTAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IE1lbW9pemVkQ2hlc3NCb2FyZCB9IGZyb20gJy4uL3dlYi9jb21wb25lbnRzL2JvYXJkL0NoZXNzQm9hcmQnO1xuaW1wb3J0IHsgTWVtb2l6ZWRHYW1lQ29udHJvbHMgfSBmcm9tICcuLi93ZWIvY29tcG9uZW50cy9jb250cm9scy9HYW1lQ29udHJvbHMnO1xuaW1wb3J0IHsgTWVtb2l6ZWRHYW1lSW5mbyB9IGZyb20gJy4uL3dlYi9jb21wb25lbnRzL2luZm8vR2FtZUluZm8nO1xuaW1wb3J0IHsgQ2hlc3NQb3NpdGlvbiwgQ2hlc3NNb3ZlIH0gZnJvbSAnLi4vc2hhcmVkL3R5cGVzL2NoZXNzJztcbmltcG9ydCB7IEN1bHR1cmFsQ2hlc3NFbmdpbmUgfSBmcm9tICcuLi9zaGFyZWQvZW5naW5lL0N1bHR1cmFsQ2hlc3NFbmdpbmUnO1xuaW1wb3J0IHsgQ1VMVFVSQUxfU1RZTEVTIH0gZnJvbSAnLi4vc2hhcmVkL2NvbnN0YW50cy9nYW1lJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gSG9tZSgpIHtcbiAgY29uc3QgW2VuZ2luZV0gPSB1c2VTdGF0ZSgoKSA9PiBuZXcgQ3VsdHVyYWxDaGVzc0VuZ2luZSgpKTtcbiAgY29uc3QgW2dhbWVIaXN0b3J5LCBzZXRHYW1lSGlzdG9yeV0gPSB1c2VTdGF0ZTxDaGVzc01vdmVbXT4oW10pO1xuICBjb25zdCBbY2FuVW5kbywgc2V0Q2FuVW5kb10gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgY29uc3QgW29yaWVudGF0aW9uLCBzZXRPcmllbnRhdGlvbl0gPSB1c2VTdGF0ZTwnd2hpdGUnIHwgJ2JsYWNrJz4oJ3doaXRlJyk7XG4gIGNvbnN0IFtjdWx0dXJhbFN0eWxlLCBzZXRDdWx0dXJhbFN0eWxlXSA9IHVzZVN0YXRlKCdtb2Rlcm4nKTtcbiAgY29uc3QgW25hcnJhdGl2ZXMsIHNldE5hcnJhdGl2ZXNdID0gdXNlU3RhdGU8c3RyaW5nW10+KFtdKTtcbiAgY29uc3QgW2V2YWx1YXRpb24sIHNldEV2YWx1YXRpb25dID0gdXNlU3RhdGUoMCk7XG4gIGNvbnN0IFtldmVudHMsIHNldEV2ZW50c10gPSB1c2VTdGF0ZTxBcnJheTx7XG4gICAgdHlwZTogc3RyaW5nO1xuICAgIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gICAgdGltZXN0YW1wOiBudW1iZXI7XG4gIH0+PihbXSk7XG5cbiAgY29uc3QgaGFuZGxlTW92ZSA9IHVzZUNhbGxiYWNrKChmcm9tOiBDaGVzc1Bvc2l0aW9uLCB0bzogQ2hlc3NQb3NpdGlvbikgPT4ge1xuICAgIGNvbnN0IHN1Y2Nlc3MgPSBlbmdpbmUubWFrZU1vdmUoZnJvbSwgdG8pO1xuICAgIGlmIChzdWNjZXNzKSB7XG4gICAgICBjb25zdCBhbmFseXNpcyA9IGVuZ2luZS5nZXRTdHlsZUJhc2VkRXZhbHVhdGlvbigpO1xuICAgICAgY29uc3QgbmV3TmFycmF0aXZlcyA9IGVuZ2luZS5nZXRDdWx0dXJhbE5hcnJhdGl2ZSgpO1xuICAgICAgY29uc3QgbmV3RXZlbnRzID0gZW5naW5lLmdldEN1bHR1cmFsRXZlbnRIaXN0b3J5KCk7XG4gICAgICBcbiAgICAgIHNldE5hcnJhdGl2ZXMobmV3TmFycmF0aXZlcyk7XG4gICAgICBzZXRFdmFsdWF0aW9uKGFuYWx5c2lzLmV2YWx1YXRpb24pO1xuICAgICAgc2V0RXZlbnRzKG5ld0V2ZW50cyk7XG4gICAgICBzZXRHYW1lSGlzdG9yeShwcmV2ID0+IFsuLi5wcmV2LCB7IGZyb20sIHRvLCBwaWVjZTogZW5naW5lLmdldFBpZWNlQXQodG8pISB9XSk7XG4gICAgICBzZXRDYW5VbmRvKHRydWUpO1xuICAgIH1cbiAgfSwgW10pO1xuXG4gIGNvbnN0IGhhbmRsZUdhbWVFbmQgPSB1c2VDYWxsYmFjaygocmVzdWx0OiBzdHJpbmcpID0+IHtcbiAgICBhbGVydChgSm9nbyBmaW5hbGl6YWRvISBSZXN1bHRhZG86ICR7cmVzdWx0fWApO1xuICB9LCBbXSk7XG5cbiAgY29uc3QgaGFuZGxlU3R5bGVDaGFuZ2UgPSB1c2VDYWxsYmFjaygoc3R5bGU6IHN0cmluZykgPT4ge1xuICAgIGlmIChzdHlsZSBpbiBDVUxUVVJBTF9TVFlMRVMpIHtcbiAgICAgIHNldEN1bHR1cmFsU3R5bGUoc3R5bGUpO1xuICAgICAgZW5naW5lLnNldEN1bHR1cmFsU3R5bGUoc3R5bGUpO1xuICAgICAgY29uc3QgYW5hbHlzaXMgPSBlbmdpbmUuZ2V0U3R5bGVCYXNlZEV2YWx1YXRpb24oKTtcbiAgICAgIHNldEV2YWx1YXRpb24oYW5hbHlzaXMuZXZhbHVhdGlvbik7XG4gICAgfVxuICB9LCBbXSk7XG5cbiAgY29uc3QgaGFuZGxlTmV3R2FtZSA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBlbmdpbmUucmVzZXQoKTtcbiAgICBzZXRHYW1lSGlzdG9yeShbXSk7XG4gICAgc2V0TmFycmF0aXZlcyhbXSk7XG4gICAgc2V0RXZlbnRzKFtdKTtcbiAgICBzZXRFdmFsdWF0aW9uKDApO1xuICAgIHNldENhblVuZG8oZmFsc2UpO1xuICB9LCBbXSk7XG5cbiAgY29uc3QgaGFuZGxlVW5kbyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAoY2FuVW5kbykge1xuICAgICAgZW5naW5lLnVuZG9MYXN0TW92ZSgpO1xuICAgICAgc2V0R2FtZUhpc3RvcnkocHJldiA9PiBwcmV2LnNsaWNlKDAsIC0xKSk7XG4gICAgICBzZXRDYW5VbmRvKGdhbWVIaXN0b3J5Lmxlbmd0aCA+IDEpO1xuICAgICAgXG4gICAgICBjb25zdCBhbmFseXNpcyA9IGVuZ2luZS5nZXRTdHlsZUJhc2VkRXZhbHVhdGlvbigpO1xuICAgICAgY29uc3QgbmV3TmFycmF0aXZlcyA9IGVuZ2luZS5nZXRDdWx0dXJhbE5hcnJhdGl2ZSgpO1xuICAgICAgY29uc3QgbmV3RXZlbnRzID0gZW5naW5lLmdldEN1bHR1cmFsRXZlbnRIaXN0b3J5KCk7XG4gICAgICBcbiAgICAgIHNldEV2YWx1YXRpb24oYW5hbHlzaXMuZXZhbHVhdGlvbik7XG4gICAgICBzZXROYXJyYXRpdmVzKG5ld05hcnJhdGl2ZXMpO1xuICAgICAgc2V0RXZlbnRzKG5ld0V2ZW50cyk7XG4gICAgfVxuICB9LCBbY2FuVW5kbywgZ2FtZUhpc3RvcnkubGVuZ3RoXSk7XG5cbiAgY29uc3QgaGFuZGxlRmxpcEJvYXJkID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHNldE9yaWVudGF0aW9uKHByZXYgPT4gcHJldiA9PT0gJ3doaXRlJyA/ICdibGFjaycgOiAnd2hpdGUnKTtcbiAgfSwgW10pO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBkYXRhLXRlc3RpZD1cImFwcC1jb250YWluZXJcIiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGdhcC04XCI+XG4gICAgICAgIHsvKiBDYWJlw6dhbGhvICovfVxuICAgICAgICA8ZGl2IGRhdGEtdGVzdGlkPVwiaGVhZGVyXCIgY2xhc3NOYW1lPVwibWItOCB0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgIDxoMSBkYXRhLXRlc3RpZD1cInRpdGxlXCIgY2xhc3NOYW1lPVwidGV4dC00eGwgZm9udC1ib2xkIHRleHQtd2hpdGUgbWItMlwiPlxuICAgICAgICAgICAgQ0hFU1M6IFNpc3RlbWEgQ3VsdHVyYWwgZGUgWGFkcmV6XG4gICAgICAgICAgPC9oMT5cbiAgICAgICAgICA8cCBkYXRhLXRlc3RpZD1cInN1YnRpdGxlXCIgY2xhc3NOYW1lPVwidGV4dC1lbWVyYWxkLTEwMFwiPlxuICAgICAgICAgICAgVW1hIGV4cGVyacOqbmNpYSDDum5pY2EgZGUgeGFkcmV6IGNvbSBlbGVtZW50b3MgY3VsdHVyYWlzIGFkYXB0YXRpdm9zXG4gICAgICAgICAgPC9wPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7Lyogw4FyZWEgcHJpbmNpcGFsICovfVxuICAgICAgICA8ZGl2IGRhdGEtdGVzdGlkPVwibWFpbi1jb250ZW50XCIgY2xhc3NOYW1lPVwiZ3JpZCBsZzpncmlkLWNvbHMtMyBnYXAtOFwiPlxuICAgICAgICAgIHsvKiBDb250cm9sZXMgZSBUYWJ1bGVpcm8gKi99XG4gICAgICAgICAgPGRpdiBkYXRhLXRlc3RpZD1cImJvYXJkLWNvbnRyb2xzXCIgY2xhc3NOYW1lPVwibGc6Y29sLXNwYW4tMiBzcGFjZS15LThcIj5cbiAgICAgICAgICAgIDxNZW1vaXplZEdhbWVDb250cm9sc1xuICAgICAgICAgICAgICBjdWx0dXJhbFN0eWxlPXtjdWx0dXJhbFN0eWxlfVxuICAgICAgICAgICAgICBvblN0eWxlQ2hhbmdlPXtoYW5kbGVTdHlsZUNoYW5nZX1cbiAgICAgICAgICAgICAgb25GbGlwQm9hcmQ9e2hhbmRsZUZsaXBCb2FyZH1cbiAgICAgICAgICAgICAgb25OZXdHYW1lPXtoYW5kbGVOZXdHYW1lfVxuICAgICAgICAgICAgICBvblVuZG89e2hhbmRsZVVuZG99XG4gICAgICAgICAgICAgIGNhblVuZG89e2NhblVuZG99XG4gICAgICAgICAgICAgIGlzUGxheWVyVHVybj17dHJ1ZX0gLy8gVE9ETzogSW1wbGVtZW50YXIgbMOzZ2ljYSBkZSB0dXJub1xuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPGRpdiBkYXRhLXRlc3RpZD1cImJvYXJkLWNvbnRhaW5lclwiIGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgPE1lbW9pemVkQ2hlc3NCb2FyZFxuICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uPXtvcmllbnRhdGlvbn1cbiAgICAgICAgICAgICAgICBjdWx0dXJhbFN0eWxlPXtjdWx0dXJhbFN0eWxlfVxuICAgICAgICAgICAgICAgIHNob3dDb29yZGluYXRlcz17dHJ1ZX1cbiAgICAgICAgICAgICAgICBvbk1vdmU9e2hhbmRsZU1vdmV9XG4gICAgICAgICAgICAgICAgb25HYW1lRW5kPXtoYW5kbGVHYW1lRW5kfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICB7LyogUGFpbmVsIGRlIEluZm9ybWHDp8O1ZXMgKi99XG4gICAgICAgICAgPGRpdiBkYXRhLXRlc3RpZD1cImluZm8tcGFuZWxcIj5cbiAgICAgICAgICAgIDxNZW1vaXplZEdhbWVJbmZvXG4gICAgICAgICAgICAgIGN1bHR1cmFsU3R5bGU9e2N1bHR1cmFsU3R5bGV9XG4gICAgICAgICAgICAgIG1vdmVzPXtnYW1lSGlzdG9yeX1cbiAgICAgICAgICAgICAgZXZhbHVhdGlvbj17ZXZhbHVhdGlvbn1cbiAgICAgICAgICAgICAgbmFycmF0aXZlcz17bmFycmF0aXZlc31cbiAgICAgICAgICAgICAgZXZlbnRzPXtldmVudHN9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlQ2FsbGJhY2siLCJNZW1vaXplZENoZXNzQm9hcmQiLCJNZW1vaXplZEdhbWVDb250cm9scyIsIk1lbW9pemVkR2FtZUluZm8iLCJDdWx0dXJhbENoZXNzRW5naW5lIiwiQ1VMVFVSQUxfU1RZTEVTIiwiSG9tZSIsImVuZ2luZSIsImdhbWVIaXN0b3J5Iiwic2V0R2FtZUhpc3RvcnkiLCJjYW5VbmRvIiwic2V0Q2FuVW5kbyIsIm9yaWVudGF0aW9uIiwic2V0T3JpZW50YXRpb24iLCJjdWx0dXJhbFN0eWxlIiwic2V0Q3VsdHVyYWxTdHlsZSIsIm5hcnJhdGl2ZXMiLCJzZXROYXJyYXRpdmVzIiwiZXZhbHVhdGlvbiIsInNldEV2YWx1YXRpb24iLCJldmVudHMiLCJzZXRFdmVudHMiLCJoYW5kbGVNb3ZlIiwiZnJvbSIsInRvIiwic3VjY2VzcyIsIm1ha2VNb3ZlIiwiYW5hbHlzaXMiLCJnZXRTdHlsZUJhc2VkRXZhbHVhdGlvbiIsIm5ld05hcnJhdGl2ZXMiLCJnZXRDdWx0dXJhbE5hcnJhdGl2ZSIsIm5ld0V2ZW50cyIsImdldEN1bHR1cmFsRXZlbnRIaXN0b3J5IiwicHJldiIsInBpZWNlIiwiZ2V0UGllY2VBdCIsImhhbmRsZUdhbWVFbmQiLCJyZXN1bHQiLCJhbGVydCIsImhhbmRsZVN0eWxlQ2hhbmdlIiwic3R5bGUiLCJoYW5kbGVOZXdHYW1lIiwicmVzZXQiLCJoYW5kbGVVbmRvIiwidW5kb0xhc3RNb3ZlIiwic2xpY2UiLCJsZW5ndGgiLCJoYW5kbGVGbGlwQm9hcmQiLCJkaXYiLCJkYXRhLXRlc3RpZCIsImNsYXNzTmFtZSIsImgxIiwicCIsIm9uU3R5bGVDaGFuZ2UiLCJvbkZsaXBCb2FyZCIsIm9uTmV3R2FtZSIsIm9uVW5kbyIsImlzUGxheWVyVHVybiIsInNob3dDb29yZGluYXRlcyIsIm9uTW92ZSIsIm9uR2FtZUVuZCIsIm1vdmVzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/pages/index.tsx\n");

/***/ }),

/***/ "./src/shared/constants/game.ts":
/*!**************************************!*\
  !*** ./src/shared/constants/game.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"AI_LEVELS\": () => (/* binding */ AI_LEVELS),\n/* harmony export */   \"ANALYSIS_CONFIG\": () => (/* binding */ ANALYSIS_CONFIG),\n/* harmony export */   \"BOARD_SIZE\": () => (/* binding */ BOARD_SIZE),\n/* harmony export */   \"CACHE_CONFIG\": () => (/* binding */ CACHE_CONFIG),\n/* harmony export */   \"CULTURAL_EVENTS\": () => (/* binding */ CULTURAL_EVENTS),\n/* harmony export */   \"CULTURAL_STYLES\": () => (/* binding */ CULTURAL_STYLES),\n/* harmony export */   \"GAME_RESULTS\": () => (/* binding */ GAME_RESULTS),\n/* harmony export */   \"GAME_STATUS\": () => (/* binding */ GAME_STATUS),\n/* harmony export */   \"INITIAL_FEN\": () => (/* binding */ INITIAL_FEN),\n/* harmony export */   \"MONITORING_CONFIG\": () => (/* binding */ MONITORING_CONFIG),\n/* harmony export */   \"MOVE_QUALITY\": () => (/* binding */ MOVE_QUALITY),\n/* harmony export */   \"MOVE_TYPES\": () => (/* binding */ MOVE_TYPES),\n/* harmony export */   \"PIECES\": () => (/* binding */ PIECES),\n/* harmony export */   \"PIECE_SYMBOLS\": () => (/* binding */ PIECE_SYMBOLS),\n/* harmony export */   \"TIME_CONTROLS\": () => (/* binding */ TIME_CONTROLS)\n/* harmony export */ });\n// Constantes do jogo de xadrez\n// Configurações do tabuleiro\nconst BOARD_SIZE = 8;\nconst INITIAL_FEN = \"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1\";\n// Peças do jogo\nconst PIECES = {\n    KING: \"k\",\n    QUEEN: \"q\",\n    ROOK: \"r\",\n    BISHOP: \"b\",\n    KNIGHT: \"n\",\n    PAWN: \"p\"\n};\n// Símbolos Unicode das peças\nconst PIECE_SYMBOLS = {\n    // Peças brancas\n    \"K\": \"♔\",\n    \"Q\": \"♕\",\n    \"R\": \"♖\",\n    \"B\": \"♗\",\n    \"N\": \"♘\",\n    \"P\": \"♙\",\n    // Peças pretas\n    \"k\": \"♚\",\n    \"q\": \"♛\",\n    \"r\": \"♜\",\n    \"b\": \"♝\",\n    \"n\": \"♞\",\n    \"p\": \"♟\"\n};\n// Status do jogo\nconst GAME_STATUS = {\n    WAITING: \"waiting\",\n    ACTIVE: \"active\",\n    PAUSED: \"paused\",\n    COMPLETED: \"completed\",\n    ABORTED: \"aborted\"\n};\n// Tipos de movimento\nconst MOVE_TYPES = {\n    NORMAL: \"normal\",\n    CAPTURE: \"capture\",\n    CASTLE_KINGSIDE: \"castle_kingside\",\n    CASTLE_QUEENSIDE: \"castle_queenside\",\n    EN_PASSANT: \"en_passant\",\n    PROMOTION: \"promotion\"\n};\n// Resultados do jogo\nconst GAME_RESULTS = {\n    WHITE_WIN: \"white_win\",\n    BLACK_WIN: \"black_win\",\n    DRAW: \"draw\",\n    STALEMATE: \"stalemate\",\n    INSUFFICIENT_MATERIAL: \"insufficient_material\",\n    THREEFOLD_REPETITION: \"threefold_repetition\",\n    FIFTY_MOVE_RULE: \"fifty_move_rule\",\n    ABANDONED: \"abandoned\"\n};\n// Controles de tempo\nconst TIME_CONTROLS = {\n    BULLET: {\n        initial: 60 * 1,\n        increment: 0\n    },\n    BLITZ: {\n        initial: 60 * 3,\n        increment: 2\n    },\n    RAPID: {\n        initial: 60 * 10,\n        increment: 5\n    },\n    CLASSICAL: {\n        initial: 60 * 30,\n        increment: 10\n    }\n};\n// Níveis de dificuldade da IA\nconst AI_LEVELS = {\n    BEGINNER: 1,\n    CASUAL: 3,\n    INTERMEDIATE: 5,\n    ADVANCED: 7,\n    EXPERT: 9\n};\n// Estilos culturais\nconst CULTURAL_STYLES = {\n    MEDIEVAL: \"medieval\",\n    RENAISSANCE: \"renaissance\",\n    MODERN: \"modern\",\n    ANCIENT: \"ancient\"\n};\n// Eventos culturais\nconst CULTURAL_EVENTS = {\n    BRILLIANT_MOVE: \"brilliant_move\",\n    CRITICAL_POSITION: \"critical_position\",\n    WINNING_SEQUENCE: \"winning_sequence\",\n    TACTICAL_OPPORTUNITY: \"tactical_opportunity\",\n    STRATEGIC_ADVANTAGE: \"strategic_advantage\"\n};\n// Configurações de análise\nconst ANALYSIS_CONFIG = {\n    DEPTH_DEFAULT: 20,\n    DEPTH_DEEP: 30,\n    MIN_TIME: 100,\n    MAX_TIME: 5000,\n    NODES_LIMIT: 1000000\n};\n// Métricas de qualidade\nconst MOVE_QUALITY = {\n    BRILLIANT: {\n        threshold: 0.95,\n        color: \"#FFD700\"\n    },\n    GREAT: {\n        threshold: 0.85,\n        color: \"#32CD32\"\n    },\n    GOOD: {\n        threshold: 0.70,\n        color: \"#90EE90\"\n    },\n    INACCURACY: {\n        threshold: 0.50,\n        color: \"#FFD700\"\n    },\n    MISTAKE: {\n        threshold: 0.30,\n        color: \"#FFA500\"\n    },\n    BLUNDER: {\n        threshold: 0.15,\n        color: \"#FF0000\"\n    }\n};\n// Configurações de cache\nconst CACHE_CONFIG = {\n    POSITION_TTL: 60 * 60,\n    ANALYSIS_TTL: 24 * 60 * 60,\n    MAX_CACHE_SIZE: 1000,\n    WARMUP_DEPTH: 2\n};\n// Configurações de monitoramento\nconst MONITORING_CONFIG = {\n    METRICS_INTERVAL: 5000,\n    HEALTH_CHECK_INTERVAL: 30000,\n    ERROR_THRESHOLD: 0.05,\n    PERFORMANCE_THRESHOLD: 1000\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LGtCQUFrQjtJQUNsQkMsdUJBQXVCO0lBQ3ZCQyxpQkFBaUI7SUFDakJDLHVCQUF1QjtBQUN6QixFQUFXIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2hlc3MvLi9zcmMvc2hhcmVkL2NvbnN0YW50cy9nYW1lLnRzPzQ1YWYiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29uc3RhbnRlcyBkbyBqb2dvIGRlIHhhZHJlelxuXG4vLyBDb25maWd1cmHDp8O1ZXMgZG8gdGFidWxlaXJvXG5leHBvcnQgY29uc3QgQk9BUkRfU0laRSA9IDg7XG5leHBvcnQgY29uc3QgSU5JVElBTF9GRU4gPSAncm5icWtibnIvcHBwcHBwcHAvOC84LzgvOC9QUFBQUFBQUC9STkJRS0JOUiB3IEtRa3EgLSAwIDEnO1xuXG4vLyBQZcOnYXMgZG8gam9nb1xuZXhwb3J0IGNvbnN0IFBJRUNFUyA9IHtcbiAgS0lORzogJ2snLFxuICBRVUVFTjogJ3EnLFxuICBST09LOiAncicsXG4gIEJJU0hPUDogJ2InLFxuICBLTklHSFQ6ICduJyxcbiAgUEFXTjogJ3AnLFxufSBhcyBjb25zdDtcblxuLy8gU8OtbWJvbG9zIFVuaWNvZGUgZGFzIHBlw6dhc1xuZXhwb3J0IGNvbnN0IFBJRUNFX1NZTUJPTFMgPSB7XG4gIC8vIFBlw6dhcyBicmFuY2FzXG4gICdLJzogJ+KZlCcsXG4gICdRJzogJ+KZlScsXG4gICdSJzogJ+KZlicsXG4gICdCJzogJ+KZlycsXG4gICdOJzogJ+KZmCcsXG4gICdQJzogJ+KZmScsXG4gIC8vIFBlw6dhcyBwcmV0YXNcbiAgJ2snOiAn4pmaJyxcbiAgJ3EnOiAn4pmbJyxcbiAgJ3InOiAn4pmcJyxcbiAgJ2InOiAn4pmdJyxcbiAgJ24nOiAn4pmeJyxcbiAgJ3AnOiAn4pmfJyxcbn0gYXMgY29uc3Q7XG5cbi8vIFN0YXR1cyBkbyBqb2dvXG5leHBvcnQgY29uc3QgR0FNRV9TVEFUVVMgPSB7XG4gIFdBSVRJTkc6ICd3YWl0aW5nJyxcbiAgQUNUSVZFOiAnYWN0aXZlJyxcbiAgUEFVU0VEOiAncGF1c2VkJyxcbiAgQ09NUExFVEVEOiAnY29tcGxldGVkJyxcbiAgQUJPUlRFRDogJ2Fib3J0ZWQnLFxufSBhcyBjb25zdDtcblxuLy8gVGlwb3MgZGUgbW92aW1lbnRvXG5leHBvcnQgY29uc3QgTU9WRV9UWVBFUyA9IHtcbiAgTk9STUFMOiAnbm9ybWFsJyxcbiAgQ0FQVFVSRTogJ2NhcHR1cmUnLFxuICBDQVNUTEVfS0lOR1NJREU6ICdjYXN0bGVfa2luZ3NpZGUnLFxuICBDQVNUTEVfUVVFRU5TSURFOiAnY2FzdGxlX3F1ZWVuc2lkZScsXG4gIEVOX1BBU1NBTlQ6ICdlbl9wYXNzYW50JyxcbiAgUFJPTU9USU9OOiAncHJvbW90aW9uJyxcbn0gYXMgY29uc3Q7XG5cbi8vIFJlc3VsdGFkb3MgZG8gam9nb1xuZXhwb3J0IGNvbnN0IEdBTUVfUkVTVUxUUyA9IHtcbiAgV0hJVEVfV0lOOiAnd2hpdGVfd2luJyxcbiAgQkxBQ0tfV0lOOiAnYmxhY2tfd2luJyxcbiAgRFJBVzogJ2RyYXcnLFxuICBTVEFMRU1BVEU6ICdzdGFsZW1hdGUnLFxuICBJTlNVRkZJQ0lFTlRfTUFURVJJQUw6ICdpbnN1ZmZpY2llbnRfbWF0ZXJpYWwnLFxuICBUSFJFRUZPTERfUkVQRVRJVElPTjogJ3RocmVlZm9sZF9yZXBldGl0aW9uJyxcbiAgRklGVFlfTU9WRV9SVUxFOiAnZmlmdHlfbW92ZV9ydWxlJyxcbiAgQUJBTkRPTkVEOiAnYWJhbmRvbmVkJyxcbn0gYXMgY29uc3Q7XG5cbi8vIENvbnRyb2xlcyBkZSB0ZW1wb1xuZXhwb3J0IGNvbnN0IFRJTUVfQ09OVFJPTFMgPSB7XG4gIEJVTExFVDoge1xuICAgIGluaXRpYWw6IDYwICogMSwgICAgICAvLyAxIG1pbnV0b1xuICAgIGluY3JlbWVudDogMCxcbiAgfSxcbiAgQkxJVFo6IHtcbiAgICBpbml0aWFsOiA2MCAqIDMsICAgICAgLy8gMyBtaW51dG9zXG4gICAgaW5jcmVtZW50OiAyLFxuICB9LFxuICBSQVBJRDoge1xuICAgIGluaXRpYWw6IDYwICogMTAsICAgICAvLyAxMCBtaW51dG9zXG4gICAgaW5jcmVtZW50OiA1LFxuICB9LFxuICBDTEFTU0lDQUw6IHtcbiAgICBpbml0aWFsOiA2MCAqIDMwLCAgICAgLy8gMzAgbWludXRvc1xuICAgIGluY3JlbWVudDogMTAsXG4gIH0sXG59IGFzIGNvbnN0O1xuXG4vLyBOw612ZWlzIGRlIGRpZmljdWxkYWRlIGRhIElBXG5leHBvcnQgY29uc3QgQUlfTEVWRUxTID0ge1xuICBCRUdJTk5FUjogMSxcbiAgQ0FTVUFMOiAzLFxuICBJTlRFUk1FRElBVEU6IDUsXG4gIEFEVkFOQ0VEOiA3LFxuICBFWFBFUlQ6IDksXG59IGFzIGNvbnN0O1xuXG4vLyBFc3RpbG9zIGN1bHR1cmFpc1xuZXhwb3J0IGNvbnN0IENVTFRVUkFMX1NUWUxFUyA9IHtcbiAgTUVESUVWQUw6ICdtZWRpZXZhbCcsXG4gIFJFTkFJU1NBTkNFOiAncmVuYWlzc2FuY2UnLFxuICBNT0RFUk46ICdtb2Rlcm4nLFxuICBBTkNJRU5UOiAnYW5jaWVudCcsXG59IGFzIGNvbnN0O1xuXG4vLyBFdmVudG9zIGN1bHR1cmFpc1xuZXhwb3J0IGNvbnN0IENVTFRVUkFMX0VWRU5UUyA9IHtcbiAgQlJJTExJQU5UX01PVkU6ICdicmlsbGlhbnRfbW92ZScsXG4gIENSSVRJQ0FMX1BPU0lUSU9OOiAnY3JpdGljYWxfcG9zaXRpb24nLFxuICBXSU5OSU5HX1NFUVVFTkNFOiAnd2lubmluZ19zZXF1ZW5jZScsXG4gIFRBQ1RJQ0FMX09QUE9SVFVOSVRZOiAndGFjdGljYWxfb3Bwb3J0dW5pdHknLFxuICBTVFJBVEVHSUNfQURWQU5UQUdFOiAnc3RyYXRlZ2ljX2FkdmFudGFnZScsXG59IGFzIGNvbnN0O1xuXG4vLyBDb25maWd1cmHDp8O1ZXMgZGUgYW7DoWxpc2VcbmV4cG9ydCBjb25zdCBBTkFMWVNJU19DT05GSUcgPSB7XG4gIERFUFRIX0RFRkFVTFQ6IDIwLFxuICBERVBUSF9ERUVQOiAzMCxcbiAgTUlOX1RJTUU6IDEwMCwgICAgLy8gbXNcbiAgTUFYX1RJTUU6IDUwMDAsICAgLy8gbXNcbiAgTk9ERVNfTElNSVQ6IDEwMDAwMDAsXG59IGFzIGNvbnN0O1xuXG4vLyBNw6l0cmljYXMgZGUgcXVhbGlkYWRlXG5leHBvcnQgY29uc3QgTU9WRV9RVUFMSVRZID0ge1xuICBCUklMTElBTlQ6IHtcbiAgICB0aHJlc2hvbGQ6IDAuOTUsXG4gICAgY29sb3I6ICcjRkZENzAwJyxcbiAgfSxcbiAgR1JFQVQ6IHtcbiAgICB0aHJlc2hvbGQ6IDAuODUsXG4gICAgY29sb3I6ICcjMzJDRDMyJyxcbiAgfSxcbiAgR09PRDoge1xuICAgIHRocmVzaG9sZDogMC43MCxcbiAgICBjb2xvcjogJyM5MEVFOTAnLFxuICB9LFxuICBJTkFDQ1VSQUNZOiB7XG4gICAgdGhyZXNob2xkOiAwLjUwLFxuICAgIGNvbG9yOiAnI0ZGRDcwMCcsXG4gIH0sXG4gIE1JU1RBS0U6IHtcbiAgICB0aHJlc2hvbGQ6IDAuMzAsXG4gICAgY29sb3I6ICcjRkZBNTAwJyxcbiAgfSxcbiAgQkxVTkRFUjoge1xuICAgIHRocmVzaG9sZDogMC4xNSxcbiAgICBjb2xvcjogJyNGRjAwMDAnLFxuICB9LFxufSBhcyBjb25zdDtcblxuLy8gQ29uZmlndXJhw6fDtWVzIGRlIGNhY2hlXG5leHBvcnQgY29uc3QgQ0FDSEVfQ09ORklHID0ge1xuICBQT1NJVElPTl9UVEw6IDYwICogNjAsICAgIC8vIDEgaG9yYVxuICBBTkFMWVNJU19UVEw6IDI0ICogNjAgKiA2MCwgLy8gMSBkaWFcbiAgTUFYX0NBQ0hFX1NJWkU6IDEwMDAsICAgICAvLyBlbnRyYWRhc1xuICBXQVJNVVBfREVQVEg6IDIsICAgICAgICAgIC8vIG7DrXZlaXMgZGUgcHJvZnVuZGlkYWRlIHBhcmEgcHLDqS1jYXJyZWdhclxufSBhcyBjb25zdDtcblxuLy8gQ29uZmlndXJhw6fDtWVzIGRlIG1vbml0b3JhbWVudG9cbmV4cG9ydCBjb25zdCBNT05JVE9SSU5HX0NPTkZJRyA9IHtcbiAgTUVUUklDU19JTlRFUlZBTDogNTAwMCwgICAvLyA1IHNlZ3VuZG9zXG4gIEhFQUxUSF9DSEVDS19JTlRFUlZBTDogMzAwMDAsIC8vIDMwIHNlZ3VuZG9zXG4gIEVSUk9SX1RIUkVTSE9MRDogMC4wNSwgICAgLy8gNSUgZGUgZXJybyBtw6F4aW1vXG4gIFBFUkZPUk1BTkNFX1RIUkVTSE9MRDogMTAwMCwgLy8gMSBzZWd1bmRvIG3DoXhpbW8gZGUgcmVzcG9zdGFcbn0gYXMgY29uc3Q7XG4iXSwibmFtZXMiOlsiQk9BUkRfU0laRSIsIklOSVRJQUxfRkVOIiwiUElFQ0VTIiwiS0lORyIsIlFVRUVOIiwiUk9PSyIsIkJJU0hPUCIsIktOSUdIVCIsIlBBV04iLCJQSUVDRV9TWU1CT0xTIiwiR0FNRV9TVEFUVVMiLCJXQUlUSU5HIiwiQUNUSVZFIiwiUEFVU0VEIiwiQ09NUExFVEVEIiwiQUJPUlRFRCIsIk1PVkVfVFlQRVMiLCJOT1JNQUwiLCJDQVBUVVJFIiwiQ0FTVExFX0tJTkdTSURFIiwiQ0FTVExFX1FVRUVOU0lERSIsIkVOX1BBU1NBTlQiLCJQUk9NT1RJT04iLCJHQU1FX1JFU1VMVFMiLCJXSElURV9XSU4iLCJCTEFDS19XSU4iLCJEUkFXIiwiU1RBTEVNQVRFIiwiSU5TVUZGSUNJRU5UX01BVEVSSUFMIiwiVEhSRUVGT0xEX1JFUEVUSVRJT04iLCJGSUZUWV9NT1ZFX1JVTEUiLCJBQkFORE9ORUQiLCJUSU1FX0NPTlRST0xTIiwiQlVMTEVUIiwiaW5pdGlhbCIsImluY3JlbWVudCIsIkJMSVRaIiwiUkFQSUQiLCJDTEFTU0lDQUwiLCJBSV9MRVZFTFMiLCJCRUdJTk5FUiIsIkNBU1VBTCIsIklOVEVSTUVESUFURSIsIkFEVkFOQ0VEIiwiRVhQRVJUIiwiQ1VMVFVSQUxfU1RZTEVTIiwiTUVESUVWQUwiLCJSRU5BSVNTQU5DRSIsIk1PREVSTiIsIkFOQ0lFTlQiLCJDVUxUVVJBTF9FVkVOVFMiLCJCUklMTElBTlRfTU9WRSIsIkNSSVRJQ0FMX1BPU0lUSU9OIiwiV0lOTklOR19TRVFVRU5DRSIsIlRBQ1RJQ0FMX09QUE9SVFVOSVRZIiwiU1RSQVRFR0lDX0FEVkFOVEFHRSIsIkFOQUxZU0lTX0NPTkZJRyIsIkRFUFRIX0RFRkFVTFQiLCJERVBUSF9ERUVQIiwiTUlOX1RJTUUiLCJNQVhfVElNRSIsIk5PREVTX0xJTUlUIiwiTU9WRV9RVUFMSVRZIiwiQlJJTExJQU5UIiwidGhyZXNob2xkIiwiY29sb3IiLCJHUkVBVCIsIkdPT0QiLCJJTkFDQ1VSQUNZIiwiTUlTVEFLRSIsIkJMVU5ERVIiLCJDQUNIRV9DT05GSUciLCJQT1NJVElPTl9UVEwiLCJBTkFMWVNJU19UVEwiLCJNQVhfQ0FDSEVfU0laRSIsIldBUk1VUF9ERVBUSCIsIk1PTklUT1JJTkdfQ09ORklHIiwiTUVUUklDU19JTlRFUlZBTCIsIkhFQUxUSF9DSEVDS19JTlRFUlZBTCIsIkVSUk9SX1RIUkVTSE9MRCIsIlBFUkZPUk1BTkNFX1RIUkVTSE9MRCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/shared/constants/game.ts\n");

/***/ }),

/***/ "./src/shared/engine/ChessEngineBase.ts":
/*!**********************************************!*\
  !*** ./src/shared/engine/ChessEngineBase.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ChessEngineBase\": () => (/* binding */ ChessEngineBase)\n/* harmony export */ });\n/* harmony import */ var chess_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! chess.js */ \"chess.js\");\n/* harmony import */ var chess_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(chess_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _monitoring_ArquimaxMonitor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./monitoring/ArquimaxMonitor */ \"./src/shared/engine/monitoring/ArquimaxMonitor.ts\");\n/* harmony import */ var _constants_game__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants/game */ \"./src/shared/constants/game.ts\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! events */ \"events\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\n/**\n * Implementação base do motor de xadrez.\n * \n * Esta classe fornece a funcionalidade central para um motor de xadrez,\n * incluindo gerenciamento de estado do jogo, validação de movimentos,\n * avaliação de posição e eventos do jogo.\n * \n * @implements {ChessEngine}\n */ class ChessEngineBase {\n    /**\n   * Cria uma nova instância do motor de xadrez.\n   * \n   * @param options - Opções de configuração do motor\n   * @param options.startPosition - Posição inicial em notação FEN (opcional)\n   * @param options.evaluationParameters - Parâmetros para avaliação de posição (opcional)\n   */ constructor(options = {}){\n        this.game = new chess_js__WEBPACK_IMPORTED_MODULE_0__.Chess(options.startPosition || _constants_game__WEBPACK_IMPORTED_MODULE_2__.INITIAL_FEN);\n        this.options = options;\n        this.eventEmitter = new events__WEBPACK_IMPORTED_MODULE_3__.EventEmitter();\n        this.positionCache = new Map();\n        this.monitor = new _monitoring_ArquimaxMonitor__WEBPACK_IMPORTED_MODULE_1__.ArquimaxMonitor();\n    }\n    // Estado do jogo\n    /**\n   * Obtém a representação atual do tabuleiro.\n   * \n   * @returns Uma matriz 8x8 representando o tabuleiro, onde cada elemento\n   * é uma peça de xadrez ou null para casas vazias.\n   */ getBoard() {\n        const board = this.game.board();\n        return board.map((row)=>row.map((square)=>square ? {\n                    type: square.type,\n                    color: square.color === \"w\" ? \"white\" : \"black\"\n                } : null));\n    }\n    /**\n   * Obtém a posição atual em notação FEN.\n   * \n   * @returns String FEN representando o estado atual do jogo\n   */ getFEN() {\n        return this.game.fen();\n    }\n    /**\n   * Define uma nova posição para o jogo usando notação FEN.\n   * \n   * @param fen - String FEN representando a nova posição\n   * @throws {Error} Se a string FEN for inválida\n   * @emits {POSITION_CHANGED} Quando a posição é alterada com sucesso\n   */ setFEN(fen) {\n        try {\n            // Na nova versão do chess.js, load() já valida o FEN\n            this.game.load(fen);\n            this.emitEvent({\n                type: \"POSITION_CHANGED\",\n                fen\n            });\n        } catch (e) {\n            throw new Error(\"Invalid FEN string\");\n        }\n    }\n    // Movimentos\n    /**\n   * Obtém todos os movimentos legais possíveis para uma peça em uma determinada posição.\n   * \n   * @param position - Posição da peça no tabuleiro\n   * @returns Lista de movimentos legais possíveis\n   */ getPossibleMoves(position) {\n        try {\n            const square = this.positionToSquare(position);\n            const fen = this.getFEN();\n            const cacheKey = `${fen}:${square}`;\n            const cacheHit = this.positionCache.has(cacheKey);\n            let moves;\n            if (cacheHit) {\n                const cache = this.positionCache.get(cacheKey);\n                moves = cache.bestLine;\n            } else {\n                moves = this.game.moves({\n                    square,\n                    verbose: true\n                });\n                // Cache the result\n                this.positionCache.set(cacheKey, {\n                    evaluation: 0,\n                    depth: 0,\n                    bestLine: moves,\n                    threats: [],\n                    positionalFeatures: {\n                        pawnStructure: 0,\n                        kingSafety: 0,\n                        mobility: 0,\n                        centerControl: 0,\n                        pieceActivity: 0\n                    }\n                });\n            }\n            this.monitor.recordCacheAccess(cacheHit);\n            return moves.map((move)=>({\n                    from: this.squareToPosition(move.from),\n                    to: this.squareToPosition(move.to),\n                    piece: {\n                        type: move.piece,\n                        color: move.color === \"w\" ? \"white\" : \"black\"\n                    },\n                    captured: move.captured ? {\n                        type: move.captured,\n                        color: move.color === \"w\" ? \"black\" : \"white\"\n                    } : undefined,\n                    promotion: move.promotion\n                }));\n        } catch (e) {\n            // Se houver erro na geração de movimentos, retorna lista vazia\n            return [];\n        }\n    }\n    /**\n   * Executa um movimento no tabuleiro.\n   * \n   * @param from - Posição inicial da peça\n   * @param to - Posição final da peça\n   * @returns true se o movimento foi executado com sucesso, false caso contrário\n   * @emits {MOVE_MADE} Quando um movimento é realizado com sucesso\n   * @emits {CHECK} Quando o movimento resulta em xeque\n   * @emits {GAME_OVER} Quando o movimento resulta em fim de jogo\n   */ makeMove(from, to) {\n        try {\n            const move = this.game.move({\n                from: this.positionToSquare(from),\n                to: this.positionToSquare(to),\n                promotion: \"q\" // Auto-promove para rainha por padrão\n            });\n            if (move) {\n                const chessMove = {\n                    from,\n                    to,\n                    piece: {\n                        type: move.piece,\n                        color: move.color === \"w\" ? \"white\" : \"black\"\n                    },\n                    captured: move.captured ? {\n                        type: move.captured,\n                        color: move.color === \"w\" ? \"black\" : \"white\"\n                    } : undefined,\n                    promotion: move.promotion\n                };\n                this.emitEvent({\n                    type: \"MOVE_MADE\",\n                    move: chessMove\n                });\n                if (this.isCheck()) {\n                    this.emitEvent({\n                        type: \"CHECK\",\n                        kingPosition: this.findKing(this.getCurrentPlayer())\n                    });\n                }\n                if (this.isGameOver()) {\n                    let result = \"draw\";\n                    if (this.isCheckmate()) {\n                        result = this.getCurrentPlayer() === \"white\" ? \"black\" : \"white\";\n                    }\n                    this.emitEvent({\n                        type: \"GAME_OVER\",\n                        result\n                    });\n                }\n                return true;\n            }\n            return false;\n        } catch (e) {\n            return false;\n        }\n    }\n    /**\n   * Desfaz o último movimento realizado.\n   * \n   * @returns true se havia um movimento para desfazer, false caso contrário\n   * @emits {POSITION_CHANGED} Quando o movimento é desfeito com sucesso\n   */ undoLastMove() {\n        const move = this.game.undo();\n        if (move) {\n            this.emitEvent({\n                type: \"POSITION_CHANGED\",\n                fen: this.getFEN()\n            });\n            return true;\n        }\n        return false;\n    }\n    // Estado do jogo\n    /**\n   * Verifica se o jogador atual está em xeque.\n   * \n   * @returns true se o jogador atual está em xeque, false caso contrário\n   */ isCheck() {\n        return this.game.isCheck();\n    }\n    /**\n   * Verifica se o jogador atual está em xeque-mate.\n   * \n   * @returns true se o jogador atual está em xeque-mate, false caso contrário\n   */ isCheckmate() {\n        return this.game.isCheckmate();\n    }\n    /**\n   * Verifica se o jogo está empatado.\n   * \n   * @returns true se o jogo está empatado, false caso contrário\n   */ isDraw() {\n        return this.game.isDraw();\n    }\n    /**\n   * Verifica se o jogo terminou (xeque-mate ou empate).\n   * \n   * @returns true se o jogo terminou, false caso contrário\n   */ isGameOver() {\n        return this.game.isGameOver();\n    }\n    /**\n   * Obtém o jogador atual.\n   * \n   * @returns 'white' para as brancas, 'black' para as pretas\n   */ getCurrentPlayer() {\n        const turn = this.game.turn();\n        return turn === \"w\" ? \"white\" : \"black\";\n    }\n    // Avaliação e análise\n    /**\n   * Avalia a posição atual do jogo.\n   * \n   * Esta função considera diversos fatores para avaliar a posição:\n   * - Material: Valor das peças presentes no tabuleiro\n   * - Posição: Qualidade do posicionamento das peças\n   * - Mobilidade: Quantidade de movimentos disponíveis\n   * - Segurança do Rei: Avaliação da proteção do rei\n   * - Estrutura de Peões: Qualidade da estrutura de peões\n   * \n   * @returns Um número que representa a avaliação da posição.\n   * Valores positivos favorecem as brancas, negativos favorecem as pretas.\n   */ evaluatePosition() {\n        // Implementação básica de avaliação\n        const weights = this.options.evaluationParameters || {\n            materialWeight: 1,\n            positionWeight: 0.1,\n            mobilityWeight: 0.1,\n            kingSafetyWeight: 0.2,\n            pawnStructureWeight: 0.1\n        };\n        let score = 0;\n        // Material\n        score += this.evaluateMaterial() * weights.materialWeight;\n        // Posição das peças\n        score += this.evaluatePiecePositions() * weights.positionWeight;\n        // Mobilidade\n        score += this.evaluateMobility() * weights.mobilityWeight;\n        // Segurança do rei\n        score += this.evaluateKingSafety() * weights.kingSafetyWeight;\n        // Estrutura de peões\n        score += this.evaluatePawnStructure() * weights.pawnStructureWeight;\n        return score;\n    }\n    evaluatePiecePositions() {\n        // Simple piece-square tables evaluation\n        const pieceSquareValues = {\n            p: [\n                [\n                    0,\n                    0,\n                    0,\n                    0,\n                    0,\n                    0,\n                    0,\n                    0\n                ],\n                [\n                    50,\n                    50,\n                    50,\n                    50,\n                    50,\n                    50,\n                    50,\n                    50\n                ],\n                [\n                    10,\n                    10,\n                    20,\n                    30,\n                    30,\n                    20,\n                    10,\n                    10\n                ],\n                [\n                    5,\n                    5,\n                    10,\n                    25,\n                    25,\n                    10,\n                    5,\n                    5\n                ],\n                [\n                    0,\n                    0,\n                    0,\n                    20,\n                    20,\n                    0,\n                    0,\n                    0\n                ],\n                [\n                    5,\n                    -5,\n                    -10,\n                    0,\n                    0,\n                    -10,\n                    -5,\n                    5\n                ],\n                [\n                    5,\n                    10,\n                    10,\n                    -20,\n                    -20,\n                    10,\n                    10,\n                    5\n                ],\n                [\n                    0,\n                    0,\n                    0,\n                    0,\n                    0,\n                    0,\n                    0,\n                    0\n                ]\n            ],\n            n: [\n                [\n                    -50,\n                    -40,\n                    -30,\n                    -30,\n                    -30,\n                    -30,\n                    -40,\n                    -50\n                ],\n                [\n                    -40,\n                    -20,\n                    0,\n                    0,\n                    0,\n                    0,\n                    -20,\n                    -40\n                ],\n                [\n                    -30,\n                    0,\n                    10,\n                    15,\n                    15,\n                    10,\n                    0,\n                    -30\n                ],\n                [\n                    -30,\n                    5,\n                    15,\n                    20,\n                    20,\n                    15,\n                    5,\n                    -30\n                ],\n                [\n                    -30,\n                    0,\n                    15,\n                    20,\n                    20,\n                    15,\n                    0,\n                    -30\n                ],\n                [\n                    -30,\n                    5,\n                    10,\n                    15,\n                    15,\n                    10,\n                    5,\n                    -30\n                ],\n                [\n                    -40,\n                    -20,\n                    0,\n                    5,\n                    5,\n                    0,\n                    -20,\n                    -40\n                ],\n                [\n                    -50,\n                    -40,\n                    -30,\n                    -30,\n                    -30,\n                    -30,\n                    -40,\n                    -50\n                ]\n            ],\n            b: [\n                [\n                    -20,\n                    -10,\n                    -10,\n                    -10,\n                    -10,\n                    -10,\n                    -10,\n                    -20\n                ],\n                [\n                    -10,\n                    0,\n                    0,\n                    0,\n                    0,\n                    0,\n                    0,\n                    -10\n                ],\n                [\n                    -10,\n                    0,\n                    5,\n                    10,\n                    10,\n                    5,\n                    0,\n                    -10\n                ],\n                [\n                    -10,\n                    5,\n                    5,\n                    10,\n                    10,\n                    5,\n                    5,\n                    -10\n                ],\n                [\n                    -10,\n                    0,\n                    10,\n                    10,\n                    10,\n                    10,\n                    0,\n                    -10\n                ],\n                [\n                    -10,\n                    10,\n                    10,\n                    10,\n                    10,\n                    10,\n                    10,\n                    -10\n                ],\n                [\n                    -10,\n                    5,\n                    0,\n                    0,\n                    0,\n                    0,\n                    5,\n                    -10\n                ],\n                [\n                    -20,\n                    -10,\n                    -10,\n                    -10,\n                    -10,\n                    -10,\n                    -10,\n                    -20\n                ]\n            ]\n        };\n        let score = 0;\n        const board = this.game.board();\n        for(let row = 0; row < 8; row++){\n            for(let col = 0; col < 8; col++){\n                const piece = board[row][col];\n                if (piece) {\n                    const pieceTable = pieceSquareValues[piece.type];\n                    if (pieceTable) {\n                        const positionValue = pieceTable[piece.color === \"w\" ? row : 7 - row][col];\n                        score += piece.color === \"w\" ? positionValue : -positionValue;\n                    }\n                }\n            }\n        }\n        return score;\n    }\n    /**\n   * Encontra o melhor movimento possível para o jogador atual.\n   * \n   * @param depth - Profundidade máxima de busca na árvore de movimentos\n   * @returns O melhor movimento encontrado, ou null se nenhum movimento for possível\n   * @todo Implementar algoritmo minimax com poda alpha-beta\n   */ getBestMove(depth) {\n        // TODO: Implementar busca minimax com poda alpha-beta\n        return null;\n    }\n    /**\n   * Obtém o histórico completo de movimentos do jogo.\n   * \n   * @returns Lista de movimentos realizados desde o início do jogo\n   */ getGameHistory() {\n        return this.game.history({\n            verbose: true\n        }).map((move)=>({\n                from: this.squareToPosition(move.from),\n                to: this.squareToPosition(move.to),\n                piece: {\n                    type: move.piece,\n                    color: move.color === \"w\" ? \"white\" : \"black\"\n                },\n                captured: move.captured ? {\n                    type: move.captured,\n                    color: move.color === \"w\" ? \"black\" : \"white\"\n                } : undefined,\n                promotion: move.promotion\n            }));\n    }\n    // Validação\n    /**\n   * Verifica se um movimento é válido sem executá-lo.\n   * \n   * @param from - Posição inicial da peça\n   * @param to - Posição final da peça\n   * @returns true se o movimento é legal, false caso contrário\n   */ isValidMove(from, to) {\n        // Validação básica de posição\n        if (!this.isValidPosition(from) || !this.isValidPosition(to)) {\n            return false;\n        }\n        // Verifica se a peça pertence ao jogador atual\n        const piece = this.game.board()[from.row][from.col];\n        if (!piece || piece.color !== (this.getCurrentPlayer() === \"white\" ? \"w\" : \"b\")) {\n            return false;\n        }\n        // Tenta fazer o movimento no chess.js\n        try {\n            const move = this.game.move({\n                from: this.positionToSquare(from),\n                to: this.positionToSquare(to),\n                promotion: \"q\"\n            });\n            if (move) {\n                // Desfaz o movimento para manter o estado original\n                this.game.undo();\n                return true;\n            }\n        } catch (e) {\n        // Ignora erros do chess.js\n        }\n        return false;\n    }\n    /**\n   * Verifica se uma posição está dentro dos limites do tabuleiro.\n   * \n   * @param position - Posição a ser verificada\n   * @returns true se a posição é válida, false caso contrário\n   */ isValidPosition(position) {\n        return position.row >= 0 && position.row < 8 && position.col >= 0 && position.col < 8;\n    }\n    // Utilidades\n    /**\n   * Reinicia o jogo para a posição inicial.\n   * \n   * @emits {POSITION_CHANGED} Quando o tabuleiro é reiniciado\n   */ reset() {\n        this.game.reset();\n        this.positionCache.clear();\n        this.emitEvent({\n            type: \"POSITION_CHANGED\",\n            fen: this.getFEN()\n        });\n    }\n    /**\n   * Cria uma cópia independente do motor de xadrez atual.\n   * \n   * @returns Uma nova instância do motor com o mesmo estado atual\n   */ clone() {\n        const clonedEngine = new ChessEngineBase(this.options);\n        clonedEngine.setFEN(this.getFEN());\n        return clonedEngine;\n    }\n    // Métodos protegidos auxiliares\n    positionToSquare(position) {\n        const file = String.fromCharCode(\"a\".charCodeAt(0) + position.col);\n        const rank = 8 - position.row;\n        return `${file}${rank}`;\n    }\n    squareToPosition(square) {\n        const col = square.charCodeAt(0) - \"a\".charCodeAt(0);\n        const row = 8 - parseInt(square[1]);\n        return {\n            row,\n            col\n        };\n    }\n    findKing(color) {\n        const board = this.game.board();\n        for(let row = 0; row < 8; row++){\n            for(let col = 0; col < 8; col++){\n                const piece = board[row][col];\n                if (piece && piece.type === \"k\" && piece.color === (color === \"white\" ? \"w\" : \"b\")) {\n                    return {\n                        row,\n                        col\n                    };\n                }\n            }\n        }\n        throw new Error(\"King not found\");\n    }\n    /**\n   * Verifica o status de saúde do motor.\n   * \n   * @returns Status atual do motor incluindo métricas de desempenho\n   */ checkHealth() {\n        return this.monitor.checkHealth();\n    }\n    /**\n   * Emite um evento do motor.\n   * \n   * @param event - Evento a ser emitido\n   */ emitEvent(event) {\n        this.eventEmitter.emit(\"engine-event\", event);\n        this.monitor.recordEvent(event);\n    }\n    // Métodos de avaliação\n    evaluateMaterial() {\n        const pieceValues = {\n            p: 1,\n            n: 3,\n            b: 3,\n            r: 5,\n            q: 9,\n            k: 0\n        };\n        let score = 0;\n        const board = this.game.board();\n        for(let row = 0; row < 8; row++){\n            for(let col = 0; col < 8; col++){\n                const piece = board[row][col];\n                if (piece) {\n                    const value = pieceValues[piece.type];\n                    score += piece.color === \"w\" ? value : -value;\n                }\n            }\n        }\n        return score;\n    }\n    evaluateMobility() {\n        const whiteMoves = this.game.moves().length;\n        // Clona o jogo para ver os movimentos do oponente\n        const tempGame = new chess_js__WEBPACK_IMPORTED_MODULE_0__.Chess(this.game.fen());\n        tempGame.load(this.game.fen().replace(\" w \", \" b \"));\n        const blackMoves = tempGame.moves().length;\n        return whiteMoves - blackMoves;\n    }\n    evaluateKingSafety() {\n        // TODO: Implementar avaliação de segurança do rei\n        return 0;\n    }\n    evaluatePawnStructure() {\n        // TODO: Implementar avaliação de estrutura de peões\n        return 0;\n    }\n    // Event handlers\n    on(eventName, handler) {\n        this.eventEmitter.on(eventName, handler);\n    }\n    off(eventName, handler) {\n        this.eventEmitter.off(eventName, handler);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2hhcmVkL2VuZ2luZS9DaGVzc0VuZ2luZUJhc2UudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFpQztBQWM4QjtBQUNmO0FBQ1Y7QUFFdEM7Ozs7Ozs7O0NBUUMsR0FDTSxNQUFNSTtJQWVYOzs7Ozs7R0FNQyxHQUNEQyxZQUFZQyxVQUF5QixDQUFDLENBQUMsQ0FBRTtRQUN2QyxJQUFJLENBQUNDLElBQUksR0FBRyxJQUFJUCwyQ0FBS0EsQ0FBQ00sUUFBUUUsYUFBYSxJQUFJTix3REFBV0E7UUFDMUQsSUFBSSxDQUFDSSxPQUFPLEdBQUdBO1FBQ2YsSUFBSSxDQUFDRyxZQUFZLEdBQUcsSUFBSU4sZ0RBQVlBO1FBQ3BDLElBQUksQ0FBQ08sYUFBYSxHQUFHLElBQUlDO1FBQ3pCLElBQUksQ0FBQ0MsT0FBTyxHQUFHLElBQUlYLHdFQUFlQTtJQUNwQztJQUVBLGlCQUFpQjtJQUNqQjs7Ozs7R0FLQyxHQUNEWSxXQUEyQjtRQUN6QixNQUFNQyxRQUFRLElBQUksQ0FBQ1AsSUFBSSxDQUFDTyxLQUFLO1FBQzdCLE9BQU9BLE1BQU1DLEdBQUcsQ0FBQ0MsQ0FBQUEsTUFDZkEsSUFBSUQsR0FBRyxDQUFDRSxDQUFBQSxTQUNOQSxTQUFTO29CQUNQQyxNQUFNRCxPQUFPQyxJQUFJO29CQUNqQkMsT0FBT0YsT0FBT0UsS0FBSyxLQUFLLE1BQU0sVUFBVSxPQUFPO2dCQUNqRCxJQUFJLElBQUk7SUFHZDtJQUVBOzs7O0dBSUMsR0FDREMsU0FBaUI7UUFDZixPQUFPLElBQUksQ0FBQ2IsSUFBSSxDQUFDYyxHQUFHO0lBQ3RCO0lBRUE7Ozs7OztHQU1DLEdBQ0RDLE9BQU9ELEdBQVcsRUFBUTtRQUN4QixJQUFJO1lBQ0YscURBQXFEO1lBQ3JELElBQUksQ0FBQ2QsSUFBSSxDQUFDZ0IsSUFBSSxDQUFDRjtZQUNmLElBQUksQ0FBQ0csU0FBUyxDQUFDO2dCQUNiTixNQUFNO2dCQUNORztZQUNGO1FBQ0YsRUFBRSxPQUFPSSxHQUFHO1lBQ1YsTUFBTSxJ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STtvQkFBSTtvQkFBSztvQkFBSTtpQkFBRTtnQkFDL0I7b0JBQUM7b0JBQUk7b0JBQUk7b0JBQUc7b0JBQUk7b0JBQUs7b0JBQUk7b0JBQUk7aUJBQUU7Z0JBQy9CO29CQUFDO29CQUFHLENBQUM7b0JBQUUsQ0FBQztvQkFBSztvQkFBSTtvQkFBRSxDQUFDO29CQUFJLENBQUM7b0JBQUk7aUJBQUU7Z0JBQy9CO29CQUFDO29CQUFHO29CQUFJO29CQUFHLENBQUM7b0JBQUcsQ0FBQztvQkFBSTtvQkFBSTtvQkFBSztpQkFBRTtnQkFDL0I7b0JBQUM7b0JBQUk7b0JBQUk7b0JBQUk7b0JBQUk7b0JBQUk7b0JBQUk7b0JBQUk7aUJBQUU7YUFDaEM7WUFDREMsR0FBRztnQkFDRDtvQkFBQyxDQUFDO29CQUFHLENBQUM7b0JBQUcsQ0FBQztvQkFBRyxDQUFDO29CQUFHLENBQUM7b0JBQUcsQ0FBQztvQkFBRyxDQUFDO29CQUFHLENBQUM7aUJBQUc7Z0JBQ2pDO29CQUFDLENBQUM7b0JBQUcsQ0FBQztvQkFBSztvQkFBSTtvQkFBSTtvQkFBSTtvQkFBRSxDQUFDO29CQUFHLENBQUM7aUJBQUc7Z0JBQ2pDO29CQUFDLENBQUM7b0JBQUs7b0JBQUc7b0JBQUk7b0JBQUk7b0JBQUk7b0JBQUs7b0JBQUUsQ0FBQztpQkFBRztnQkFDakM7b0JBQUMsQ0FBQztvQkFBSztvQkFBRztvQkFBSTtvQkFBSTtvQkFBSTtvQkFBSztvQkFBRSxDQUFDO2lCQUFHO2dCQUNqQztvQkFBQyxDQUFDO29CQUFLO29CQUFHO29CQUFJO29CQUFJO29CQUFJO29CQUFLO29CQUFFLENBQUM7aUJBQUc7Z0JBQ2pDO29CQUFDLENBQUM7b0JBQUs7b0JBQUc7b0JBQUk7b0JBQUk7b0JBQUk7b0JBQUs7b0JBQUUsQ0FBQztpQkFBRztnQkFDakM7b0JBQUMsQ0FBQztvQkFBRyxDQUFDO29CQUFLO29CQUFJO29CQUFJO29CQUFJO29CQUFFLENBQUM7b0JBQUcsQ0FBQztpQkFBRztnQkFDakM7b0JBQUMsQ0FBQztvQkFBRyxDQUFDO29CQUFHLENB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QUFHO1FBQ3hDZ0csU0FBUzlGLElBQUksQ0FBQyxJQUFJLENBQUNoQixJQUFJLENBQUNjLEdBQUcsR0FBR2lHLE9BQU8sQ0FBQyxPQUFPO1FBQzdDLE1BQU1DLGFBQWFGLFNBQVNwRixLQUFLLEdBQUdtRixNQUFNO1FBRTFDLE9BQU9ELGFBQWFJO0lBQ3RCO0lBRVFyQyxxQkFBNkI7UUFDbkMsa0RBQWtEO1FBQ2xELE9BQU87SUFDVDtJQUVRQyx3QkFBZ0M7UUFDdEMsb0RBQW9EO1FBQ3BELE9BQU87SUFDVDtJQUVBLGlCQUFpQjtJQUNqQnFDLEdBQUdDLFNBQWlCLEVBQUVDLE9BQXFDLEVBQVE7UUFDakUsSUFBSSxDQUFDakgsWUFBWSxDQUFDK0csRUFBRSxDQUFDQyxXQUFXQztJQUNsQztJQUVBQyxJQUFJRixTQUFpQixFQUFFQyxPQUFxQyxFQUFRO1FBQ2xFLElBQUksQ0FBQ2pILFlBQVksQ0FBQ2tILEdBQUcsQ0FBQ0YsV0FBV0M7SUFDbkM7QUFDRixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2hlc3MvLi9zcmMvc2hhcmVkL2VuZ2luZS9DaGVzc0VuZ2luZUJhc2UudHM/ZjI0NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDaGVzcyB9IGZyb20gJ2NoZXNzLmpzJztcbmltcG9ydCB7IFxuICBDaGVzc0VuZ2luZSwgXG4gIEVuZ2luZU9wdGlvbnMsIFxuICBFbmdpbmVBbmFseXNpcyxcbiAgRW5naW5lRXZlbnQsXG4gIEhlYWx0aFN0YXR1c1xufSBmcm9tICcuLi90eXBlcy9lbmdpbmUnO1xuaW1wb3J0IHsgXG4gIENoZXNzUG9zaXRpb24sIFxuICBDaGVzc1BpZWNlLCBcbiAgQ2hlc3NNb3ZlLFxuICBQaWVjZVR5cGVcbn0gZnJvbSAnLi4vdHlwZXMvY2hlc3MnO1xuaW1wb3J0IHsgQXJxdWltYXhNb25pdG9yIH0gZnJvbSAnLi9tb25pdG9yaW5nL0FycXVpbWF4TW9uaXRvcic7XG5pbXBvcnQgeyBJTklUSUFMX0ZFTiB9IGZyb20gJy4uL2NvbnN0YW50cy9nYW1lJztcbmltcG9ydCB7IEV2ZW50RW1pdHRlciB9IGZyb20gJ2V2ZW50cyc7XG5cbi8qKlxuICogSW1wbGVtZW50YcOnw6NvIGJhc2UgZG8gbW90b3IgZGUgeGFkcmV6LlxuICogXG4gKiBFc3RhIGNsYXNzZSBmb3JuZWNlIGEgZnVuY2lvbmFsaWRhZGUgY2VudHJhbCBwYXJhIHVtIG1vdG9yIGRlIHhhZHJleixcbiAqIGluY2x1aW5kbyBnZXJlbmNpYW1lbnRvIGRlIGVzdGFkbyBkbyBqb2dvLCB2YWxpZGHDp8OjbyBkZSBtb3ZpbWVudG9zLFxuICogYXZhbGlhw6fDo28gZGUgcG9zacOnw6NvIGUgZXZlbnRvcyBkbyBqb2dvLlxuICogXG4gKiBAaW1wbGVtZW50cyB7Q2hlc3NFbmdpbmV9XG4gKi9cbmV4cG9ydCBjbGFzcyBDaGVzc0VuZ2luZUJhc2UgaW1wbGVtZW50cyBDaGVzc0VuZ2luZSB7XG4gIC8qKiBJbnN0w6JuY2lhIGRvIGNoZXNzLmpzIHF1ZSBnZXJlbmNpYSBhcyByZWdyYXMgZSBlc3RhZG8gZG8gam9nbyAqL1xuICBwcm90ZWN0ZWQgZ2FtZTogQ2hlc3M7XG5cbiAgLyoqIE9ww6fDtWVzIGRlIGNvbmZpZ3VyYcOnw6NvIGRvIG1vdG9yICovXG4gIHByb3RlY3RlZCBvcHRpb25zOiBFbmdpbmVPcHRpb25zO1xuXG4gIC8qKiBFbWlzc29yIGRlIGV2ZW50b3MgcGFyYSBub3RpZmljYXIgbXVkYW7Dp2FzIG5vIGVzdGFkbyBkbyBqb2dvICovXG4gIHByb3RlY3RlZCBldmVudEVtaXR0ZXI6IEV2ZW50RW1pdHRlcjtcblxuICAvKiogQ2FjaGUgZGUgYW7DoWxpc2VzIGRlIHBvc2nDp8OjbyBwYXJhIG90aW1pemHDp8OjbyAqL1xuICBwcm90ZWN0ZWQgcG9zaXRpb25DYWNoZTogTWFwPHN0cmluZywgRW5naW5lQW5hbHlzaXM+O1xuXG4gIHByaXZhdGUgbW9uaXRvcjogQXJxdWltYXhNb25pdG9yO1xuXG4gIC8qKlxuICAgKiBDcmlhIHVtYSBub3ZhIGluc3TDom5jaWEgZG8gbW90b3IgZGUgeGFkcmV6LlxuICAgKiBcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBPcMOnw7VlcyBkZSBjb25maWd1cmHDp8OjbyBkbyBtb3RvclxuICAgKiBAcGFyYW0gb3B0aW9ucy5zdGFydFBvc2l0aW9uIC0gUG9zacOnw6NvIGluaWNpYWwgZW0gbm90YcOnw6NvIEZFTiAob3BjaW9uYWwpXG4gICAqIEBwYXJhbSBvcHRpb25zLmV2YWx1YXRpb25QYXJhbWV0ZXJzIC0gUGFyw6JtZXRyb3MgcGFyYSBhdmFsaWHDp8OjbyBkZSBwb3Npw6fDo28gKG9wY2lvbmFsKVxuICAgKi9cbiAgY29uc3RydWN0b3Iob3B0aW9uczogRW5naW5lT3B0aW9ucyA9IHt9KSB7XG4gICAgdGhpcy5nYW1lID0gbmV3IENoZXNzKG9wdGlvbnMuc3RhcnRQb3NpdGlvbiB8fCBJTklUSUFMX0ZFTik7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB0aGlzLmV2ZW50RW1pdHRlciA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICB0aGlzLnBvc2l0aW9uQ2FjaGUgPSBuZXcgTWFwKCk7XG4gICAgdGhpcy5tb25pdG9yID0gbmV3IEFycXVpbWF4TW9uaXRvcigpO1xuICB9XG5cbiAgLy8gRXN0YWRvIGRvIGpvZ29cbiAgLyoqXG4gICAqIE9idMOpbSBhIHJlcHJlc2VudGHDp8OjbyBhdHVhbCBkbyB0YWJ1bGVpcm8uXG4gICAqIFxuICAgKiBAcmV0dXJucyBVbWEgbWF0cml6IDh4OCByZXByZXNlbnRhbmRvIG8gdGFidWxlaXJvLCBvbmRlIGNhZGEgZWxlbWVudG9cbiAgICogw6kgdW1hIHBlw6dhIGRlIHhhZHJleiBvdSBudWxsIHBhcmEgY2FzYXMgdmF6aWFzLlxuICAgKi9cbiAgZ2V0Qm9hcmQoKTogQ2hlc3NQaWVjZVtdW10ge1xuICAgIGNvbnN0IGJvYXJkID0gdGhpcy5nYW1lLmJvYXJkKCk7XG4gICAgcmV0dXJuIGJvYXJkLm1hcChyb3cgPT4gXG4gICAgICByb3cubWFwKHNxdWFyZSA9PiBcbiAgICAgICAgc3F1YXJlID8ge1xuICAgICAgICAgIHR5cGU6IHNxdWFyZS50eXBlIGFzIFBpZWNlVHlwZSxcbiAgICAgICAgICBjb2xvcjogc3F1YXJlLmNvbG9yID09PSAndycgPyAnd2hpdGUnIDogJ2JsYWNrJ1xuICAgICAgICB9IDogbnVsbFxuICAgICAgKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogT2J0w6ltIGEgcG9zacOnw6NvIGF0dWFsIGVtIG5vdGHDp8OjbyBGRU4uXG4gICAqIFxuICAgKiBAcmV0dXJucyBTdHJpbmcgRkVOIHJlcHJlc2VudGFuZG8gbyBlc3RhZG8gYXR1YWwgZG8gam9nb1xuICAgKi9cbiAgZ2V0RkVOKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuZ2FtZS5mZW4oKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWZpbmUgdW1hIG5vdmEgcG9zacOnw6NvIHBhcmEgbyBqb2dvIHVzYW5kbyBub3Rhw6fDo28gRkVOLlxuICAgKiBcbiAgICogQHBhcmFtIGZlbiAtIFN0cmluZyBGRU4gcmVwcmVzZW50YW5kbyBhIG5vdmEgcG9zacOnw6NvXG4gICAqIEB0aHJvd3Mge0Vycm9yfSBTZSBhIHN0cmluZyBGRU4gZm9yIGludsOhbGlkYVxuICAgKiBAZW1pdHMge1BPU0lUSU9OX0NIQU5HRUR9IFF1YW5kbyBhIHBvc2nDp8OjbyDDqSBhbHRlcmFkYSBjb20gc3VjZXNzb1xuICAgKi9cbiAgc2V0RkVOKGZlbjogc3RyaW5nKTogdm9pZCB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIE5hIG5vdmEgdmVyc8OjbyBkbyBjaGVzcy5qcywgbG9hZCgpIGrDoSB2YWxpZGEgbyBGRU5cbiAgICAgIHRoaXMuZ2FtZS5sb2FkKGZlbik7XG4gICAgICB0aGlzLmVtaXRFdmVudCh7IFxuICAgICAgICB0eXBlOiAnUE9TSVRJT05fQ0hBTkdFRCcsIFxuICAgICAgICBmZW4gXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgRkVOIHN0cmluZycpO1xuICAgIH1cbiAgfVxuXG4gIC8vIE1vdmltZW50b3NcbiAgLyoqXG4gICAqIE9idMOpbSB0b2RvcyBvcyBtb3ZpbWVudG9zIGxlZ2FpcyBwb3Nzw612ZWlzIHBhcmEgdW1hIHBlw6dhIGVtIHVtYSBkZXRlcm1pbmFkYSBwb3Npw6fDo28uXG4gICAqIFxuICAgKiBAcGFyYW0gcG9zaXRpb24gLSBQb3Npw6fDo28gZGEgcGXDp2Egbm8gdGFidWxlaXJvXG4gICAqIEByZXR1cm5zIExpc3RhIGRlIG1vdmltZW50b3MgbGVnYWlzIHBvc3PDrXZlaXNcbiAgICovXG4gIGdldFBvc3NpYmxlTW92ZXMocG9zaXRpb246IENoZXNzUG9zaXRpb24pOiBDaGVzc01vdmVbXSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHNxdWFyZSA9IHRoaXMucG9zaXRpb25Ub1NxdWFyZShwb3NpdGlvbik7XG4gICAgICBjb25zdCBmZW4gPSB0aGlzLmdldEZFTigpO1xuICAgICAgY29uc3QgY2FjaGVLZXkgPSBgJHtmZW59OiR7c3F1YXJlfWA7XG4gICAgICBjb25zdCBjYWNoZUhpdCA9IHRoaXMucG9zaXRpb25DYWNoZS5oYXMoY2FjaGVLZXkpO1xuICAgICAgXG4gICAgICBsZXQgbW92ZXM7XG4gICAgICBpZiAoY2FjaGVIaXQpIHtcbiAgICAgICAgY29uc3QgY2FjaGUgPSB0aGlzLnBvc2l0aW9uQ2FjaGUuZ2V0KGNhY2hlS2V5KTtcbiAgICAgICAgbW92ZXMgPSBjYWNoZSEuYmVzdExpbmU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtb3ZlcyA9IHRoaXMuZ2FtZS5tb3Zlcyh7IFxuICAgICAgICAgIHNxdWFyZSxcbiAgICAgICAgICB2ZXJib3NlOiB0cnVlIFxuICAgICAgICB9KTtcbiAgICAgICAgLy8gQ2FjaGUgdGhlIHJlc3VsdFxuICAgICAgICB0aGlzLnBvc2l0aW9uQ2FjaGUuc2V0KGNhY2hlS2V5LCB7XG4gICAgICAgICAgZXZhbHVhdGlvbjogMCxcbiAgICAgICAgICBkZXB0aDogMCxcbiAgICAgICAgICBiZXN0TGluZTogbW92ZXMsXG4gICAgICAgICAgdGhyZWF0czogW10sXG4gICAgICAgICAgcG9zaXRpb25hbEZlYXR1cmVzOiB7XG4gICAgICAgICAgICBwYXduU3RydWN0dXJlOiAwLFxuICAgICAgICAgICAga2luZ1NhZmV0eTogMCxcbiAgICAgICAgICAgIG1vYmlsaXR5OiAwLFxuICAgICAgICAgICAgY2VudGVyQ29udHJvbDogMCxcbiAgICAgICAgICAgIHBpZWNlQWN0aXZpdHk6IDBcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgXG4gICAgICB0aGlzLm1vbml0b3IucmVjb3JkQ2FjaGVBY2Nlc3MoY2FjaGVIaXQpO1xuXG4gICAgICByZXR1cm4gbW92ZXMubWFwKG1vdmUgPT4gKHtcbiAgICAgICAgZnJvbTogdGhpcy5zcXVhcmVUb1Bvc2l0aW9uKG1vdmUuZnJvbSksXG4gICAgICAgIHRvOiB0aGlzLnNxdWFyZVRvUG9zaXRpb24obW92ZS50byksXG4gICAgICAgIHBpZWNlOiB7XG4gICAgICAgICAgdHlwZTogbW92ZS5waWVjZSBhcyBQaWVjZVR5cGUsXG4gICAgICAgICAgY29sb3I6IG1vdmUuY29sb3IgPT09ICd3JyA/ICd3aGl0ZScgOiAnYmxhY2snXG4gICAgICAgIH0sXG4gICAgICAgIGNhcHR1cmVkOiBtb3ZlLmNhcHR1cmVkID8ge1xuICAgICAgICAgIHR5cGU6IG1vdmUuY2FwdHVyZWQgYXMgUGllY2VUeXBlLFxuICAgICAgICAgIGNvbG9yOiBtb3ZlLmNvbG9yID09PSAndycgPyAnYmxhY2snIDogJ3doaXRlJ1xuICAgICAgICB9IDogdW5kZWZpbmVkLFxuICAgICAgICBwcm9tb3Rpb246IG1vdmUucHJvbW90aW9uIGFzIFBpZWNlVHlwZSB8IHVuZGVmaW5lZCxcbiAgICAgIH0pKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyBTZSBob3V2ZXIgZXJybyBuYSBnZXJhw6fDo28gZGUgbW92aW1lbnRvcywgcmV0b3JuYSBsaXN0YSB2YXppYVxuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBFeGVjdXRhIHVtIG1vdmltZW50byBubyB0YWJ1bGVpcm8uXG4gICAqIFxuICAgKiBAcGFyYW0gZnJvbSAtIFBvc2nDp8OjbyBpbmljaWFsIGRhIHBlw6dhXG4gICAqIEBwYXJhbSB0byAtIFBvc2nDp8OjbyBmaW5hbCBkYSBwZcOnYVxuICAgKiBAcmV0dXJucyB0cnVlIHNlIG8gbW92aW1lbnRvIGZvaSBleGVjdXRhZG8gY29tIHN1Y2Vzc28sIGZhbHNlIGNhc28gY29udHLDoXJpb1xuICAgKiBAZW1pdHMge01PVkVfTUFERX0gUXVhbmRvIHVtIG1vdmltZW50byDDqSByZWFsaXphZG8gY29tIHN1Y2Vzc29cbiAgICogQGVtaXRzIHtDSEVDS30gUXVhbmRvIG8gbW92aW1lbnRvIHJlc3VsdGEgZW0geGVxdWVcbiAgICogQGVtaXRzIHtHQU1FX09WRVJ9IFF1YW5kbyBvIG1vdmltZW50byByZXN1bHRhIGVtIGZpbSBkZSBqb2dvXG4gICAqL1xuICBtYWtlTW92ZShmcm9tOiBDaGVzc1Bvc2l0aW9uLCB0bzogQ2hlc3NQb3NpdGlvbik6IGJvb2xlYW4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBtb3ZlID0gdGhpcy5nYW1lLm1vdmUoe1xuICAgICAgICBmcm9tOiB0aGlzLnBvc2l0aW9uVG9TcXVhcmUoZnJvbSksXG4gICAgICAgIHRvOiB0aGlzLnBvc2l0aW9uVG9TcXVhcmUodG8pLFxuICAgICAgICBwcm9tb3Rpb246ICdxJyAvLyBBdXRvLXByb21vdmUgcGFyYSByYWluaGEgcG9yIHBhZHLDo29cbiAgICAgIH0pO1xuXG4gICAgICBpZiAobW92ZSkge1xuICAgICAgICBjb25zdCBjaGVzc01vdmU6IENoZXNzTW92ZSA9IHtcbiAgICAgICAgICBmcm9tLFxuICAgICAgICAgIHRvLFxuICAgICAgICAgIHBpZWNlOiB7XG4gICAgICAgICAgICB0eXBlOiBtb3ZlLnBpZWNlLFxuICAgICAgICAgICAgY29sb3I6IG1vdmUuY29sb3IgPT09ICd3JyA/ICd3aGl0ZScgOiAnYmxhY2snXG4gICAgICAgICAgfSxcbiAgICAgICAgICBjYXB0dXJlZDogbW92ZS5jYXB0dXJlZCA/IHtcbiAgICAgICAgICAgIHR5cGU6IG1vdmUuY2FwdHVyZWQsXG4gICAgICAgICAgICBjb2xvcjogbW92ZS5jb2xvciA9PT0gJ3cnID8gJ2JsYWNrJyA6ICd3aGl0ZSdcbiAgICAgICAgICB9IDogdW5kZWZpbmVkLFxuICAgICAgICAgIHByb21vdGlvbjogbW92ZS5wcm9tb3Rpb24sXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5lbWl0RXZlbnQoeyB0eXBlOiAnTU9WRV9NQURFJywgbW92ZTogY2hlc3NNb3ZlIH0pO1xuXG4gICAgICAgIGlmICh0aGlzLmlzQ2hlY2soKSkge1xuICAgICAgICAgIHRoaXMuZW1pdEV2ZW50KHsgXG4gICAgICAgICAgICB0eXBlOiAnQ0hFQ0snLFxuICAgICAgICAgICAga2luZ1Bvc2l0aW9uOiB0aGlzLmZpbmRLaW5nKHRoaXMuZ2V0Q3VycmVudFBsYXllcigpKVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuaXNHYW1lT3ZlcigpKSB7XG4gICAgICAgICAgbGV0IHJlc3VsdCA9ICdkcmF3JztcbiAgICAgICAgICBpZiAodGhpcy5pc0NoZWNrbWF0ZSgpKSB7XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLmdldEN1cnJlbnRQbGF5ZXIoKSA9PT0gJ3doaXRlJyA/ICdibGFjaycgOiAnd2hpdGUnO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLmVtaXRFdmVudCh7IHR5cGU6ICdHQU1FX09WRVInLCByZXN1bHQgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERlc2ZheiBvIMO6bHRpbW8gbW92aW1lbnRvIHJlYWxpemFkby5cbiAgICogXG4gICAqIEByZXR1cm5zIHRydWUgc2UgaGF2aWEgdW0gbW92aW1lbnRvIHBhcmEgZGVzZmF6ZXIsIGZhbHNlIGNhc28gY29udHLDoXJpb1xuICAgKiBAZW1pdHMge1BPU0lUSU9OX0NIQU5HRUR9IFF1YW5kbyBvIG1vdmltZW50byDDqSBkZXNmZWl0byBjb20gc3VjZXNzb1xuICAgKi9cbiAgdW5kb0xhc3RNb3ZlKCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IG1vdmUgPSB0aGlzLmdhbWUudW5kbygpO1xuICAgIGlmIChtb3ZlKSB7XG4gICAgICB0aGlzLmVtaXRFdmVudCh7IFxuICAgICAgICB0eXBlOiAnUE9TSVRJT05fQ0hBTkdFRCcsXG4gICAgICAgIGZlbjogdGhpcy5nZXRGRU4oKVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8gRXN0YWRvIGRvIGpvZ29cbiAgLyoqXG4gICAqIFZlcmlmaWNhIHNlIG8gam9nYWRvciBhdHVhbCBlc3TDoSBlbSB4ZXF1ZS5cbiAgICogXG4gICAqIEByZXR1cm5zIHRydWUgc2UgbyBqb2dhZG9yIGF0dWFsIGVzdMOhIGVtIHhlcXVlLCBmYWxzZSBjYXNvIGNvbnRyw6FyaW9cbiAgICovXG4gIGlzQ2hlY2soKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuZ2FtZS5pc0NoZWNrKCk7XG4gIH1cblxuICAvKipcbiAgICogVmVyaWZpY2Egc2UgbyBqb2dhZG9yIGF0dWFsIGVzdMOhIGVtIHhlcXVlLW1hdGUuXG4gICAqIFxuICAgKiBAcmV0dXJucyB0cnVlIHNlIG8gam9nYWRvciBhdHVhbCBlc3TDoSBlbSB4ZXF1ZS1tYXRlLCBmYWxzZSBjYXNvIGNvbnRyw6FyaW9cbiAgICovXG4gIGlzQ2hlY2ttYXRlKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmdhbWUuaXNDaGVja21hdGUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBWZXJpZmljYSBzZSBvIGpvZ28gZXN0w6EgZW1wYXRhZG8uXG4gICAqIFxuICAgKiBAcmV0dXJucyB0cnVlIHNlIG8gam9nbyBlc3TDoSBlbXBhdGFkbywgZmFsc2UgY2FzbyBjb250csOhcmlvXG4gICAqL1xuICBpc0RyYXcoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuZ2FtZS5pc0RyYXcoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBWZXJpZmljYSBzZSBvIGpvZ28gdGVybWlub3UgKHhlcXVlLW1hdGUgb3UgZW1wYXRlKS5cbiAgICogXG4gICAqIEByZXR1cm5zIHRydWUgc2UgbyBqb2dvIHRlcm1pbm91LCBmYWxzZSBjYXNvIGNvbnRyw6FyaW9cbiAgICovXG4gIGlzR2FtZU92ZXIoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuZ2FtZS5pc0dhbWVPdmVyKCk7XG4gIH1cblxuICAvKipcbiAgICogT2J0w6ltIG8gam9nYWRvciBhdHVhbC5cbiAgICogXG4gICAqIEByZXR1cm5zICd3aGl0ZScgcGFyYSBhcyBicmFuY2FzLCAnYmxhY2snIHBhcmEgYXMgcHJldGFzXG4gICAqL1xuICBnZXRDdXJyZW50UGxheWVyKCk6ICd3aGl0ZScgfCAnYmxhY2snIHtcbiAgICBjb25zdCB0dXJuID0gdGhpcy5nYW1lLnR1cm4oKTtcbiAgICByZXR1cm4gdHVybiA9PT0gJ3cnID8gJ3doaXRlJyA6ICdibGFjayc7XG4gIH1cblxuICAvLyBBdmFsaWHDp8OjbyBlIGFuw6FsaXNlXG4gIC8qKlxuICAgKiBBdmFsaWEgYSBwb3Npw6fDo28gYXR1YWwgZG8gam9nby5cbiAgICogXG4gICAqIEVzdGEgZnVuw6fDo28gY29uc2lkZXJhIGRpdmVyc29zIGZhdG9yZXMgcGFyYSBhdmFsaWFyIGEgcG9zacOnw6NvOlxuICAgKiAtIE1hdGVyaWFsOiBWYWxvciBkYXMgcGXDp2FzIHByZXNlbnRlcyBubyB0YWJ1bGVpcm9cbiAgICogLSBQb3Npw6fDo286IFF1YWxpZGFkZSBkbyBwb3NpY2lvbmFtZW50byBkYXMgcGXDp2FzXG4gICAqIC0gTW9iaWxpZGFkZTogUXVhbnRpZGFkZSBkZSBtb3ZpbWVudG9zIGRpc3BvbsOtdmVpc1xuICAgKiAtIFNlZ3VyYW7Dp2EgZG8gUmVpOiBBdmFsaWHDp8OjbyBkYSBwcm90ZcOnw6NvIGRvIHJlaVxuICAgKiAtIEVzdHJ1dHVyYSBkZSBQZcO1ZXM6IFF1YWxpZGFkZSBkYSBlc3RydXR1cmEgZGUgcGXDtWVzXG4gICAqIFxuICAgKiBAcmV0dXJucyBVbSBuw7ptZXJvIHF1ZSByZXByZXNlbnRhIGEgYXZhbGlhw6fDo28gZGEgcG9zacOnw6NvLlxuICAgKiBWYWxvcmVzIHBvc2l0aXZvcyBmYXZvcmVjZW0gYXMgYnJhbmNhcywgbmVnYXRpdm9zIGZhdm9yZWNlbSBhcyBwcmV0YXMuXG4gICAqL1xuICBldmFsdWF0ZVBvc2l0aW9uKCk6IG51bWJlciB7XG4gICAgLy8gSW1wbGVtZW50YcOnw6NvIGLDoXNpY2EgZGUgYXZhbGlhw6fDo29cbiAgICBjb25zdCB3ZWlnaHRzID0gdGhpcy5vcHRpb25zLmV2YWx1YXRpb25QYXJhbWV0ZXJzIHx8IHtcbiAgICAgIG1hdGVyaWFsV2VpZ2h0OiAxLFxuICAgICAgcG9zaXRpb25XZWlnaHQ6IDAuMSxcbiAgICAgIG1vYmlsaXR5V2VpZ2h0OiAwLjEsXG4gICAgICBraW5nU2FmZXR5V2VpZ2h0OiAwLjIsXG4gICAgICBwYXduU3RydWN0dXJlV2VpZ2h0OiAwLjFcbiAgICB9O1xuXG4gICAgbGV0IHNjb3JlID0gMDtcblxuICAgIC8vIE1hdGVyaWFsXG4gICAgc2NvcmUgKz0gdGhpcy5ldmFsdWF0ZU1hdGVyaWFsKCkgKiB3ZWlnaHRzLm1hdGVyaWFsV2VpZ2h0O1xuXG4gICAgLy8gUG9zacOnw6NvIGRhcyBwZcOnYXNcbiAgICBzY29yZSArPSB0aGlzLmV2YWx1YXRlUGllY2VQb3NpdGlvbnMoKSAqIHdlaWdodHMucG9zaXRpb25XZWlnaHQ7XG5cbiAgICAvLyBNb2JpbGlkYWRlXG4gICAgc2NvcmUgKz0gdGhpcy5ldmFsdWF0ZU1vYmlsaXR5KCkgKiB3ZWlnaHRzLm1vYmlsaXR5V2VpZ2h0O1xuXG4gICAgLy8gU2VndXJhbsOnYSBkbyByZWlcbiAgICBzY29yZSArPSB0aGlzLmV2YWx1YXRlS2luZ1NhZmV0eSgpICogd2VpZ2h0cy5raW5nU2FmZXR5V2VpZ2h0O1xuXG4gICAgLy8gRXN0cnV0dXJhIGRlIHBlw7Vlc1xuICAgIHNjb3JlICs9IHRoaXMuZXZhbHVhdGVQYXduU3RydWN0dXJlKCkgKiB3ZWlnaHRzLnBhd25TdHJ1Y3R1cmVXZWlnaHQ7XG5cbiAgICByZXR1cm4gc2NvcmU7XG4gIH1cblxuICBwcml2YXRlIGV2YWx1YXRlUGllY2VQb3NpdGlvbnMoKTogbnVtYmVyIHtcbiAgICAvLyBTaW1wbGUgcGllY2Utc3F1YXJlIHRhYmxlcyBldmFsdWF0aW9uXG4gICAgY29uc3QgcGllY2VTcXVhcmVWYWx1ZXMgPSB7XG4gICAgICBwOiBbIC8vIFBhd25zXG4gICAgICAgIFswLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMF0sXG4gICAgICAgIFs1MCwgNTAsIDUwLCA1MCwgNTAsIDUwLCA1MCwgNTBdLFxuICAgICAgICBbMTAsIDEwLCAyMCwgMzAsIDMwLCAyMCwgMTAsIDEwXSxcbiAgICAgICAgWzUsICA1LCAxMCwgMjUsIDI1LCAxMCwgIDUsICA1XSxcbiAgICAgICAgWzAsICAwLCAgMCwgMjAsIDIwLCAgMCwgIDAsICAwXSxcbiAgICAgICAgWzUsIC01LC0xMCwgIDAsICAwLC0xMCwgLTUsICA1XSxcbiAgICAgICAgWzUsIDEwLCAxMCwtMjAsLTIwLCAxMCwgMTAsICA1XSxcbiAgICAgICAgWzAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwXVxuICAgICAgXSxcbiAgICAgIG46IFsgLy8gS25pZ2h0c1xuICAgICAgICBbLTUwLC00MCwtMzAsLTMwLC0zMCwtMzAsLTQwLC01MF0sXG4gICAgICAgIFstNDAsLTIwLCAgMCwgIDAsICAwLCAgMCwtMjAsLTQwXSxcbiAgICAgICAgWy0zMCwgIDAsIDEwLCAxNSwgMTUsIDEwLCAgMCwtMzBdLFxuICAgICAgICBbLTMwLCAgNSwgMTUsIDIwLCAyMCwgMTUsICA1LC0zMF0sXG4gICAgICAgIFstMzAsICAwLCAxNSwgMjAsIDIwLCAxNSwgIDAsLTMwXSxcbiAgICAgICAgWy0zMCwgIDUsIDEwLCAxNSwgMTUsIDEwLCAgNSwtMzBdLFxuICAgICAgICBbLTQwLC0yMCwgIDAsICA1LCAgNSwgIDAsLTIwLC00MF0sXG4gICAgICAgIFstNTAsLTQwLC0zMCwtMzAsLTMwLC0zMCwtNDAsLTUwXVxuICAgICAgXSxcbiAgICAgIGI6IFsgLy8gQmlzaG9wc1xuICAgICAgICBbLTIwLC0xMCwtMTAsLTEwLC0xMCwtMTAsLTEwLC0yMF0sXG4gICAgICAgIFstMTAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsLTEwXSxcbiAgICAgICAgWy0xMCwgIDAsICA1LCAxMCwgMTAsICA1LCAgMCwtMTBdLFxuICAgICAgICBbLTEwLCAgNSwgIDUsIDEwLCAxMCwgIDUsICA1LC0xMF0sXG4gICAgICAgIFstMTAsICAwLCAxMCwgMTAsIDEwLCAxMCwgIDAsLTEwXSxcbiAgICAgICAgWy0xMCwgMTAsIDEwLCAxMCwgMTAsIDEwLCAxMCwtMTBdLFxuICAgICAgICBbLTEwLCAgNSwgIDAsICAwLCAgMCwgIDAsICA1LC0xMF0sXG4gICAgICAgIFstMjAsLTEwLC0xMCwtMTAsLTEwLC0xMCwtMTAsLTIwXVxuICAgICAgXVxuICAgIH07XG5cbiAgICBsZXQgc2NvcmUgPSAwO1xuICAgIGNvbnN0IGJvYXJkID0gdGhpcy5nYW1lLmJvYXJkKCk7XG5cbiAgICBmb3IgKGxldCByb3cgPSAwOyByb3cgPCA4OyByb3crKykge1xuICAgICAgZm9yIChsZXQgY29sID0gMDsgY29sIDwgODsgY29sKyspIHtcbiAgICAgICAgY29uc3QgcGllY2UgPSBib2FyZFtyb3ddW2NvbF07XG4gICAgICAgIGlmIChwaWVjZSkge1xuICAgICAgICAgIGNvbnN0IHBpZWNlVGFibGUgPSBwaWVjZVNxdWFyZVZhbHVlc1twaWVjZS50eXBlIGFzIGtleW9mIHR5cGVvZiBwaWVjZVNxdWFyZVZhbHVlc107XG4gICAgICAgICAgaWYgKHBpZWNlVGFibGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHBvc2l0aW9uVmFsdWUgPSBwaWVjZVRhYmxlW3BpZWNlLmNvbG9yID09PSAndycgPyByb3cgOiA3IC0gcm93XVtjb2xdO1xuICAgICAgICAgICAgc2NvcmUgKz0gcGllY2UuY29sb3IgPT09ICd3JyA/IHBvc2l0aW9uVmFsdWUgOiAtcG9zaXRpb25WYWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc2NvcmU7XG4gIH1cblxuICAvKipcbiAgICogRW5jb250cmEgbyBtZWxob3IgbW92aW1lbnRvIHBvc3PDrXZlbCBwYXJhIG8gam9nYWRvciBhdHVhbC5cbiAgICogXG4gICAqIEBwYXJhbSBkZXB0aCAtIFByb2Z1bmRpZGFkZSBtw6F4aW1hIGRlIGJ1c2NhIG5hIMOhcnZvcmUgZGUgbW92aW1lbnRvc1xuICAgKiBAcmV0dXJucyBPIG1lbGhvciBtb3ZpbWVudG8gZW5jb250cmFkbywgb3UgbnVsbCBzZSBuZW5odW0gbW92aW1lbnRvIGZvciBwb3Nzw612ZWxcbiAgICogQHRvZG8gSW1wbGVtZW50YXIgYWxnb3JpdG1vIG1pbmltYXggY29tIHBvZGEgYWxwaGEtYmV0YVxuICAgKi9cbiAgZ2V0QmVzdE1vdmUoZGVwdGg6IG51bWJlcik6IENoZXNzTW92ZSB8IG51bGwge1xuICAgIC8vIFRPRE86IEltcGxlbWVudGFyIGJ1c2NhIG1pbmltYXggY29tIHBvZGEgYWxwaGEtYmV0YVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIE9idMOpbSBvIGhpc3TDs3JpY28gY29tcGxldG8gZGUgbW92aW1lbnRvcyBkbyBqb2dvLlxuICAgKiBcbiAgICogQHJldHVybnMgTGlzdGEgZGUgbW92aW1lbnRvcyByZWFsaXphZG9zIGRlc2RlIG8gaW7DrWNpbyBkbyBqb2dvXG4gICAqL1xuICBnZXRHYW1lSGlzdG9yeSgpOiBDaGVzc01vdmVbXSB7XG4gICAgcmV0dXJuIHRoaXMuZ2FtZS5oaXN0b3J5KHsgdmVyYm9zZTogdHJ1ZSB9KS5tYXAobW92ZSA9PiAoe1xuICAgICAgZnJvbTogdGhpcy5zcXVhcmVUb1Bvc2l0aW9uKG1vdmUuZnJvbSksXG4gICAgICB0bzogdGhpcy5zcXVhcmVUb1Bvc2l0aW9uKG1vdmUudG8pLFxuICAgICAgcGllY2U6IHtcbiAgICAgICAgdHlwZTogbW92ZS5waWVjZSxcbiAgICAgICAgY29sb3I6IG1vdmUuY29sb3IgPT09ICd3JyA/ICd3aGl0ZScgOiAnYmxhY2snXG4gICAgICB9LFxuICAgICAgY2FwdHVyZWQ6IG1vdmUuY2FwdHVyZWQgPyB7XG4gICAgICAgIHR5cGU6IG1vdmUuY2FwdHVyZWQsXG4gICAgICAgIGNvbG9yOiBtb3ZlLmNvbG9yID09PSAndycgPyAnYmxhY2snIDogJ3doaXRlJ1xuICAgICAgfSA6IHVuZGVmaW5lZCxcbiAgICAgIHByb21vdGlvbjogbW92ZS5wcm9tb3Rpb24sXG4gICAgfSkpO1xuICB9XG5cbiAgLy8gVmFsaWRhw6fDo29cbiAgLyoqXG4gICAqIFZlcmlmaWNhIHNlIHVtIG1vdmltZW50byDDqSB2w6FsaWRvIHNlbSBleGVjdXTDoS1sby5cbiAgICogXG4gICAqIEBwYXJhbSBmcm9tIC0gUG9zacOnw6NvIGluaWNpYWwgZGEgcGXDp2FcbiAgICogQHBhcmFtIHRvIC0gUG9zacOnw6NvIGZpbmFsIGRhIHBlw6dhXG4gICAqIEByZXR1cm5zIHRydWUgc2UgbyBtb3ZpbWVudG8gw6kgbGVnYWwsIGZhbHNlIGNhc28gY29udHLDoXJpb1xuICAgKi9cbiAgaXNWYWxpZE1vdmUoZnJvbTogQ2hlc3NQb3NpdGlvbiwgdG86IENoZXNzUG9zaXRpb24pOiBib29sZWFuIHtcbiAgICAvLyBWYWxpZGHDp8OjbyBiw6FzaWNhIGRlIHBvc2nDp8Ojb1xuICAgIGlmICghdGhpcy5pc1ZhbGlkUG9zaXRpb24oZnJvbSkgfHwgIXRoaXMuaXNWYWxpZFBvc2l0aW9uKHRvKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIFZlcmlmaWNhIHNlIGEgcGXDp2EgcGVydGVuY2UgYW8gam9nYWRvciBhdHVhbFxuICAgIGNvbnN0IHBpZWNlID0gdGhpcy5nYW1lLmJvYXJkKClbZnJvbS5yb3ddW2Zyb20uY29sXTtcbiAgICBpZiAoIXBpZWNlIHx8IHBpZWNlLmNvbG9yICE9PSAodGhpcy5nZXRDdXJyZW50UGxheWVyKCkgPT09ICd3aGl0ZScgPyAndycgOiAnYicpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gVGVudGEgZmF6ZXIgbyBtb3ZpbWVudG8gbm8gY2hlc3MuanNcbiAgICB0cnkge1xuICAgICAgY29uc3QgbW92ZSA9IHRoaXMuZ2FtZS5tb3ZlKHtcbiAgICAgICAgZnJvbTogdGhpcy5wb3NpdGlvblRvU3F1YXJlKGZyb20pLFxuICAgICAgICB0bzogdGhpcy5wb3NpdGlvblRvU3F1YXJlKHRvKSxcbiAgICAgICAgcHJvbW90aW9uOiAncSdcbiAgICAgIH0pO1xuXG4gICAgICBpZiAobW92ZSkge1xuICAgICAgICAvLyBEZXNmYXogbyBtb3ZpbWVudG8gcGFyYSBtYW50ZXIgbyBlc3RhZG8gb3JpZ2luYWxcbiAgICAgICAgdGhpcy5nYW1lLnVuZG8oKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gSWdub3JhIGVycm9zIGRvIGNoZXNzLmpzXG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIFZlcmlmaWNhIHNlIHVtYSBwb3Npw6fDo28gZXN0w6EgZGVudHJvIGRvcyBsaW1pdGVzIGRvIHRhYnVsZWlyby5cbiAgICogXG4gICAqIEBwYXJhbSBwb3NpdGlvbiAtIFBvc2nDp8OjbyBhIHNlciB2ZXJpZmljYWRhXG4gICAqIEByZXR1cm5zIHRydWUgc2UgYSBwb3Npw6fDo28gw6kgdsOhbGlkYSwgZmFsc2UgY2FzbyBjb250csOhcmlvXG4gICAqL1xuICBpc1ZhbGlkUG9zaXRpb24ocG9zaXRpb246IENoZXNzUG9zaXRpb24pOiBib29sZWFuIHtcbiAgICByZXR1cm4gcG9zaXRpb24ucm93ID49IDAgJiYgcG9zaXRpb24ucm93IDwgOCAmJlxuICAgICAgICAgICBwb3NpdGlvbi5jb2wgPj0gMCAmJiBwb3NpdGlvbi5jb2wgPCA4O1xuICB9XG5cbiAgLy8gVXRpbGlkYWRlc1xuICAvKipcbiAgICogUmVpbmljaWEgbyBqb2dvIHBhcmEgYSBwb3Npw6fDo28gaW5pY2lhbC5cbiAgICogXG4gICAqIEBlbWl0cyB7UE9TSVRJT05fQ0hBTkdFRH0gUXVhbmRvIG8gdGFidWxlaXJvIMOpIHJlaW5pY2lhZG9cbiAgICovXG4gIHJlc2V0KCk6IHZvaWQge1xuICAgIHRoaXMuZ2FtZS5yZXNldCgpO1xuICAgIHRoaXMucG9zaXRpb25DYWNoZS5jbGVhcigpO1xuICAgIHRoaXMuZW1pdEV2ZW50KHsgXG4gICAgICB0eXBlOiAnUE9TSVRJT05fQ0hBTkdFRCcsXG4gICAgICBmZW46IHRoaXMuZ2V0RkVOKClcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmlhIHVtYSBjw7NwaWEgaW5kZXBlbmRlbnRlIGRvIG1vdG9yIGRlIHhhZHJleiBhdHVhbC5cbiAgICogXG4gICAqIEByZXR1cm5zIFVtYSBub3ZhIGluc3TDom5jaWEgZG8gbW90b3IgY29tIG8gbWVzbW8gZXN0YWRvIGF0dWFsXG4gICAqL1xuICBjbG9uZSgpOiBDaGVzc0VuZ2luZSB7XG4gICAgY29uc3QgY2xvbmVkRW5naW5lID0gbmV3IENoZXNzRW5naW5lQmFzZSh0aGlzLm9wdGlvbnMpO1xuICAgIGNsb25lZEVuZ2luZS5zZXRGRU4odGhpcy5nZXRGRU4oKSk7XG4gICAgcmV0dXJuIGNsb25lZEVuZ2luZTtcbiAgfVxuXG4gIC8vIE3DqXRvZG9zIHByb3RlZ2lkb3MgYXV4aWxpYXJlc1xuICBwcm90ZWN0ZWQgcG9zaXRpb25Ub1NxdWFyZShwb3NpdGlvbjogQ2hlc3NQb3NpdGlvbik6IHN0cmluZyB7XG4gICAgY29uc3QgZmlsZSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoJ2EnLmNoYXJDb2RlQXQoMCkgKyBwb3NpdGlvbi5jb2wpO1xuICAgIGNvbnN0IHJhbmsgPSA4IC0gcG9zaXRpb24ucm93O1xuICAgIHJldHVybiBgJHtmaWxlfSR7cmFua31gO1xuICB9XG5cbiAgcHJvdGVjdGVkIHNxdWFyZVRvUG9zaXRpb24oc3F1YXJlOiBzdHJpbmcpOiBDaGVzc1Bvc2l0aW9uIHtcbiAgICBjb25zdCBjb2wgPSBzcXVhcmUuY2hhckNvZGVBdCgwKSAtICdhJy5jaGFyQ29kZUF0KDApO1xuICAgIGNvbnN0IHJvdyA9IDggLSBwYXJzZUludChzcXVhcmVbMV0pO1xuICAgIHJldHVybiB7IHJvdywgY29sIH07XG4gIH1cblxuICBwcm90ZWN0ZWQgZmluZEtpbmcoY29sb3I6ICd3aGl0ZScgfCAnYmxhY2snKTogQ2hlc3NQb3NpdGlvbiB7XG4gICAgY29uc3QgYm9hcmQgPSB0aGlzLmdhbWUuYm9hcmQoKTtcbiAgICBmb3IgKGxldCByb3cgPSAwOyByb3cgPCA4OyByb3crKykge1xuICAgICAgZm9yIChsZXQgY29sID0gMDsgY29sIDwgODsgY29sKyspIHtcbiAgICAgICAgY29uc3QgcGllY2UgPSBib2FyZFtyb3ddW2NvbF07XG4gICAgICAgIGlmIChwaWVjZSAmJiBcbiAgICAgICAgICAgIHBpZWNlLnR5cGUgPT09ICdrJyAmJiBcbiAgICAgICAgICAgIHBpZWNlLmNvbG9yID09PSAoY29sb3IgPT09ICd3aGl0ZScgPyAndycgOiAnYicpKSB7XG4gICAgICAgICAgcmV0dXJuIHsgcm93LCBjb2wgfTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0tpbmcgbm90IGZvdW5kJyk7XG4gIH1cblxuICAvKipcbiAgICogVmVyaWZpY2EgbyBzdGF0dXMgZGUgc2HDumRlIGRvIG1vdG9yLlxuICAgKiBcbiAgICogQHJldHVybnMgU3RhdHVzIGF0dWFsIGRvIG1vdG9yIGluY2x1aW5kbyBtw6l0cmljYXMgZGUgZGVzZW1wZW5ob1xuICAgKi9cbiAgcHVibGljIGNoZWNrSGVhbHRoKCk6IEhlYWx0aFN0YXR1cyB7XG4gICAgcmV0dXJuIHRoaXMubW9uaXRvci5jaGVja0hlYWx0aCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEVtaXRlIHVtIGV2ZW50byBkbyBtb3Rvci5cbiAgICogXG4gICAqIEBwYXJhbSBldmVudCAtIEV2ZW50byBhIHNlciBlbWl0aWRvXG4gICAqL1xuICBwcm90ZWN0ZWQgZW1pdEV2ZW50KGV2ZW50OiBFbmdpbmVFdmVudCk6IHZvaWQge1xuICAgIHRoaXMuZXZlbnRFbWl0dGVyLmVtaXQoJ2VuZ2luZS1ldmVudCcsIGV2ZW50KTtcbiAgICB0aGlzLm1vbml0b3IucmVjb3JkRXZlbnQoZXZlbnQpO1xuICB9XG5cbiAgLy8gTcOpdG9kb3MgZGUgYXZhbGlhw6fDo29cbiAgcHJpdmF0ZSBldmFsdWF0ZU1hdGVyaWFsKCk6IG51bWJlciB7XG4gICAgY29uc3QgcGllY2VWYWx1ZXMgPSB7XG4gICAgICBwOiAxLFxuICAgICAgbjogMyxcbiAgICAgIGI6IDMsXG4gICAgICByOiA1LFxuICAgICAgcTogOSxcbiAgICAgIGs6IDBcbiAgICB9O1xuXG4gICAgbGV0IHNjb3JlID0gMDtcbiAgICBjb25zdCBib2FyZCA9IHRoaXMuZ2FtZS5ib2FyZCgpO1xuXG4gICAgZm9yIChsZXQgcm93ID0gMDsgcm93IDwgODsgcm93KyspIHtcbiAgICAgIGZvciAobGV0IGNvbCA9IDA7IGNvbCA8IDg7IGNvbCsrKSB7XG4gICAgICAgIGNvbnN0IHBpZWNlID0gYm9hcmRbcm93XVtjb2xdO1xuICAgICAgICBpZiAocGllY2UpIHtcbiAgICAgICAgICBjb25zdCB2YWx1ZSA9IHBpZWNlVmFsdWVzW3BpZWNlLnR5cGUgYXMga2V5b2YgdHlwZW9mIHBpZWNlVmFsdWVzXTtcbiAgICAgICAgICBzY29yZSArPSBwaWVjZS5jb2xvciA9PT0gJ3cnID8gdmFsdWUgOiAtdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc2NvcmU7XG4gIH1cblxuICBwcml2YXRlIGV2YWx1YXRlTW9iaWxpdHkoKTogbnVtYmVyIHtcbiAgICBjb25zdCB3aGl0ZU1vdmVzID0gdGhpcy5nYW1lLm1vdmVzKCkubGVuZ3RoO1xuICAgIC8vIENsb25hIG8gam9nbyBwYXJhIHZlciBvcyBtb3ZpbWVudG9zIGRvIG9wb25lbnRlXG4gICAgY29uc3QgdGVtcEdhbWUgPSBuZXcgQ2hlc3ModGhpcy5nYW1lLmZlbigpKTtcbiAgICB0ZW1wR2FtZS5sb2FkKHRoaXMuZ2FtZS5mZW4oKS5yZXBsYWNlKCcgdyAnLCAnIGIgJykpO1xuICAgIGNvbnN0IGJsYWNrTW92ZXMgPSB0ZW1wR2FtZS5tb3ZlcygpLmxlbmd0aDtcbiAgICBcbiAgICByZXR1cm4gd2hpdGVNb3ZlcyAtIGJsYWNrTW92ZXM7XG4gIH1cblxuICBwcml2YXRlIGV2YWx1YXRlS2luZ1NhZmV0eSgpOiBudW1iZXIge1xuICAgIC8vIFRPRE86IEltcGxlbWVudGFyIGF2YWxpYcOnw6NvIGRlIHNlZ3VyYW7Dp2EgZG8gcmVpXG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICBwcml2YXRlIGV2YWx1YXRlUGF3blN0cnVjdHVyZSgpOiBudW1iZXIge1xuICAgIC8vIFRPRE86IEltcGxlbWVudGFyIGF2YWxpYcOnw6NvIGRlIGVzdHJ1dHVyYSBkZSBwZcO1ZXNcbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIC8vIEV2ZW50IGhhbmRsZXJzXG4gIG9uKGV2ZW50TmFtZTogc3RyaW5nLCBoYW5kbGVyOiAoZXZlbnQ6IEVuZ2luZUV2ZW50KSA9PiB2b2lkKTogdm9pZCB7XG4gICAgdGhpcy5ldmVudEVtaXR0ZXIub24oZXZlbnROYW1lLCBoYW5kbGVyKTtcbiAgfVxuXG4gIG9mZihldmVudE5hbWU6IHN0cmluZywgaGFuZGxlcjogKGV2ZW50OiBFbmdpbmVFdmVudCkgPT4gdm9pZCk6IHZvaWQge1xuICAgIHRoaXMuZXZlbnRFbWl0dGVyLm9mZihldmVudE5hbWUsIGhhbmRsZXIpO1xuICB9XG59XG4iXSwibmFtZXMiOlsiQ2hlc3MiLCJBcnF1aW1heE1vbml0b3IiLCJJTklUSUFMX0ZFTiIsIkV2ZW50RW1pdHRlciIsIkNoZXNzRW5naW5lQmFzZSIsImNvbnN0cnVjdG9yIiwib3B0aW9ucyIsImdhbWUiLCJzdGFydFBvc2l0aW9uIiwiZXZlbnRFbWl0dGVyIiwicG9zaXRpb25DYWNoZSIsIk1hcCIsIm1vbml0b3IiLCJnZXRCb2FyZCIsImJvYXJkIiwibWFwIiwicm93Iiwic3F1YXJlIiwidHlwZSIsImNvbG9yIiwiZ2V0RkVOIiwiZmVuIiwic2V0RkVOIiwibG9hZCIsImVtaXRFdmVudCIsImUiLCJFcnJvciIsImdldFBvc3NpYmxlTW92ZXMiLCJwb3NpdGlvbiIsInBvc2l0aW9uVG9TcXVhcmUiLCJjYWNoZUtleSIsImNhY2hlSGl0IiwiaGFzIiwibW92ZXMiLCJjYWNoZSIsImdldCIsImJlc3RMaW5lIiwidmVyYm9zZSIsInNldCIsImV2YWx1YXRpb24iLCJkZXB0aCIsInRocmVhdHMiLCJwb3NpdGlvbmFsRmVhdHVyZXMiLCJwYXduU3RydWN0dXJlIiwia2luZ1NhZmV0eSIsIm1vYmlsaXR5IiwiY2VudGVyQ29udHJvbCIsInBpZWNlQWN0aXZpdHkiLCJyZWNvcmRDYWNoZUFjY2VzcyIsIm1vdmUiLCJmcm9tIiwic3F1YXJlVG9Qb3NpdGlvbiIsInRvIiwicGllY2UiLCJjYXB0dXJlZCIsInVuZGVmaW5lZCIsInByb21vdGlvbiIsIm1ha2VNb3ZlIiwiY2hlc3NNb3ZlIiwiaXNDaGVjayIsImtpbmdQb3NpdGlvbiIsImZpbmRLaW5nIiwiZ2V0Q3VycmVudFBsYXllciIsImlzR2FtZU92ZXIiLCJyZXN1bHQiLCJpc0NoZWNrbWF0ZSIsInVuZG9MYXN0TW92ZSIsInVuZG8iLCJpc0RyYXciLCJ0dXJuIiwiZXZhbHVhdGVQb3NpdGlvbiIsIndlaWdodHMiLCJldmFsdWF0aW9uUGFyYW1ldGVycyIsIm1hdGVyaWFsV2VpZ2h0IiwicG9zaXRpb25XZWlnaHQiLCJtb2JpbGl0eVdlaWdodCIsImtpbmdTYWZldHlXZWlnaHQiLCJwYXduU3RydWN0dXJlV2VpZ2h0Iiwic2NvcmUiLCJldmFsdWF0ZU1hdGVyaWFsIiwiZXZhbHVhdGVQaWVjZVBvc2l0aW9ucyIsImV2YWx1YXRlTW9iaWxpdHkiLCJldmFsdWF0ZUtpbmdTYWZldHkiLCJldmFsdWF0ZVBhd25TdHJ1Y3R1cmUiLCJwaWVjZVNxdWFyZVZhbHVlcyIsInAiLCJuIiwiYiIsImNvbCIsInBpZWNlVGFibGUiLCJwb3NpdGlvblZhbHVlIiwiZ2V0QmVzdE1vdmUiLCJnZXRHYW1lSGlzdG9yeSIsImhpc3RvcnkiLCJpc1ZhbGlkTW92ZSIsImlzVmFsaWRQb3NpdGlvbiIsInJlc2V0IiwiY2xlYXIiLCJjbG9uZSIsImNsb25lZEVuZ2luZSIsImZpbGUiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJjaGFyQ29kZUF0IiwicmFuayIsInBhcnNlSW50IiwiY2hlY2tIZWFsdGgiLCJldmVudCIsImVtaXQiLCJyZWNvcmRFdmVudCIsInBpZWNlVmFsdWVzIiwiciIsInEiLCJrIiwidmFsdWUiLCJ3aGl0ZU1vdmVzIiwibGVuZ3RoIiwidGVtcEdhbWUiLCJyZXBsYWNlIiwiYmxhY2tNb3ZlcyIsIm9uIiwiZXZlbnROYW1lIiwiaGFuZGxlciIsIm9mZiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/shared/engine/ChessEngineBase.ts\n");

/***/ }),

/***/ "./src/shared/engine/CulturalChessEngine.ts":
/*!**************************************************!*\
  !*** ./src/shared/engine/CulturalChessEngine.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"CulturalChessEngine\": () => (/* binding */ CulturalChessEngine)\n/* harmony export */ });\n/* harmony import */ var _ChessEngineBase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ChessEngineBase */ \"./src/shared/engine/ChessEngineBase.ts\");\n/* harmony import */ var _constants_game__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants/game */ \"./src/shared/constants/game.ts\");\n\n\nclass CulturalChessEngine extends _ChessEngineBase__WEBPACK_IMPORTED_MODULE_0__.ChessEngineBase {\n    constructor(options = {}){\n        super(options);\n        this.currentStyle = \"modern\";\n        this.culturalEvents = [];\n        this.playStyleHistory = [];\n        // Registra movimentos para análise de estilo\n        this.on(\"engine-event\", (event)=>{\n            if (event.type === \"MOVE_MADE\") {\n                this.playStyleHistory.push(event.move);\n                this.analyzeMoveStyle(event.move);\n            }\n        });\n    }\n    // Implementação da interface CulturalEngineExtension\n    setCulturalStyle(style) {\n        if (!(style in _constants_game__WEBPACK_IMPORTED_MODULE_1__.CULTURAL_STYLES)) {\n            throw new Error(`Estilo cultural inválido: ${style}`);\n        }\n        this.currentStyle = style;\n        this.triggerCulturalEvent(\"STYLE_CHANGED\");\n    }\n    getCulturalNarrative() {\n        const narratives = [];\n        const recentMoves = this.playStyleHistory.slice(-5);\n        const styleAnalysis = this.analyzePlayStyle();\n        // Narrativa baseada no estilo dominante\n        narratives.push(`Seu jogo reflete o estilo ${styleAnalysis.dominantStyle}, ` + `com ênfase em ${this.getStyleCharacteristics(styleAnalysis.dominantStyle)}.`);\n        // Narrativa baseada nos movimentos recentes\n        if (recentMoves.length > 0) {\n            const recentStyle = this.analyzeMoveSequence(recentMoves);\n            narratives.push(`Nos últimos movimentos, você demonstrou uma tendência a ` + `${this.getStyleTendency(recentStyle)}.`);\n        }\n        // Narrativa cultural específica\n        narratives.push(this.getCulturalStyleNarrative());\n        return narratives;\n    }\n    getStyleBasedEvaluation() {\n        const baseEvaluation = super.evaluatePosition();\n        const styleModifier = this.getStyleModifier();\n        const modifiedEvaluation = baseEvaluation * styleModifier;\n        return {\n            style: this.currentStyle,\n            evaluation: modifiedEvaluation,\n            explanation: this.getStyleEvaluation()\n        };\n    }\n    triggerCulturalEvent(type) {\n        if (!(type in _constants_game__WEBPACK_IMPORTED_MODULE_1__.CULTURAL_EVENTS)) {\n            throw new Error(`Tipo de evento cultural inválido: ${type}`);\n        }\n        const event = {\n            type,\n            timestamp: Date.now(),\n            description: this.getEventDescription(type)\n        };\n        this.culturalEvents.push(event);\n        this.emitEvent({\n            type: \"CULTURAL_EVENT\",\n            event: {\n                type: event.type,\n                description: event.description\n            }\n        });\n    }\n    getCulturalEventHistory() {\n        return [\n            ...this.culturalEvents\n        ];\n    }\n    analyzePlayStyle() {\n        const metrics = this.calculateStyleMetrics();\n        const dominantStyle = this.findDominantStyle(metrics);\n        const recommendations = this.generateRecommendations(metrics);\n        return {\n            dominantStyle,\n            styleMetrics: metrics,\n            recommendations\n        };\n    }\n    // Métodos auxiliares privados\n    analyzeMoveStyle(move) {\n        const isAggressive = this.isAggressiveMove(move);\n        const isPositional = this.isPositionalMove(move);\n        const isTactical = this.isTacticalMove(move);\n        if (isAggressive) {\n            this.triggerCulturalEvent(\"AGGRESSIVE_MOVE\");\n        } else if (isPositional) {\n            this.triggerCulturalEvent(\"POSITIONAL_MOVE\");\n        } else if (isTactical) {\n            this.triggerCulturalEvent(\"TACTICAL_MOVE\");\n        }\n    }\n    analyzeMoveSequence(moves) {\n        let aggressiveCount = 0;\n        let positionalCount = 0;\n        let tacticalCount = 0;\n        moves.forEach((move)=>{\n            if (this.isAggressiveMove(move)) aggressiveCount++;\n            if (this.isPositionalMove(move)) positionalCount++;\n            if (this.isTacticalMove(move)) tacticalCount++;\n        });\n        const total = moves.length;\n        const scores = {\n            aggressive: aggressiveCount / total,\n            positional: positionalCount / total,\n            tactical: tacticalCount / total\n        };\n        return Object.entries(scores).reduce((a, b)=>a[1] > b[1] ? a : b)[0];\n    }\n    isAggressiveMove(move) {\n        return Boolean(move.captured || // Captura\n        this.isCheck() || // Xeque\n        this.isAttackingCenterPieces(move) // Ataque ao centro\n        );\n    }\n    isPositionalMove(move) {\n        return Boolean(this.improvesPosition(move) || this.controlsImportantSquares(move) || this.improvesPawnStructure(move));\n    }\n    isTacticalMove(move) {\n        return Boolean(this.createsThreat(move) || this.createsFork(move) || this.createsPin(move));\n    }\n    calculateStyleMetrics() {\n        const metrics = {\n            aggressive: 0,\n            defensive: 0,\n            positional: 0,\n            tactical: 0\n        };\n        this.playStyleHistory.forEach((move)=>{\n            if (this.isAggressiveMove(move)) metrics.aggressive++;\n            if (this.isPositionalMove(move)) metrics.positional++;\n            if (this.isTacticalMove(move)) metrics.tactical++;\n            // Movimento defensivo é calculado de forma diferente\n            if (this.isDefensiveMove(move)) metrics.defensive++;\n        });\n        // Normaliza as métricas\n        const total = Object.values(metrics).reduce((a, b)=>a + b, 0);\n        if (total > 0) {\n            Object.keys(metrics).forEach((key)=>{\n                metrics[key] = metrics[key] / total;\n            });\n        }\n        return metrics;\n    }\n    findDominantStyle(metrics) {\n        return Object.entries(metrics).reduce((a, b)=>a[1] > b[1] ? a : b)[0];\n    }\n    generateRecommendations(metrics) {\n        const recommendations = [];\n        const dominantStyle = this.findDominantStyle(metrics);\n        // Recomendações baseadas no estilo dominante\n        recommendations.push(`Continue explorando seu estilo ${dominantStyle}, mas considere também:`);\n        // Recomendações para equilibrar o jogo\n        Object.entries(metrics).filter(([style])=>style !== dominantStyle).sort(([, a], [, b])=>a - b).forEach(([style, value])=>{\n            if (value < 0.2) {\n                recommendations.push(this.getStyleRecommendation(style));\n            }\n        });\n        return recommendations;\n    }\n    getStyleModifier() {\n        // Modifica a avaliação baseada no estilo cultural\n        const modifiers = {\n            medieval: 1.1,\n            renaissance: 1.2,\n            modern: 1.0,\n            ancient: 0.9 // Valoriza sacrifícios e ataques\n        };\n        return modifiers[this.currentStyle] || 1.0;\n    }\n    getStyleEvaluation() {\n        const evaluation = super.evaluatePosition();\n        const style = this.currentStyle;\n        switch(style){\n            case \"medieval\":\n                return evaluation > 0 ? \"Vantagem material e posicional s\\xf3lida\" : \"Necessidade de consolidar posi\\xe7\\xe3o e material\";\n            case \"renaissance\":\n                return evaluation > 0 ? \"Excelente desenvolvimento e mobilidade\" : \"Oportunidade para melhorar desenvolvimento\";\n            case \"modern\":\n                return evaluation > 0 ? \"Posi\\xe7\\xe3o equilibrada com vantagem\" : \"Posi\\xe7\\xe3o requer aten\\xe7\\xe3o estrat\\xe9gica\";\n            case \"ancient\":\n                return evaluation > 0 ? \"Potencial para sacrif\\xedcios decisivos\" : \"Momento para sacrif\\xedcios t\\xe1ticos\";\n            default:\n                return \"Avalia\\xe7\\xe3o padr\\xe3o da posi\\xe7\\xe3o\";\n        }\n    }\n    getStyleCharacteristics(style) {\n        const characteristics = {\n            aggressive: \"ataques diretos e sacrif\\xedcios\",\n            defensive: \"s\\xf3lida estrutura defensiva\",\n            positional: \"controle posicional e estrat\\xe9gico\",\n            tactical: \"combina\\xe7\\xf5es e t\\xe1ticas complexas\"\n        };\n        return characteristics[style] || \"estilo equilibrado\";\n    }\n    getStyleTendency(style) {\n        const tendencies = {\n            aggressive: \"buscar iniciativas de ataque\",\n            defensive: \"fortalecer sua posi\\xe7\\xe3o\",\n            positional: \"controlar pontos estrat\\xe9gicos\",\n            tactical: \"criar amea\\xe7as t\\xe1ticas\"\n        };\n        return tendencies[style] || \"manter um jogo equilibrado\";\n    }\n    getEventDescription(type) {\n        const descriptions = {\n            AGGRESSIVE_MOVE: \"Movimento agressivo detectado\",\n            POSITIONAL_MOVE: \"Melhoria posicional significativa\",\n            TACTICAL_MOVE: \"Combina\\xe7\\xe3o t\\xe1tica identificada\",\n            STYLE_CHANGED: `Estilo alterado para ${this.currentStyle}`,\n            BRILLIANT_MOVE: \"Movimento brilhante executado\",\n            CRITICAL_POSITION: \"Posi\\xe7\\xe3o cr\\xedtica alcan\\xe7ada\"\n        };\n        return descriptions[type] || \"Evento cultural ocorrido\";\n    }\n    getCulturalStyleNarrative() {\n        const narratives = {\n            medieval: \"Seu jogo reflete a solidez e tradi\\xe7\\xe3o do xadrez medieval.\",\n            renaissance: \"Voc\\xea demonstra a criatividade e inova\\xe7\\xe3o do per\\xedodo renascentista.\",\n            modern: \"Seu estilo incorpora princ\\xedpios modernos de flexibilidade e pragmatismo.\",\n            ancient: \"Sua abordagem evoca a sabedoria e profundidade do xadrez antigo.\"\n        };\n        return narratives[this.currentStyle] || \"Seu estilo \\xe9 \\xfanico e pessoal.\";\n    }\n    getStyleRecommendation(style) {\n        const recommendations = {\n            aggressive: \"Procure oportunidades de ataque direto ao rei advers\\xe1rio\",\n            defensive: \"Fortale\\xe7a sua estrutura de pe\\xf5es e seguran\\xe7a do rei\",\n            positional: \"Foque no controle do centro e posicionamento de pe\\xe7as\",\n            tactical: \"Busque combina\\xe7\\xf5es e trocas favor\\xe1veis\"\n        };\n        return recommendations[style] || \"Mantenha um jogo equilibrado\";\n    }\n    // Métodos de avaliação específicos\n    isAttackingCenterPieces(move) {\n        const centerSquares = [\n            {\n                row: 3,\n                col: 3\n            },\n            {\n                row: 3,\n                col: 4\n            },\n            {\n                row: 4,\n                col: 3\n            },\n            {\n                row: 4,\n                col: 4\n            }\n        ];\n        return centerSquares.some((square)=>square.row === move.to.row && square.col === move.to.col);\n    }\n    improvesPosition(move) {\n        // Verifica se o movimento melhora a posição da peça\n        const fromScore = this.getSquareValue(move.from);\n        const toScore = this.getSquareValue(move.to);\n        return toScore > fromScore;\n    }\n    controlsImportantSquares(move) {\n        // Verifica se o movimento controla casas importantes\n        const attacks = this.getPossibleMoves(move.to);\n        return attacks.some((attack)=>this.isImportantSquare(attack.to));\n    }\n    improvesPawnStructure(move) {\n        // TODO: Implementar análise de estrutura de peões\n        return false;\n    }\n    createsThreat(move) {\n        const clone = this.clone();\n        clone.makeMove(move.from, move.to);\n        return clone.isCheck();\n    }\n    createsFork(move) {\n        // TODO: Implementar detecção de garfo\n        return false;\n    }\n    createsPin(move) {\n        // TODO: Implementar detecção de cravada\n        return false;\n    }\n    isDefensiveMove(move) {\n        // TODO: Implementar detecção de movimento defensivo\n        return false;\n    }\n    getSquareValue(position) {\n        // Valores das casas do tabuleiro (centro vale mais)\n        const squareValues = [\n            [\n                0,\n                0,\n                0,\n                0,\n                0,\n                0,\n                0,\n                0\n            ],\n            [\n                0,\n                1,\n                1,\n                1,\n                1,\n                1,\n                1,\n                0\n            ],\n            [\n                0,\n                1,\n                2,\n                2,\n                2,\n                2,\n                1,\n                0\n            ],\n            [\n                0,\n                1,\n                2,\n                3,\n                3,\n                2,\n                1,\n                0\n            ],\n            [\n                0,\n                1,\n                2,\n                3,\n                3,\n                2,\n                1,\n                0\n            ],\n            [\n                0,\n                1,\n                2,\n                2,\n                2,\n                2,\n                1,\n                0\n            ],\n            [\n                0,\n                1,\n                1,\n                1,\n                1,\n                1,\n                1,\n                0\n            ],\n            [\n                0,\n                0,\n                0,\n                0,\n                0,\n                0,\n                0,\n                0\n            ]\n        ];\n        return squareValues[position.row][position.col];\n    }\n    isImportantSquare(position) {\n        return this.getSquareValue(position) >= 2;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2hhcmVkL2VuZ2luZS9DdWx0dXJhbENoZXNzRW5naW5lLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFvRDtBQUdpQjtBQUU5RCxNQUFNRyw0QkFBNEJILDZEQUFlQTtJQVN0REksWUFBWUMsVUFBeUIsQ0FBQyxDQUFDLENBQUU7UUFDdkMsS0FBSyxDQUFDQTtRQUNOLElBQUksQ0FBQ0MsWUFBWSxHQUFHO1FBQ3BCLElBQUksQ0FBQ0MsY0FBYyxHQUFHLEVBQUU7UUFDeEIsSUFBSSxDQUFDQyxnQkFBZ0IsR0FBRyxFQUFFO1FBRTFCLDZDQUE2QztRQUM3QyxJQUFJLENBQUNDLEVBQUUsQ0FBQyxnQkFBZ0IsQ0FBQ0MsUUFBVTtZQUNqQyxJQUFJQSxNQUFNQyxJQUFJLEtBQUssYUFBYTtnQkFDOUIsSUFBSSxDQUFDSCxnQkFBZ0IsQ0FBQ0ksSUFBSSxDQUFDRixNQUFNRyxJQUFJO2dCQUNyQyxJQUFJLENBQUNDLGdCQUFnQixDQUFDSixNQUFNRyxJQUFJO1lBQ2xDLENBQUM7UUFDSDtJQUNGO0lBRUEscURBQXFEO0lBQ3JERSxpQkFBaUJDLEtBQWEsRUFBUTtRQUNwQyxJQUFJLENBQUVBLENBQUFBLFNBQVNmLDREQUFjLEdBQUk7WUFDL0IsTUFBTSxJQUFJZ0IsTUFBTSxDQUFDLDBCQUEwQixFQUFFRCxNQUFNLENBQUMsRUFBRTtRQUN4RCxDQUFDO1FBQ0QsSUFBSSxDQUFDVixZQUFZLEdBQUdVO1FBQ3BCLElBQUksQ0FBQ0Usb0JBQW9CLENBQUM7SUFDNUI7SUFFQUMsdUJBQWlDO1FBQy9CLE1BQU1DLGFBQXVCLEVBQUU7UUFDL0IsTUFBTUMsY0FBYyxJQUFJLENBQUNiLGdCQUFnQixDQUFDYyxLQUFLLENBQUMsQ0FBQztRQUNqRCxNQUFNQyxnQkFBZ0IsSUFBSSxDQUFDQyxnQkFBZ0I7UUFFM0Msd0NBQXdDO1FBQ3hDSixXQUFXUixJQUFJLENBQ2IsQ0FBQywwQkFBMEIsRUFBRVcsY0FBY0UsYUFBYSxDQUFDLEVBQUUsQ0FBQyxHQUM1RCxDQUFD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Z0JBQUc7Z0JBQUc7Z0JBQUc7Z0JBQUc7YUFBRTtZQUN4QjtnQkFBQztnQkFBRztnQkFBRztnQkFBRztnQkFBRztnQkFBRztnQkFBRztnQkFBRzthQUFFO1lBQ3hCO2dCQUFDO2dCQUFHO2dCQUFHO2dCQUFHO2dCQUFHO2dCQUFHO2dCQUFHO2dCQUFHO2FBQUU7WUFDeEI7Z0JBQUM7Z0JBQUc7Z0JBQUc7Z0JBQUc7Z0JBQUc7Z0JBQUc7Z0JBQUc7Z0JBQUc7YUFBRTtTQUN6QjtRQUVELE9BQU9BLFlBQVksQ0FBQ0QsU0FBU2YsR0FBRyxDQUFDLENBQUNlLFNBQVNkLEdBQUcsQ0FBQztJQUNqRDtJQUVRVyxrQkFBa0JHLFFBQXVCLEVBQVc7UUFDMUQsT0FBTyxJQUFJLENBQUNULGNBQWMsQ0FBQ1MsYUFBYTtJQUMxQztBQUNGLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaGVzcy8uL3NyYy9zaGFyZWQvZW5naW5lL0N1bHR1cmFsQ2hlc3NFbmdpbmUudHM/NmZlNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDaGVzc0VuZ2luZUJhc2UgfSBmcm9tICcuL0NoZXNzRW5naW5lQmFzZSc7XG5pbXBvcnQgeyBDdWx0dXJhbEVuZ2luZUV4dGVuc2lvbiwgRW5naW5lT3B0aW9ucyB9IGZyb20gJy4uL3R5cGVzL2VuZ2luZSc7XG5pbXBvcnQgeyBDaGVzc01vdmUgfSBmcm9tICcuLi90eXBlcy9jaGVzcyc7XG5pbXBvcnQgeyBDVUxUVVJBTF9TVFlMRVMsIENVTFRVUkFMX0VWRU5UUyB9IGZyb20gJy4uL2NvbnN0YW50cy9nYW1lJztcblxuZXhwb3J0IGNsYXNzIEN1bHR1cmFsQ2hlc3NFbmdpbmUgZXh0ZW5kcyBDaGVzc0VuZ2luZUJhc2UgaW1wbGVtZW50cyBDdWx0dXJhbEVuZ2luZUV4dGVuc2lvbiB7XG4gIHByaXZhdGUgY3VycmVudFN0eWxlOiBzdHJpbmc7XG4gIHByaXZhdGUgY3VsdHVyYWxFdmVudHM6IHtcbiAgICB0eXBlOiBzdHJpbmc7XG4gICAgdGltZXN0YW1wOiBudW1iZXI7XG4gICAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgfVtdO1xuICBwcml2YXRlIHBsYXlTdHlsZUhpc3Rvcnk6IENoZXNzTW92ZVtdO1xuXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnM6IEVuZ2luZU9wdGlvbnMgPSB7fSkge1xuICAgIHN1cGVyKG9wdGlvbnMpO1xuICAgIHRoaXMuY3VycmVudFN0eWxlID0gJ21vZGVybic7XG4gICAgdGhpcy5jdWx0dXJhbEV2ZW50cyA9IFtdO1xuICAgIHRoaXMucGxheVN0eWxlSGlzdG9yeSA9IFtdO1xuXG4gICAgLy8gUmVnaXN0cmEgbW92aW1lbnRvcyBwYXJhIGFuw6FsaXNlIGRlIGVzdGlsb1xuICAgIHRoaXMub24oJ2VuZ2luZS1ldmVudCcsIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LnR5cGUgPT09ICdNT1ZFX01BREUnKSB7XG4gICAgICAgIHRoaXMucGxheVN0eWxlSGlzdG9yeS5wdXNoKGV2ZW50Lm1vdmUpO1xuICAgICAgICB0aGlzLmFuYWx5emVNb3ZlU3R5bGUoZXZlbnQubW92ZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvLyBJbXBsZW1lbnRhw6fDo28gZGEgaW50ZXJmYWNlIEN1bHR1cmFsRW5naW5lRXh0ZW5zaW9uXG4gIHNldEN1bHR1cmFsU3R5bGUoc3R5bGU6IHN0cmluZyk6IHZvaWQge1xuICAgIGlmICghKHN0eWxlIGluIENVTFRVUkFMX1NUWUxFUykpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRXN0aWxvIGN1bHR1cmFsIGludsOhbGlkbzogJHtzdHlsZX1gKTtcbiAgICB9XG4gICAgdGhpcy5jdXJyZW50U3R5bGUgPSBzdHlsZTtcbiAgICB0aGlzLnRyaWdnZXJDdWx0dXJhbEV2ZW50KCdTVFlMRV9DSEFOR0VEJyk7XG4gIH1cblxuICBnZXRDdWx0dXJhbE5hcnJhdGl2ZSgpOiBzdHJpbmdbXSB7XG4gICAgY29uc3QgbmFycmF0aXZlczogc3RyaW5nW10gPSBbXTtcbiAgICBjb25zdCByZWNlbnRNb3ZlcyA9IHRoaXMucGxheVN0eWxlSGlzdG9yeS5zbGljZSgtNSk7XG4gICAgY29uc3Qgc3R5bGVBbmFseXNpcyA9IHRoaXMuYW5hbHl6ZVBsYXlTdHlsZSgpO1xuXG4gICAgLy8gTmFycmF0aXZhIGJhc2VhZGEgbm8gZXN0aWxvIGRvbWluYW50ZVxuICAgIG5hcnJhdGl2ZXMucHVzaChcbiAgICAgIGBTZXUgam9nbyByZWZsZXRlIG8gZXN0aWxvICR7c3R5bGVBbmFseXNpcy5kb21pbmFudFN0eWxlfSwgYCArXG4gICAgICBgY29tIMOqbmZhc2UgZW0gJHt0aGlzLmdldFN0eWxlQ2hhcmFjdGVyaXN0aWNzKHN0eWxlQW5hbHlzaXMuZG9taW5hbnRTdHlsZSl9LmBcbiAgICApO1xuXG4gICAgLy8gTmFycmF0aXZhIGJhc2VhZGEgbm9zIG1vdmltZW50b3MgcmVjZW50ZXNcbiAgICBpZiAocmVjZW50TW92ZXMubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgcmVjZW50U3R5bGUgPSB0aGlzLmFuYWx5emVNb3ZlU2VxdWVuY2UocmVjZW50TW92ZXMpO1xuICAgICAgbmFycmF0aXZlcy5wdXNoKFxuICAgICAgICBgTm9zIMO6bHRpbW9zIG1vdmltZW50b3MsIHZvY8OqIGRlbW9uc3Ryb3UgdW1hIHRlbmTDqm5jaWEgYSBgICtcbiAgICAgICAgYCR7dGhpcy5nZXRTdHlsZVRlbmRlbmN5KHJlY2VudFN0eWxlKX0uYFxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBOYXJyYXRpdmEgY3VsdHVyYWwgZXNwZWPDrWZpY2FcbiAgICBuYXJyYXRpdmVzLnB1c2godGhpcy5nZXRDdWx0dXJhbFN0eWxlTmFycmF0aXZlKCkpO1xuXG4gICAgcmV0dXJuIG5hcnJhdGl2ZXM7XG4gIH1cblxuICBnZXRTdHlsZUJhc2VkRXZhbHVhdGlvbigpOiB7XG4gICAgc3R5bGU6IHN0cmluZztcbiAgICBldmFsdWF0aW9uOiBudW1iZXI7XG4gICAgZXhwbGFuYXRpb246IHN0cmluZztcbiAgfSB7XG4gICAgY29uc3QgYmFzZUV2YWx1YXRpb24gPSBzdXBlci5ldmFsdWF0ZVBvc2l0aW9uKCk7XG4gICAgY29uc3Qgc3R5bGVNb2RpZmllciA9IHRoaXMuZ2V0U3R5bGVNb2RpZmllcigpO1xuICAgIGNvbnN0IG1vZGlmaWVkRXZhbHVhdGlvbiA9IGJhc2VFdmFsdWF0aW9uICogc3R5bGVNb2RpZmllcjtcblxuICAgIHJldHVybiB7XG4gICAgICBzdHlsZTogdGhpcy5jdXJyZW50U3R5bGUsXG4gICAgICBldmFsdWF0aW9uOiBtb2RpZmllZEV2YWx1YXRpb24sXG4gICAgICBleHBsYW5hdGlvbjogdGhpcy5nZXRTdHlsZUV2YWx1YXRpb24oKVxuICAgIH07XG4gIH1cblxuICB0cmlnZ2VyQ3VsdHVyYWxFdmVudCh0eXBlOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBpZiAoISh0eXBlIGluIENVTFRVUkFMX0VWRU5UUykpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgVGlwbyBkZSBldmVudG8gY3VsdHVyYWwgaW52w6FsaWRvOiAke3R5cGV9YCk7XG4gICAgfVxuXG4gICAgY29uc3QgZXZlbnQgPSB7XG4gICAgICB0eXBlLFxuICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgZGVzY3JpcHRpb246IHRoaXMuZ2V0RXZlbnREZXNjcmlwdGlvbih0eXBlKVxuICAgIH07XG5cbiAgICB0aGlzLmN1bHR1cmFsRXZlbnRzLnB1c2goZXZlbnQpO1xuICAgIHRoaXMuZW1pdEV2ZW50KHtcbiAgICAgIHR5cGU6ICdDVUxUVVJBTF9FVkVOVCcsXG4gICAgICBldmVudDoge1xuICAgICAgICB0eXBlOiBldmVudC50eXBlLFxuICAgICAgICBkZXNjcmlwdGlvbjogZXZlbnQuZGVzY3JpcHRpb25cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGdldEN1bHR1cmFsRXZlbnRIaXN0b3J5KCk6IHtcbiAgICB0eXBlOiBzdHJpbmc7XG4gICAgdGltZXN0YW1wOiBudW1iZXI7XG4gICAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgfVtdIHtcbiAgICByZXR1cm4gWy4uLnRoaXMuY3VsdHVyYWxFdmVudHNdO1xuICB9XG5cbiAgYW5hbHl6ZVBsYXlTdHlsZSgpOiB7XG4gICAgZG9taW5hbnRTdHlsZTogc3RyaW5nO1xuICAgIHN0eWxlTWV0cmljczogUmVjb3JkPHN0cmluZywgbnVtYmVyPjtcbiAgICByZWNvbW1lbmRhdGlvbnM6IHN0cmluZ1tdO1xuICB9IHtcbiAgICBjb25zdCBtZXRyaWNzID0gdGhpcy5jYWxjdWxhdGVTdHlsZU1ldHJpY3MoKTtcbiAgICBjb25zdCBkb21pbmFudFN0eWxlID0gdGhpcy5maW5kRG9taW5hbnRTdHlsZShtZXRyaWNzKTtcbiAgICBjb25zdCByZWNvbW1lbmRhdGlvbnMgPSB0aGlzLmdlbmVyYXRlUmVjb21tZW5kYXRpb25zKG1ldHJpY3MpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGRvbWluYW50U3R5bGUsXG4gICAgICBzdHlsZU1ldHJpY3M6IG1ldHJpY3MsXG4gICAgICByZWNvbW1lbmRhdGlvbnNcbiAgICB9O1xuICB9XG5cbiAgLy8gTcOpdG9kb3MgYXV4aWxpYXJlcyBwcml2YWRvc1xuICBwcml2YXRlIGFuYWx5emVNb3ZlU3R5bGUobW92ZTogQ2hlc3NNb3ZlKTogdm9pZCB7XG4gICAgY29uc3QgaXNBZ2dyZXNzaXZlID0gdGhpcy5pc0FnZ3Jlc3NpdmVNb3ZlKG1vdmUpO1xuICAgIGNvbnN0IGlzUG9zaXRpb25hbCA9IHRoaXMuaXNQb3NpdGlvbmFsTW92ZShtb3ZlKTtcbiAgICBjb25zdCBpc1RhY3RpY2FsID0gdGhpcy5pc1RhY3RpY2FsTW92ZShtb3ZlKTtcblxuICAgIGlmIChpc0FnZ3Jlc3NpdmUpIHtcbiAgICAgIHRoaXMudHJpZ2dlckN1bHR1cmFsRXZlbnQoJ0FHR1JFU1NJVkVfTU9WRScpO1xuICAgIH0gZWxzZSBpZiAoaXNQb3NpdGlvbmFsKSB7XG4gICAgICB0aGlzLnRyaWdnZXJDdWx0dXJhbEV2ZW50KCdQT1NJVElPTkFMX01PVkUnKTtcbiAgICB9IGVsc2UgaWYgKGlzVGFjdGljYWwpIHtcbiAgICAgIHRoaXMudHJpZ2dlckN1bHR1cmFsRXZlbnQoJ1RBQ1RJQ0FMX01PVkUnKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFuYWx5emVNb3ZlU2VxdWVuY2UobW92ZXM6IENoZXNzTW92ZVtdKTogc3RyaW5nIHtcbiAgICBsZXQgYWdncmVzc2l2ZUNvdW50ID0gMDtcbiAgICBsZXQgcG9zaXRpb25hbENvdW50ID0gMDtcbiAgICBsZXQgdGFjdGljYWxDb3VudCA9IDA7XG5cbiAgICBtb3Zlcy5mb3JFYWNoKG1vdmUgPT4ge1xuICAgICAgaWYgKHRoaXMuaXNBZ2dyZXNzaXZlTW92ZShtb3ZlKSkgYWdncmVzc2l2ZUNvdW50Kys7XG4gICAgICBpZiAodGhpcy5pc1Bvc2l0aW9uYWxNb3ZlKG1vdmUpKSBwb3NpdGlvbmFsQ291bnQrKztcbiAgICAgIGlmICh0aGlzLmlzVGFjdGljYWxNb3ZlKG1vdmUpKSB0YWN0aWNhbENvdW50Kys7XG4gICAgfSk7XG5cbiAgICBjb25zdCB0b3RhbCA9IG1vdmVzLmxlbmd0aDtcbiAgICBjb25zdCBzY29yZXMgPSB7XG4gICAgICBhZ2dyZXNzaXZlOiBhZ2dyZXNzaXZlQ291bnQgLyB0b3RhbCxcbiAgICAgIHBvc2l0aW9uYWw6IHBvc2l0aW9uYWxDb3VudCAvIHRvdGFsLFxuICAgICAgdGFjdGljYWw6IHRhY3RpY2FsQ291bnQgLyB0b3RhbFxuICAgIH07XG5cbiAgICByZXR1cm4gT2JqZWN0LmVudHJpZXMoc2NvcmVzKVxuICAgICAgLnJlZHVjZSgoYSwgYikgPT4gYVsxXSA+IGJbMV0gPyBhIDogYilbMF07XG4gIH1cblxuICBwcml2YXRlIGlzQWdncmVzc2l2ZU1vdmUobW92ZTogQ2hlc3NNb3ZlKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIEJvb2xlYW4oXG4gICAgICBtb3ZlLmNhcHR1cmVkIHx8IC8vIENhcHR1cmFcbiAgICAgIHRoaXMuaXNDaGVjaygpIHx8IC8vIFhlcXVlXG4gICAgICB0aGlzLmlzQXR0YWNraW5nQ2VudGVyUGllY2VzKG1vdmUpIC8vIEF0YXF1ZSBhbyBjZW50cm9cbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBpc1Bvc2l0aW9uYWxNb3ZlKG1vdmU6IENoZXNzTW92ZSk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBCb29sZWFuKFxuICAgICAgdGhpcy5pbXByb3Zlc1Bvc2l0aW9uKG1vdmUpIHx8XG4gICAgICB0aGlzLmNvbnRyb2xzSW1wb3J0YW50U3F1YXJlcyhtb3ZlKSB8fFxuICAgICAgdGhpcy5pbXByb3Zlc1Bhd25TdHJ1Y3R1cmUobW92ZSlcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBpc1RhY3RpY2FsTW92ZShtb3ZlOiBDaGVzc01vdmUpOiBib29sZWFuIHtcbiAgICByZXR1cm4gQm9vbGVhbihcbiAgICAgIHRoaXMuY3JlYXRlc1RocmVhdChtb3ZlKSB8fFxuICAgICAgdGhpcy5jcmVhdGVzRm9yayhtb3ZlKSB8fFxuICAgICAgdGhpcy5jcmVhdGVzUGluKG1vdmUpXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgY2FsY3VsYXRlU3R5bGVNZXRyaWNzKCk6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4ge1xuICAgIGNvbnN0IG1ldHJpY3M6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4gPSB7XG4gICAgICBhZ2dyZXNzaXZlOiAwLFxuICAgICAgZGVmZW5zaXZlOiAwLFxuICAgICAgcG9zaXRpb25hbDogMCxcbiAgICAgIHRhY3RpY2FsOiAwXG4gICAgfTtcblxuICAgIHRoaXMucGxheVN0eWxlSGlzdG9yeS5mb3JFYWNoKG1vdmUgPT4ge1xuICAgICAgaWYgKHRoaXMuaXNBZ2dyZXNzaXZlTW92ZShtb3ZlKSkgbWV0cmljcy5hZ2dyZXNzaXZlKys7XG4gICAgICBpZiAodGhpcy5pc1Bvc2l0aW9uYWxNb3ZlKG1vdmUpKSBtZXRyaWNzLnBvc2l0aW9uYWwrKztcbiAgICAgIGlmICh0aGlzLmlzVGFjdGljYWxNb3ZlKG1vdmUpKSBtZXRyaWNzLnRhY3RpY2FsKys7XG4gICAgICAvLyBNb3ZpbWVudG8gZGVmZW5zaXZvIMOpIGNhbGN1bGFkbyBkZSBmb3JtYSBkaWZlcmVudGVcbiAgICAgIGlmICh0aGlzLmlzRGVmZW5zaXZlTW92ZShtb3ZlKSkgbWV0cmljcy5kZWZlbnNpdmUrKztcbiAgICB9KTtcblxuICAgIC8vIE5vcm1hbGl6YSBhcyBtw6l0cmljYXNcbiAgICBjb25zdCB0b3RhbCA9IE9iamVjdC52YWx1ZXMobWV0cmljcykucmVkdWNlKChhLCBiKSA9PiBhICsgYiwgMCk7XG4gICAgaWYgKHRvdGFsID4gMCkge1xuICAgICAgT2JqZWN0LmtleXMobWV0cmljcykuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICBtZXRyaWNzW2tleV0gPSBtZXRyaWNzW2tleV0gLyB0b3RhbDtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBtZXRyaWNzO1xuICB9XG5cbiAgcHJpdmF0ZSBmaW5kRG9taW5hbnRTdHlsZShtZXRyaWNzOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+KTogc3RyaW5nIHtcbiAgICByZXR1cm4gT2JqZWN0LmVudHJpZXMobWV0cmljcylcbiAgICAgIC5yZWR1Y2UoKGEsIGIpID0+IGFbMV0gPiBiWzFdID8gYSA6IGIpWzBdO1xuICB9XG5cbiAgcHJpdmF0ZSBnZW5lcmF0ZVJlY29tbWVuZGF0aW9ucyhtZXRyaWNzOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+KTogc3RyaW5nW10ge1xuICAgIGNvbnN0IHJlY29tbWVuZGF0aW9uczogc3RyaW5nW10gPSBbXTtcbiAgICBjb25zdCBkb21pbmFudFN0eWxlID0gdGhpcy5maW5kRG9taW5hbnRTdHlsZShtZXRyaWNzKTtcblxuICAgIC8vIFJlY29tZW5kYcOnw7VlcyBiYXNlYWRhcyBubyBlc3RpbG8gZG9taW5hbnRlXG4gICAgcmVjb21tZW5kYXRpb25zLnB1c2goXG4gICAgICBgQ29udGludWUgZXhwbG9yYW5kbyBzZXUgZXN0aWxvICR7ZG9taW5hbnRTdHlsZX0sIG1hcyBjb25zaWRlcmUgdGFtYsOpbTpgXG4gICAgKTtcblxuICAgIC8vIFJlY29tZW5kYcOnw7VlcyBwYXJhIGVxdWlsaWJyYXIgbyBqb2dvXG4gICAgT2JqZWN0LmVudHJpZXMobWV0cmljcylcbiAgICAgIC5maWx0ZXIoKFtzdHlsZV0pID0+IHN0eWxlICE9PSBkb21pbmFudFN0eWxlKVxuICAgICAgLnNvcnQoKFssYV0sIFssYl0pID0+IGEgLSBiKVxuICAgICAgLmZvckVhY2goKFtzdHlsZSwgdmFsdWVdKSA9PiB7XG4gICAgICAgIGlmICh2YWx1ZSA8IDAuMikge1xuICAgICAgICAgIHJlY29tbWVuZGF0aW9ucy5wdXNoKFxuICAgICAgICAgICAgdGhpcy5nZXRTdHlsZVJlY29tbWVuZGF0aW9uKHN0eWxlIGFzIGtleW9mIHR5cGVvZiBtZXRyaWNzKVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgcmV0dXJuIHJlY29tbWVuZGF0aW9ucztcbiAgfVxuXG4gIHByaXZhdGUgZ2V0U3R5bGVNb2RpZmllcigpOiBudW1iZXIge1xuICAgIC8vIE1vZGlmaWNhIGEgYXZhbGlhw6fDo28gYmFzZWFkYSBubyBlc3RpbG8gY3VsdHVyYWxcbiAgICBjb25zdCBtb2RpZmllcnM6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4gPSB7XG4gICAgICBtZWRpZXZhbDogMS4xLCAvLyBWYWxvcml6YSBtYXRlcmlhbCBlIHBvc2nDp8Ojb1xuICAgICAgcmVuYWlzc2FuY2U6IDEuMiwgLy8gVmFsb3JpemEgbW9iaWxpZGFkZSBlIGRlc2Vudm9sdmltZW50b1xuICAgICAgbW9kZXJuOiAxLjAsIC8vIEJhbGFuY2VhZG9cbiAgICAgIGFuY2llbnQ6IDAuOSAvLyBWYWxvcml6YSBzYWNyaWbDrWNpb3MgZSBhdGFxdWVzXG4gICAgfTtcblxuICAgIHJldHVybiBtb2RpZmllcnNbdGhpcy5jdXJyZW50U3R5bGVdIHx8IDEuMDtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0U3R5bGVFdmFsdWF0aW9uKCk6IHN0cmluZyB7XG4gICAgY29uc3QgZXZhbHVhdGlvbiA9IHN1cGVyLmV2YWx1YXRlUG9zaXRpb24oKTtcbiAgICBjb25zdCBzdHlsZSA9IHRoaXMuY3VycmVudFN0eWxlO1xuXG4gICAgc3dpdGNoIChzdHlsZSkge1xuICAgICAgY2FzZSAnbWVkaWV2YWwnOlxuICAgICAgICByZXR1cm4gZXZhbHVhdGlvbiA+IDBcbiAgICAgICAgICA/ICdWYW50YWdlbSBtYXRlcmlhbCBlIHBvc2ljaW9uYWwgc8OzbGlkYSdcbiAgICAgICAgICA6ICdOZWNlc3NpZGFkZSBkZSBjb25zb2xpZGFyIHBvc2nDp8OjbyBlIG1hdGVyaWFsJztcbiAgICAgIGNhc2UgJ3JlbmFpc3NhbmNlJzpcbiAgICAgICAgcmV0dXJuIGV2YWx1YXRpb24gPiAwXG4gICAgICAgICAgPyAnRXhjZWxlbnRlIGRlc2Vudm9sdmltZW50byBlIG1vYmlsaWRhZGUnXG4gICAgICAgICAgOiAnT3BvcnR1bmlkYWRlIHBhcmEgbWVsaG9yYXIgZGVzZW52b2x2aW1lbnRvJztcbiAgICAgIGNhc2UgJ21vZGVybic6XG4gICAgICAgIHJldHVybiBldmFsdWF0aW9uID4gMFxuICAgICAgICAgID8gJ1Bvc2nDp8OjbyBlcXVpbGlicmFkYSBjb20gdmFudGFnZW0nXG4gICAgICAgICAgOiAnUG9zacOnw6NvIHJlcXVlciBhdGVuw6fDo28gZXN0cmF0w6lnaWNhJztcbiAgICAgIGNhc2UgJ2FuY2llbnQnOlxuICAgICAgICByZXR1cm4gZXZhbHVhdGlvbiA+IDBcbiAgICAgICAgICA/ICdQb3RlbmNpYWwgcGFyYSBzYWNyaWbDrWNpb3MgZGVjaXNpdm9zJ1xuICAgICAgICAgIDogJ01vbWVudG8gcGFyYSBzYWNyaWbDrWNpb3MgdMOhdGljb3MnO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuICdBdmFsaWHDp8OjbyBwYWRyw6NvIGRhIHBvc2nDp8Ojbyc7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBnZXRTdHlsZUNoYXJhY3RlcmlzdGljcyhzdHlsZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBjb25zdCBjaGFyYWN0ZXJpc3RpY3M6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG4gICAgICBhZ2dyZXNzaXZlOiAnYXRhcXVlcyBkaXJldG9zIGUgc2Fjcmlmw61jaW9zJyxcbiAgICAgIGRlZmVuc2l2ZTogJ3PDs2xpZGEgZXN0cnV0dXJhIGRlZmVuc2l2YScsXG4gICAgICBwb3NpdGlvbmFsOiAnY29udHJvbGUgcG9zaWNpb25hbCBlIGVzdHJhdMOpZ2ljbycsXG4gICAgICB0YWN0aWNhbDogJ2NvbWJpbmHDp8O1ZXMgZSB0w6F0aWNhcyBjb21wbGV4YXMnXG4gICAgfTtcblxuICAgIHJldHVybiBjaGFyYWN0ZXJpc3RpY3Nbc3R5bGVdIHx8ICdlc3RpbG8gZXF1aWxpYnJhZG8nO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRTdHlsZVRlbmRlbmN5KHN0eWxlOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGNvbnN0IHRlbmRlbmNpZXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG4gICAgICBhZ2dyZXNzaXZlOiAnYnVzY2FyIGluaWNpYXRpdmFzIGRlIGF0YXF1ZScsXG4gICAgICBkZWZlbnNpdmU6ICdmb3J0YWxlY2VyIHN1YSBwb3Npw6fDo28nLFxuICAgICAgcG9zaXRpb25hbDogJ2NvbnRyb2xhciBwb250b3MgZXN0cmF0w6lnaWNvcycsXG4gICAgICB0YWN0aWNhbDogJ2NyaWFyIGFtZWHDp2FzIHTDoXRpY2FzJ1xuICAgIH07XG5cbiAgICByZXR1cm4gdGVuZGVuY2llc1tzdHlsZV0gfHwgJ21hbnRlciB1bSBqb2dvIGVxdWlsaWJyYWRvJztcbiAgfVxuXG4gIHByaXZhdGUgZ2V0RXZlbnREZXNjcmlwdGlvbih0eXBlOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGNvbnN0IGRlc2NyaXB0aW9uczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcbiAgICAgIEFHR1JFU1NJVkVfTU9WRTogJ01vdmltZW50byBhZ3Jlc3Npdm8gZGV0ZWN0YWRvJyxcbiAgICAgIFBPU0lUSU9OQUxfTU9WRTogJ01lbGhvcmlhIHBvc2ljaW9uYWwgc2lnbmlmaWNhdGl2YScsXG4gICAgICBUQUNUSUNBTF9NT1ZFOiAnQ29tYmluYcOnw6NvIHTDoXRpY2EgaWRlbnRpZmljYWRhJyxcbiAgICAgIFNUWUxFX0NIQU5HRUQ6IGBFc3RpbG8gYWx0ZXJhZG8gcGFyYSAke3RoaXMuY3VycmVudFN0eWxlfWAsXG4gICAgICBCUklMTElBTlRfTU9WRTogJ01vdmltZW50byBicmlsaGFudGUgZXhlY3V0YWRvJyxcbiAgICAgIENSSVRJQ0FMX1BPU0lUSU9OOiAnUG9zacOnw6NvIGNyw610aWNhIGFsY2Fuw6dhZGEnXG4gICAgfTtcblxuICAgIHJldHVybiBkZXNjcmlwdGlvbnNbdHlwZV0gfHwgJ0V2ZW50byBjdWx0dXJhbCBvY29ycmlkbyc7XG4gIH1cblxuICBwcml2YXRlIGdldEN1bHR1cmFsU3R5bGVOYXJyYXRpdmUoKTogc3RyaW5nIHtcbiAgICBjb25zdCBuYXJyYXRpdmVzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuICAgICAgbWVkaWV2YWw6ICdTZXUgam9nbyByZWZsZXRlIGEgc29saWRleiBlIHRyYWRpw6fDo28gZG8geGFkcmV6IG1lZGlldmFsLicsXG4gICAgICByZW5haXNzYW5jZTogJ1ZvY8OqIGRlbW9uc3RyYSBhIGNyaWF0aXZpZGFkZSBlIGlub3Zhw6fDo28gZG8gcGVyw61vZG8gcmVuYXNjZW50aXN0YS4nLFxuICAgICAgbW9kZXJuOiAnU2V1IGVzdGlsbyBpbmNvcnBvcmEgcHJpbmPDrXBpb3MgbW9kZXJub3MgZGUgZmxleGliaWxpZGFkZSBlIHByYWdtYXRpc21vLicsXG4gICAgICBhbmNpZW50OiAnU3VhIGFib3JkYWdlbSBldm9jYSBhIHNhYmVkb3JpYSBlIHByb2Z1bmRpZGFkZSBkbyB4YWRyZXogYW50aWdvLidcbiAgICB9O1xuXG4gICAgcmV0dXJuIG5hcnJhdGl2ZXNbdGhpcy5jdXJyZW50U3R5bGVdIHx8ICdTZXUgZXN0aWxvIMOpIMO6bmljbyBlIHBlc3NvYWwuJztcbiAgfVxuXG4gIHByaXZhdGUgZ2V0U3R5bGVSZWNvbW1lbmRhdGlvbihzdHlsZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBjb25zdCByZWNvbW1lbmRhdGlvbnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG4gICAgICBhZ2dyZXNzaXZlOiAnUHJvY3VyZSBvcG9ydHVuaWRhZGVzIGRlIGF0YXF1ZSBkaXJldG8gYW8gcmVpIGFkdmVyc8OhcmlvJyxcbiAgICAgIGRlZmVuc2l2ZTogJ0ZvcnRhbGXDp2Egc3VhIGVzdHJ1dHVyYSBkZSBwZcO1ZXMgZSBzZWd1cmFuw6dhIGRvIHJlaScsXG4gICAgICBwb3NpdGlvbmFsOiAnRm9xdWUgbm8gY29udHJvbGUgZG8gY2VudHJvIGUgcG9zaWNpb25hbWVudG8gZGUgcGXDp2FzJyxcbiAgICAgIHRhY3RpY2FsOiAnQnVzcXVlIGNvbWJpbmHDp8O1ZXMgZSB0cm9jYXMgZmF2b3LDoXZlaXMnXG4gICAgfTtcblxuICAgIHJldHVybiByZWNvbW1lbmRhdGlvbnNbc3R5bGVdIHx8ICdNYW50ZW5oYSB1bSBqb2dvIGVxdWlsaWJyYWRvJztcbiAgfVxuXG4gIC8vIE3DqXRvZG9zIGRlIGF2YWxpYcOnw6NvIGVzcGVjw61maWNvc1xuICBwcml2YXRlIGlzQXR0YWNraW5nQ2VudGVyUGllY2VzKG1vdmU6IENoZXNzTW92ZSk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGNlbnRlclNxdWFyZXMgPSBbXG4gICAgICB7IHJvdzogMywgY29sOiAzIH0sIHsgcm93OiAzLCBjb2w6IDQgfSxcbiAgICAgIHsgcm93OiA0LCBjb2w6IDMgfSwgeyByb3c6IDQsIGNvbDogNCB9XG4gICAgXTtcbiAgICByZXR1cm4gY2VudGVyU3F1YXJlcy5zb21lKHNxdWFyZSA9PlxuICAgICAgc3F1YXJlLnJvdyA9PT0gbW92ZS50by5yb3cgJiYgc3F1YXJlLmNvbCA9PT0gbW92ZS50by5jb2xcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBpbXByb3Zlc1Bvc2l0aW9uKG1vdmU6IENoZXNzTW92ZSk6IGJvb2xlYW4ge1xuICAgIC8vIFZlcmlmaWNhIHNlIG8gbW92aW1lbnRvIG1lbGhvcmEgYSBwb3Npw6fDo28gZGEgcGXDp2FcbiAgICBjb25zdCBmcm9tU2NvcmUgPSB0aGlzLmdldFNxdWFyZVZhbHVlKG1vdmUuZnJvbSk7XG4gICAgY29uc3QgdG9TY29yZSA9IHRoaXMuZ2V0U3F1YXJlVmFsdWUobW92ZS50byk7XG4gICAgcmV0dXJuIHRvU2NvcmUgPiBmcm9tU2NvcmU7XG4gIH1cblxuICBwcml2YXRlIGNvbnRyb2xzSW1wb3J0YW50U3F1YXJlcyhtb3ZlOiBDaGVzc01vdmUpOiBib29sZWFuIHtcbiAgICAvLyBWZXJpZmljYSBzZSBvIG1vdmltZW50byBjb250cm9sYSBjYXNhcyBpbXBvcnRhbnRlc1xuICAgIGNvbnN0IGF0dGFja3MgPSB0aGlzLmdldFBvc3NpYmxlTW92ZXMobW92ZS50byk7XG4gICAgcmV0dXJuIGF0dGFja3Muc29tZShhdHRhY2sgPT4gdGhpcy5pc0ltcG9ydGFudFNxdWFyZShhdHRhY2sudG8pKTtcbiAgfVxuXG4gIHByaXZhdGUgaW1wcm92ZXNQYXduU3RydWN0dXJlKG1vdmU6IENoZXNzTW92ZSk6IGJvb2xlYW4ge1xuICAgIC8vIFRPRE86IEltcGxlbWVudGFyIGFuw6FsaXNlIGRlIGVzdHJ1dHVyYSBkZSBwZcO1ZXNcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZXNUaHJlYXQobW92ZTogQ2hlc3NNb3ZlKTogYm9vbGVhbiB7XG4gICAgY29uc3QgY2xvbmUgPSB0aGlzLmNsb25lKCk7XG4gICAgY2xvbmUubWFrZU1vdmUobW92ZS5mcm9tLCBtb3ZlLnRvKTtcbiAgICByZXR1cm4gY2xvbmUuaXNDaGVjaygpO1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVzRm9yayhtb3ZlOiBDaGVzc01vdmUpOiBib29sZWFuIHtcbiAgICAvLyBUT0RPOiBJbXBsZW1lbnRhciBkZXRlY8Onw6NvIGRlIGdhcmZvXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVzUGluKG1vdmU6IENoZXNzTW92ZSk6IGJvb2xlYW4ge1xuICAgIC8vIFRPRE86IEltcGxlbWVudGFyIGRldGVjw6fDo28gZGUgY3JhdmFkYVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHByaXZhdGUgaXNEZWZlbnNpdmVNb3ZlKG1vdmU6IENoZXNzTW92ZSk6IGJvb2xlYW4ge1xuICAgIC8vIFRPRE86IEltcGxlbWVudGFyIGRldGVjw6fDo28gZGUgbW92aW1lbnRvIGRlZmVuc2l2b1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0U3F1YXJlVmFsdWUocG9zaXRpb246IENoZXNzUG9zaXRpb24pOiBudW1iZXIge1xuICAgIC8vIFZhbG9yZXMgZGFzIGNhc2FzIGRvIHRhYnVsZWlybyAoY2VudHJvIHZhbGUgbWFpcylcbiAgICBjb25zdCBzcXVhcmVWYWx1ZXMgPSBbXG4gICAgICBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sXG4gICAgICBbMCwgMSwgMSwgMSwgMSwgMSwgMSwgMF0sXG4gICAgICBbMCwgMSwgMiwgMiwgMiwgMiwgMSwgMF0sXG4gICAgICBbMCwgMSwgMiwgMywgMywgMiwgMSwgMF0sXG4gICAgICBbMCwgMSwgMiwgMywgMywgMiwgMSwgMF0sXG4gICAgICBbMCwgMSwgMiwgMiwgMiwgMiwgMSwgMF0sXG4gICAgICBbMCwgMSwgMSwgMSwgMSwgMSwgMSwgMF0sXG4gICAgICBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF1cbiAgICBdO1xuXG4gICAgcmV0dXJuIHNxdWFyZVZhbHVlc1twb3NpdGlvbi5yb3ddW3Bvc2l0aW9uLmNvbF07XG4gIH1cblxuICBwcml2YXRlIGlzSW1wb3J0YW50U3F1YXJlKHBvc2l0aW9uOiBDaGVzc1Bvc2l0aW9uKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0U3F1YXJlVmFsdWUocG9zaXRpb24pID49IDI7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJDaGVzc0VuZ2luZUJhc2UiLCJDVUxUVVJBTF9TVFlMRVMiLCJDVUxUVVJBTF9FVkVOVFMiLCJDdWx0dXJhbENoZXNzRW5naW5lIiwiY29uc3RydWN0b3IiLCJvcHRpb25zIiwiY3VycmVudFN0eWxlIiwiY3VsdHVyYWxFdmVudHMiLCJwbGF5U3R5bGVIaXN0b3J5Iiwib24iLCJldmVudCIsInR5cGUiLCJwdXNoIiwibW92ZSIsImFuYWx5emVNb3ZlU3R5bGUiLCJzZXRDdWx0dXJhbFN0eWxlIiwic3R5bGUiLCJFcnJvciIsInRyaWdnZXJDdWx0dXJhbEV2ZW50IiwiZ2V0Q3VsdHVyYWxOYXJyYXRpdmUiLCJuYXJyYXRpdmVzIiwicmVjZW50TW92ZXMiLCJzbGljZSIsInN0eWxlQW5hbHlzaXMiLCJhbmFseXplUGxheVN0eWxlIiwiZG9taW5hbnRTdHlsZSIsImdldFN0eWxlQ2hhcmFjdGVyaXN0aWNzIiwibGVuZ3RoIiwicmVjZW50U3R5bGUiLCJhbmFseXplTW92ZVNlcXVlbmNlIiwiZ2V0U3R5bGVUZW5kZW5jeSIsImdldEN1bHR1cmFsU3R5bGVOYXJyYXRpdmUiLCJnZXRTdHlsZUJhc2VkRXZhbHVhdGlvbiIsImJhc2VFdmFsdWF0aW9uIiwiZXZhbHVhdGVQb3NpdGlvbiIsInN0eWxlTW9kaWZpZXIiLCJnZXRTdHlsZU1vZGlmaWVyIiwibW9kaWZpZWRFdmFsdWF0aW9uIiwiZXZhbHVhdGlvbiIsImV4cGxhbmF0aW9uIiwiZ2V0U3R5bGVFdmFsdWF0aW9uIiwidGltZXN0YW1wIiwiRGF0ZSIsIm5vdyIsImRlc2NyaXB0aW9uIiwiZ2V0RXZlbnREZXNjcmlwdGlvbiIsImVtaXRFdmVudCIsImdldEN1bHR1cmFsRXZlbnRIaXN0b3J5IiwibWV0cmljcyIsImNhbGN1bGF0ZVN0eWxlTWV0cmljcyIsImZpbmREb21pbmFudFN0eWxlIiwicmVjb21tZW5kYXRpb25zIiwiZ2VuZXJhdGVSZWNvbW1lbmRhdGlvbnMiLCJzdHlsZU1ldHJpY3MiLCJpc0FnZ3Jlc3NpdmUiLCJpc0FnZ3Jlc3NpdmVNb3ZlIiwiaXNQb3NpdGlvbmFsIiwiaXNQb3NpdGlvbmFsTW92ZSIsImlzVGFjdGljYWwiLCJpc1RhY3RpY2FsTW92ZSIsIm1vdmVzIiwiYWdncmVzc2l2ZUNvdW50IiwicG9zaXRpb25hbENvdW50IiwidGFjdGljYWxDb3VudCIsImZvckVhY2giLCJ0b3RhbCIsInNjb3JlcyIsImFnZ3Jlc3NpdmUiLCJwb3NpdGlvbmFsIiwidGFjdGljYWwiLCJPYmplY3QiLCJlbnRyaWVzIiwicmVkdWNlIiwiYSIsImIiLCJCb29sZWFuIiwiY2FwdHVyZWQiLCJpc0NoZWNrIiwiaXNBdHRhY2tpbmdDZW50ZXJQaWVjZXMiLCJpbXByb3Zlc1Bvc2l0aW9uIiwiY29udHJvbHNJbXBvcnRhbnRTcXVhcmVzIiwiaW1wcm92ZXNQYXduU3RydWN0dXJlIiwiY3JlYXRlc1RocmVhdCIsImNyZWF0ZXNGb3JrIiwiY3JlYXRlc1BpbiIsImRlZmVuc2l2ZSIsImlzRGVmZW5zaXZlTW92ZSIsInZhbHVlcyIsImtleXMiLCJrZXkiLCJmaWx0ZXIiLCJzb3J0IiwidmFsdWUiLCJnZXRTdHlsZVJlY29tbWVuZGF0aW9uIiwibW9kaWZpZXJzIiwibWVkaWV2YWwiLCJyZW5haXNzYW5jZSIsIm1vZGVybiIsImFuY2llbnQiLCJjaGFyYWN0ZXJpc3RpY3MiLCJ0ZW5kZW5jaWVzIiwiZGVzY3JpcHRpb25zIiwiQUdHUkVTU0lWRV9NT1ZFIiwiUE9TSVRJT05BTF9NT1ZFIiwiVEFDVElDQUxfTU9WRSIsIlNUWUxFX0NIQU5HRUQiLCJCUklMTElBTlRfTU9WRSIsIkNSSVRJQ0FMX1BPU0lUSU9OIiwiY2VudGVyU3F1YXJlcyIsInJvdyIsImNvbCIsInNvbWUiLCJzcXVhcmUiLCJ0byIsImZyb21TY29yZSIsImdldFNxdWFyZVZhbHVlIiwiZnJvbSIsInRvU2NvcmUiLCJhdHRhY2tzIiwiZ2V0UG9zc2libGVNb3ZlcyIsImF0dGFjayIsImlzSW1wb3J0YW50U3F1YXJlIiwiY2xvbmUiLCJtYWtlTW92ZSIsInBvc2l0aW9uIiwic3F1YXJlVmFsdWVzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/shared/engine/CulturalChessEngine.ts\n");

/***/ }),

/***/ "./src/shared/engine/monitoring/ArquimaxMonitor.ts":
/*!*********************************************************!*\
  !*** ./src/shared/engine/monitoring/ArquimaxMonitor.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ArquimaxMonitor\": () => (/* binding */ ArquimaxMonitor)\n/* harmony export */ });\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! events */ \"events\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_0__);\n\n/**\n * Sistema de monitoramento ARQUIMAX para o motor de xadrez.\n * \n * Responsável por:\n * - Coleta de métricas em tempo real\n * - Verificações de saúde do sistema\n * - Monitoramento de performance\n * - Logs de eventos\n */ class ArquimaxMonitor {\n    constructor(){\n        /**\n   * Registra uso de cache.\n   * \n   * @param hit - true se houve hit no cache, false se houve miss\n   */ this.cacheHits = 0;\n        this.cacheAccesses = 0;\n        this.metrics = {\n            movesPerSecond: 0,\n            averageThinkingTime: 0,\n            cacheHitRate: 0,\n            memoryUsage: 0,\n            cpuUsage: 0\n        };\n        this.eventEmitter = new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter();\n        this.startTime = Date.now();\n        this.moveCount = 0;\n        this.lastHealthCheck = Date.now();\n        this.healthCheckInterval = 5000; // 5 segundos\n    }\n    /**\n   * Registra um evento do motor de xadrez.\n   * \n   * @param event - Evento a ser registrado\n   */ recordEvent(event) {\n        this.eventEmitter.emit(\"engine-event\", event);\n        if (event.type === \"MOVE_MADE\") {\n            this.moveCount++;\n            this.updateMovesPerSecond();\n        }\n    }\n    /**\n   * Realiza verificação de saúde do sistema.\n   * \n   * @returns Status atual de saúde do sistema\n   */ checkHealth() {\n        const now = Date.now();\n        // Atualiza métricas apenas se passou o intervalo definido\n        if (now - this.lastHealthCheck >= this.healthCheckInterval) {\n            this.updateMetrics();\n            this.lastHealthCheck = now;\n        }\n        return {\n            status: this.evaluateHealth(),\n            metrics: this.metrics,\n            timestamp: now\n        };\n    }\n    /**\n   * Obtém métricas atuais do sistema.\n   * \n   * @returns Métricas coletadas\n   */ getMetrics() {\n        return {\n            ...this.metrics\n        };\n    }\n    recordCacheAccess(hit) {\n        this.cacheAccesses++;\n        if (hit) this.cacheHits++;\n        this.metrics.cacheHitRate = this.cacheHits / this.cacheAccesses;\n    }\n    /**\n   * Registra tempo de pensamento para um movimento.\n   * \n   * @param thinkingTime - Tempo em millisegundos\n   */ recordThinkingTime(thinkingTime) {\n        const current = this.metrics.averageThinkingTime;\n        this.metrics.averageThinkingTime = (current * this.moveCount + thinkingTime) / (this.moveCount + 1);\n    }\n    updateMovesPerSecond() {\n        const elapsedSeconds = (Date.now() - this.startTime) / 1000;\n        this.metrics.movesPerSecond = this.moveCount / elapsedSeconds;\n    }\n    async updateMetrics() {\n        // Atualiza uso de memória\n        if (process.memoryUsage) {\n            const { heapUsed  } = process.memoryUsage();\n            this.metrics.memoryUsage = heapUsed / 1024 / 1024; // Em MB\n        }\n        // Atualiza uso de CPU (implementação simplificada)\n        this.metrics.cpuUsage = await this.measureCPUUsage();\n    }\n    evaluateHealth() {\n        // Critérios de saúde\n        const memoryThreshold = 512; // MB\n        const cpuThreshold = 80; // %\n        const moveRateThreshold = 0.5; // moves/sec\n        if (this.metrics.memoryUsage > memoryThreshold || this.metrics.cpuUsage > cpuThreshold) {\n            return \"unhealthy\";\n        }\n        // Sistema recém iniciado está saudável por padrão\n        if (this.moveCount === 0) {\n            return \"healthy\";\n        }\n        if (this.metrics.movesPerSecond < moveRateThreshold || this.metrics.cacheHitRate < 0.3 && this.moveCount > 10) {\n            return \"degraded\";\n        }\n        return \"healthy\";\n    }\n    async measureCPUUsage() {\n        // Implementação simplificada de medição de CPU\n        // Em uma implementação real, usaríamos métricas do sistema operacional\n        return new Promise((resolve)=>{\n            setTimeout(()=>{\n                // Simula medição de CPU entre 0-100%\n                resolve(Math.random() * 100);\n            }, 100);\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2hhcmVkL2VuZ2luZS9tb25pdG9yaW5nL0FycXVpbWF4TW9uaXRvci50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBc0M7QUFHdEM7Ozs7Ozs7O0NBUUMsR0FDTSxNQUFNQztJQVFYQyxhQUFjO1FBMkRkOzs7O0dBSUMsUUFDT0MsWUFBb0I7YUFDcEJDLGdCQUF3QjtRQWhFOUIsSUFBSSxDQUFDQyxPQUFPLEdBQUc7WUFDYkMsZ0JBQWdCO1lBQ2hCQyxxQkFBcUI7WUFDckJDLGNBQWM7WUFDZEMsYUFBYTtZQUNiQyxVQUFVO1FBQ1o7UUFDQSxJQUFJLENBQUNDLFlBQVksR0FBRyxJQUFJWCxnREFBWUE7UUFDcEMsSUFBSSxDQUFDWSxTQUFTLEdBQUdDLEtBQUtDLEdBQUc7UUFDekIsSUFBSSxDQUFDQyxTQUFTLEdBQUc7UUFDakIsSUFBSSxDQUFDQyxlQUFlLEdBQUdILEtBQUtDLEdBQUc7UUFDL0IsSUFBSSxDQUFDRyxtQkFBbUIsR0FBRyxNQUFNLGFBQWE7SUFDaEQ7SUFFQTs7OztHQUlDLEdBQ0QsWUFBbUJFLEtBQWtCLEVBQVE7UUFDM0MsSUFBSSxDQUFDUixZQUFZLENBQUNTLElBQUksQ0FBQyxnQkFBZ0JEO1FBRXZDLElBQUlBLE1BQU1FLElBQUksS0FBSyxhQUFhO1lBQzlCLElBQUksQ0FBQ04sU0FBUztZQUNkLElBQUksQ0FBQ08sb0JBQW9CO1FBQzNCLENBQUM7SUFDSDtJQUVBOzs7O0dBSUMsR0FDRCxjQUFtQztRQUNqQyxNQUFNUixNQUFNRCxLQUFLQyxHQUFHO1FBRXBCLDBEQUEwRDtRQUMxRCxJQUFJQSxNQUFNLElBQUksQ0FBQ0UsZUFBZSxJQUFJLElBQUksQ0FBQ0MsbUJBQW1CLEVBQUU7WUFDMUQsSUFBSSxDQUFDTyxhQUFhO1lBQ2xCLElBQUksQ0FBQ1IsZUFBZSxHQUFHRjtRQUN6QixDQUFDO1FBRUQsT0FBTztZQUNMVyxRQUFRLElBQUksQ0FBQ0MsY0FBYztZQUMzQnJCLFNBQVMsSUFBSSxDQUFDQSxPQUFPO1lBQ3JCc0IsV0FBV2I7UUFDYjtJQUNGO0lBRUE7Ozs7R0FJQyxHQUNELGFBQW1DO1FBQ2pDLE9BQU87WUFBRSxHQUFHLElBQUksQ0FBQ1QsT0FBTztRQUFDO0lBQzNCO0lBVU93QixrQkFBa0JDLEdBQVksRUFBUTtRQUMzQyxJQUFJLENBQUMxQixhQUFhO1FBQ2xCLElBQUkwQixLQUFLLElBQUksQ0FBQzNCLFNBQVM7UUFDdkIsSUFBSSxDQUFDRSxPQUFPLENBQUNHLFlBQVksR0FBRyxJQUFJLENBQUNMLFNBQVMsR0FBRyxJQUFJLENBQUNDLGFBQWE7SUFDakU7SUFFQTs7OztHQUlDLEdBQ0QsbUJBQTBCNEIsWUFBb0IsRUFBUTtRQUNwRCxNQUFNQyxVQUFVLElBQUksQ0FBQzVCLE9BQU8sQ0FBQ0UsbUJBQW1CO1FBQ2hELElBQUksQ0FBQ0YsT0FBTyxDQUFDRSxtQkFBbUIsR0FDOUIsQ0FBQzBCLFVBQVUsSUFBSSxDQUFDbEIsU0FBUyxHQUFHaUIsWUFBVyxJQUFNLEtBQUksQ0FBQ2pCLFNBQVMsR0FBRztJQUNsRTtJQUVRTyx1QkFBNkI7UUFDbkMsTUFBTVksaUJBQWlCLENBQUNyQixLQUFLQyxHQUFHLEtBQUssSUFBSSxDQUFDRixTQUFTLElBQUk7UUFDdkQsSUFBSSxDQUFDUCxPQUFPLENBQUNDLGNBQWMsR0FBRyxJQUFJLENBQUNTLFNBQVMsR0FBR21CO0lBQ2pEO0lBRUEsTUFBY1YsZ0JBQStCO1FBQzNDLDBCQUEwQjtRQUMxQixJQUFJVyxRQUFRMUIsV0FBVyxFQUFFO1lBQ3ZCLE1BQU0sRUFBRTJCLFNBQVEsRUFBRSxHQUFHRCxRQUFRMUIsV0FBVztZQUN4QyxJQUFJLENBQUNKLE9BQU8sQ0FBQ0ksV0FBVyxHQUFHMkIsV0FBVyxPQUFPLE1BQU0sUUFBUTtRQUM3RCxDQUFDO1FBRUQsbURBQW1EO1FBQ25ELElBQUksQ0FBQy9CLE9BQU8sQ0FBQ0ssUUFBUSxHQUFHLE1BQU0sSUFBSSxDQUFDMkIsZUFBZTtJQUNwRDtJQUVRWCxpQkFBdUQ7UUFDN0QscUJBQXFCO1FBQ3JCLE1BQU1ZLGtCQUFrQixLQUFLLEtBQUs7UUFDbEMsTUFBTUMsZUFBZSxJQUFJLElBQUk7UUFDN0IsTUFBTUMsb0JBQW9CLEtBQUssWUFBWTtRQUUzQyxJQUNFLElBQUksQ0FBQ25DLE9BQU8sQ0FBQ0ksV0FBVyxHQUFHNkIsbUJBQzNCLElBQUksQ0FBQ2pDLE9BQU8sQ0FBQ0ssUUFBUSxHQUFHNkIsY0FDeEI7WUFDQSxPQUFPO1FBQ1QsQ0FBQztRQUVELGtEQUFrRDtRQUNsRCxJQUFJLElBQUksQ0FBQ3hCLFNBQVMsS0FBSyxHQUFHO1lBQ3hCLE9BQU87UUFDVCxDQUFDO1FBRUQsSUFDRSxJQUFJLENBQUNWLE9BQU8sQ0FBQ0MsY0FBYyxHQUFHa0MscUJBQzdCLElBQUksQ0FBQ25DLE9BQU8sQ0FBQ0csWUFBWSxHQUFHLE9BQU8sSUFBSSxDQUFDTyxTQUFTLEdBQUcsSUFDckQ7WUFDQSxPQUFPO1FBQ1QsQ0FBQztRQUVELE9BQU87SUFDVDtJQUVBLE1BQWNzQixrQkFBbUM7UUFDL0MsK0NBQStDO1FBQy9DLHVFQUF1RTtRQUN2RSxPQUFPLElBQUlJLFFBQVEsQ0FBQ0MsVUFBWTtZQUM5QkMsV0FBVyxJQUFNO2dCQUNmLHFDQUFxQztnQkFDckNELFFBQVFFLEtBQUtDLE1BQU0sS0FBSztZQUMxQixHQUFHO1FBQ0w7SUFDRjtBQUNGLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaGVzcy8uL3NyYy9zaGFyZWQvZW5naW5lL21vbml0b3JpbmcvQXJxdWltYXhNb25pdG9yLnRzP2Q4MTQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRXZlbnRFbWl0dGVyIH0gZnJvbSAnZXZlbnRzJztcbmltcG9ydCB7IEVuZ2luZUV2ZW50LCBFbmdpbmVNZXRyaWNzLCBIZWFsdGhTdGF0dXMgfSBmcm9tICcuLi8uLi90eXBlcy9lbmdpbmUnO1xuXG4vKipcbiAqIFNpc3RlbWEgZGUgbW9uaXRvcmFtZW50byBBUlFVSU1BWCBwYXJhIG8gbW90b3IgZGUgeGFkcmV6LlxuICogXG4gKiBSZXNwb25zw6F2ZWwgcG9yOlxuICogLSBDb2xldGEgZGUgbcOpdHJpY2FzIGVtIHRlbXBvIHJlYWxcbiAqIC0gVmVyaWZpY2HDp8O1ZXMgZGUgc2HDumRlIGRvIHNpc3RlbWFcbiAqIC0gTW9uaXRvcmFtZW50byBkZSBwZXJmb3JtYW5jZVxuICogLSBMb2dzIGRlIGV2ZW50b3NcbiAqL1xuZXhwb3J0IGNsYXNzIEFycXVpbWF4TW9uaXRvciB7XG4gIHByaXZhdGUgbWV0cmljczogRW5naW5lTWV0cmljcztcbiAgcHJpdmF0ZSBldmVudEVtaXR0ZXI6IEV2ZW50RW1pdHRlcjtcbiAgcHJpdmF0ZSBzdGFydFRpbWU6IG51bWJlcjtcbiAgcHJpdmF0ZSBtb3ZlQ291bnQ6IG51bWJlcjtcbiAgcHJpdmF0ZSBsYXN0SGVhbHRoQ2hlY2s6IG51bWJlcjtcbiAgcHJpdmF0ZSBoZWFsdGhDaGVja0ludGVydmFsOiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5tZXRyaWNzID0ge1xuICAgICAgbW92ZXNQZXJTZWNvbmQ6IDAsXG4gICAgICBhdmVyYWdlVGhpbmtpbmdUaW1lOiAwLFxuICAgICAgY2FjaGVIaXRSYXRlOiAwLFxuICAgICAgbWVtb3J5VXNhZ2U6IDAsXG4gICAgICBjcHVVc2FnZTogMFxuICAgIH07XG4gICAgdGhpcy5ldmVudEVtaXR0ZXIgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgdGhpcy5zdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICAgIHRoaXMubW92ZUNvdW50ID0gMDtcbiAgICB0aGlzLmxhc3RIZWFsdGhDaGVjayA9IERhdGUubm93KCk7XG4gICAgdGhpcy5oZWFsdGhDaGVja0ludGVydmFsID0gNTAwMDsgLy8gNSBzZWd1bmRvc1xuICB9XG5cbiAgLyoqXG4gICAqIFJlZ2lzdHJhIHVtIGV2ZW50byBkbyBtb3RvciBkZSB4YWRyZXouXG4gICAqIFxuICAgKiBAcGFyYW0gZXZlbnQgLSBFdmVudG8gYSBzZXIgcmVnaXN0cmFkb1xuICAgKi9cbiAgcHVibGljIHJlY29yZEV2ZW50KGV2ZW50OiBFbmdpbmVFdmVudCk6IHZvaWQge1xuICAgIHRoaXMuZXZlbnRFbWl0dGVyLmVtaXQoJ2VuZ2luZS1ldmVudCcsIGV2ZW50KTtcbiAgICBcbiAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ01PVkVfTUFERScpIHtcbiAgICAgIHRoaXMubW92ZUNvdW50Kys7XG4gICAgICB0aGlzLnVwZGF0ZU1vdmVzUGVyU2Vjb25kKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlYWxpemEgdmVyaWZpY2HDp8OjbyBkZSBzYcO6ZGUgZG8gc2lzdGVtYS5cbiAgICogXG4gICAqIEByZXR1cm5zIFN0YXR1cyBhdHVhbCBkZSBzYcO6ZGUgZG8gc2lzdGVtYVxuICAgKi9cbiAgcHVibGljIGNoZWNrSGVhbHRoKCk6IEhlYWx0aFN0YXR1cyB7XG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICBcbiAgICAvLyBBdHVhbGl6YSBtw6l0cmljYXMgYXBlbmFzIHNlIHBhc3NvdSBvIGludGVydmFsbyBkZWZpbmlkb1xuICAgIGlmIChub3cgLSB0aGlzLmxhc3RIZWFsdGhDaGVjayA+PSB0aGlzLmhlYWx0aENoZWNrSW50ZXJ2YWwpIHtcbiAgICAgIHRoaXMudXBkYXRlTWV0cmljcygpO1xuICAgICAgdGhpcy5sYXN0SGVhbHRoQ2hlY2sgPSBub3c7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHN0YXR1czogdGhpcy5ldmFsdWF0ZUhlYWx0aCgpLFxuICAgICAgbWV0cmljczogdGhpcy5tZXRyaWNzLFxuICAgICAgdGltZXN0YW1wOiBub3dcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIE9idMOpbSBtw6l0cmljYXMgYXR1YWlzIGRvIHNpc3RlbWEuXG4gICAqIFxuICAgKiBAcmV0dXJucyBNw6l0cmljYXMgY29sZXRhZGFzXG4gICAqL1xuICBwdWJsaWMgZ2V0TWV0cmljcygpOiBFbmdpbmVNZXRyaWNzIHtcbiAgICByZXR1cm4geyAuLi50aGlzLm1ldHJpY3MgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RyYSB1c28gZGUgY2FjaGUuXG4gICAqIFxuICAgKiBAcGFyYW0gaGl0IC0gdHJ1ZSBzZSBob3V2ZSBoaXQgbm8gY2FjaGUsIGZhbHNlIHNlIGhvdXZlIG1pc3NcbiAgICovXG4gIHByaXZhdGUgY2FjaGVIaXRzOiBudW1iZXIgPSAwO1xuICBwcml2YXRlIGNhY2hlQWNjZXNzZXM6IG51bWJlciA9IDA7XG5cbiAgcHVibGljIHJlY29yZENhY2hlQWNjZXNzKGhpdDogYm9vbGVhbik6IHZvaWQge1xuICAgIHRoaXMuY2FjaGVBY2Nlc3NlcysrO1xuICAgIGlmIChoaXQpIHRoaXMuY2FjaGVIaXRzKys7XG4gICAgdGhpcy5tZXRyaWNzLmNhY2hlSGl0UmF0ZSA9IHRoaXMuY2FjaGVIaXRzIC8gdGhpcy5jYWNoZUFjY2Vzc2VzO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlZ2lzdHJhIHRlbXBvIGRlIHBlbnNhbWVudG8gcGFyYSB1bSBtb3ZpbWVudG8uXG4gICAqIFxuICAgKiBAcGFyYW0gdGhpbmtpbmdUaW1lIC0gVGVtcG8gZW0gbWlsbGlzZWd1bmRvc1xuICAgKi9cbiAgcHVibGljIHJlY29yZFRoaW5raW5nVGltZSh0aGlua2luZ1RpbWU6IG51bWJlcik6IHZvaWQge1xuICAgIGNvbnN0IGN1cnJlbnQgPSB0aGlzLm1ldHJpY3MuYXZlcmFnZVRoaW5raW5nVGltZTtcbiAgICB0aGlzLm1ldHJpY3MuYXZlcmFnZVRoaW5raW5nVGltZSA9IFxuICAgICAgKGN1cnJlbnQgKiB0aGlzLm1vdmVDb3VudCArIHRoaW5raW5nVGltZSkgLyAodGhpcy5tb3ZlQ291bnQgKyAxKTtcbiAgfVxuXG4gIHByaXZhdGUgdXBkYXRlTW92ZXNQZXJTZWNvbmQoKTogdm9pZCB7XG4gICAgY29uc3QgZWxhcHNlZFNlY29uZHMgPSAoRGF0ZS5ub3coKSAtIHRoaXMuc3RhcnRUaW1lKSAvIDEwMDA7XG4gICAgdGhpcy5tZXRyaWNzLm1vdmVzUGVyU2Vjb25kID0gdGhpcy5tb3ZlQ291bnQgLyBlbGFwc2VkU2Vjb25kcztcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgdXBkYXRlTWV0cmljcygpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAvLyBBdHVhbGl6YSB1c28gZGUgbWVtw7NyaWFcbiAgICBpZiAocHJvY2Vzcy5tZW1vcnlVc2FnZSkge1xuICAgICAgY29uc3QgeyBoZWFwVXNlZCB9ID0gcHJvY2Vzcy5tZW1vcnlVc2FnZSgpO1xuICAgICAgdGhpcy5tZXRyaWNzLm1lbW9yeVVzYWdlID0gaGVhcFVzZWQgLyAxMDI0IC8gMTAyNDsgLy8gRW0gTUJcbiAgICB9XG5cbiAgICAvLyBBdHVhbGl6YSB1c28gZGUgQ1BVIChpbXBsZW1lbnRhw6fDo28gc2ltcGxpZmljYWRhKVxuICAgIHRoaXMubWV0cmljcy5jcHVVc2FnZSA9IGF3YWl0IHRoaXMubWVhc3VyZUNQVVVzYWdlKCk7XG4gIH1cblxuICBwcml2YXRlIGV2YWx1YXRlSGVhbHRoKCk6ICdoZWFsdGh5JyB8ICdkZWdyYWRlZCcgfCAndW5oZWFsdGh5JyB7XG4gICAgLy8gQ3JpdMOpcmlvcyBkZSBzYcO6ZGVcbiAgICBjb25zdCBtZW1vcnlUaHJlc2hvbGQgPSA1MTI7IC8vIE1CXG4gICAgY29uc3QgY3B1VGhyZXNob2xkID0gODA7IC8vICVcbiAgICBjb25zdCBtb3ZlUmF0ZVRocmVzaG9sZCA9IDAuNTsgLy8gbW92ZXMvc2VjXG5cbiAgICBpZiAoXG4gICAgICB0aGlzLm1ldHJpY3MubWVtb3J5VXNhZ2UgPiBtZW1vcnlUaHJlc2hvbGQgfHxcbiAgICAgIHRoaXMubWV0cmljcy5jcHVVc2FnZSA+IGNwdVRocmVzaG9sZFxuICAgICkge1xuICAgICAgcmV0dXJuICd1bmhlYWx0aHknO1xuICAgIH1cblxuICAgIC8vIFNpc3RlbWEgcmVjw6ltIGluaWNpYWRvIGVzdMOhIHNhdWTDoXZlbCBwb3IgcGFkcsOjb1xuICAgIGlmICh0aGlzLm1vdmVDb3VudCA9PT0gMCkge1xuICAgICAgcmV0dXJuICdoZWFsdGh5JztcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICB0aGlzLm1ldHJpY3MubW92ZXNQZXJTZWNvbmQgPCBtb3ZlUmF0ZVRocmVzaG9sZCB8fFxuICAgICAgKHRoaXMubWV0cmljcy5jYWNoZUhpdFJhdGUgPCAwLjMgJiYgdGhpcy5tb3ZlQ291bnQgPiAxMClcbiAgICApIHtcbiAgICAgIHJldHVybiAnZGVncmFkZWQnO1xuICAgIH1cblxuICAgIHJldHVybiAnaGVhbHRoeSc7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIG1lYXN1cmVDUFVVc2FnZSgpOiBQcm9taXNlPG51bWJlcj4ge1xuICAgIC8vIEltcGxlbWVudGHDp8OjbyBzaW1wbGlmaWNhZGEgZGUgbWVkacOnw6NvIGRlIENQVVxuICAgIC8vIEVtIHVtYSBpbXBsZW1lbnRhw6fDo28gcmVhbCwgdXNhcsOtYW1vcyBtw6l0cmljYXMgZG8gc2lzdGVtYSBvcGVyYWNpb25hbFxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIC8vIFNpbXVsYSBtZWRpw6fDo28gZGUgQ1BVIGVudHJlIDAtMTAwJVxuICAgICAgICByZXNvbHZlKE1hdGgucmFuZG9tKCkgKiAxMDApO1xuICAgICAgfSwgMTAwKTtcbiAgICB9KTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIkV2ZW50RW1pdHRlciIsIkFycXVpbWF4TW9uaXRvciIsImNvbnN0cnVjdG9yIiwiY2FjaGVIaXRzIiwiY2FjaGVBY2Nlc3NlcyIsIm1ldHJpY3MiLCJtb3Zlc1BlclNlY29uZCIsImF2ZXJhZ2VUaGlua2luZ1RpbWUiLCJjYWNoZUhpdFJhdGUiLCJtZW1vcnlVc2FnZSIsImNwdVVzYWdlIiwiZXZlbnRFbWl0dGVyIiwic3RhcnRUaW1lIiwiRGF0ZSIsIm5vdyIsIm1vdmVDb3VudCIsImxhc3RIZWFsdGhDaGVjayIsImhlYWx0aENoZWNrSW50ZXJ2YWwiLCJyZWNvcmRFdmVudCIsImV2ZW50IiwiZW1pdCIsInR5cGUiLCJ1cGRhdGVNb3Zlc1BlclNlY29uZCIsImNoZWNrSGVhbHRoIiwidXBkYXRlTWV0cmljcyIsInN0YXR1cyIsImV2YWx1YXRlSGVhbHRoIiwidGltZXN0YW1wIiwiZ2V0TWV0cmljcyIsInJlY29yZENhY2hlQWNjZXNzIiwiaGl0IiwicmVjb3JkVGhpbmtpbmdUaW1lIiwidGhpbmtpbmdUaW1lIiwiY3VycmVudCIsImVsYXBzZWRTZWNvbmRzIiwicHJvY2VzcyIsImhlYXBVc2VkIiwibWVhc3VyZUNQVVVzYWdlIiwibWVtb3J5VGhyZXNob2xkIiwiY3B1VGhyZXNob2xkIiwibW92ZVJhdGVUaHJlc2hvbGQiLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJNYXRoIiwicmFuZG9tIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/shared/engine/monitoring/ArquimaxMonitor.ts\n");

/***/ }),

/***/ "./src/shared/utils/chess.ts":
/*!***********************************!*\
  !*** ./src/shared/utils/chess.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"algebraicToCoords\": () => (/* binding */ algebraicToCoords),\n/* harmony export */   \"coordsToAlgebraic\": () => (/* binding */ coordsToAlgebraic),\n/* harmony export */   \"formatMove\": () => (/* binding */ formatMove),\n/* harmony export */   \"getAllSquares\": () => (/* binding */ getAllSquares),\n/* harmony export */   \"getHighlightedSquares\": () => (/* binding */ getHighlightedSquares),\n/* harmony export */   \"getMoveDirection\": () => (/* binding */ getMoveDirection),\n/* harmony export */   \"getPathBetween\": () => (/* binding */ getPathBetween),\n/* harmony export */   \"getPieceSymbol\": () => (/* binding */ getPieceSymbol),\n/* harmony export */   \"getSquareColor\": () => (/* binding */ getSquareColor),\n/* harmony export */   \"getSquareDistance\": () => (/* binding */ getSquareDistance),\n/* harmony export */   \"isDiagonalMove\": () => (/* binding */ isDiagonalMove),\n/* harmony export */   \"isOrthogonalMove\": () => (/* binding */ isOrthogonalMove),\n/* harmony export */   \"isSamePosition\": () => (/* binding */ isSamePosition),\n/* harmony export */   \"isValidPosition\": () => (/* binding */ isValidPosition)\n/* harmony export */ });\n/* harmony import */ var _constants_game__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../constants/game */ \"./src/shared/constants/game.ts\");\n\n/**\n * Converte coordenadas algébricas (ex: \"e4\") para coordenadas internas (row, col)\n */ function algebraicToCoords(square) {\n    const col = square.charCodeAt(0) - \"a\".charCodeAt(0);\n    const row = _constants_game__WEBPACK_IMPORTED_MODULE_0__.BOARD_SIZE - parseInt(square[1]);\n    return {\n        row,\n        col\n    };\n}\n/**\n * Converte coordenadas internas (row, col) para notação algébrica (ex: \"e4\")\n */ function coordsToAlgebraic(position) {\n    const { row , col  } = position;\n    const file = String.fromCharCode(\"a\".charCodeAt(0) + col);\n    const rank = _constants_game__WEBPACK_IMPORTED_MODULE_0__.BOARD_SIZE - row;\n    return `${file}${rank}`;\n}\n/**\n * Verifica se uma posição está dentro do tabuleiro\n */ function isValidPosition(position) {\n    const { row , col  } = position;\n    return row >= 0 && row < _constants_game__WEBPACK_IMPORTED_MODULE_0__.BOARD_SIZE && col >= 0 && col < _constants_game__WEBPACK_IMPORTED_MODULE_0__.BOARD_SIZE;\n}\n/**\n * Compara duas posições\n */ function isSamePosition(a, b) {\n    return a.row === b.row && a.col === b.col;\n}\n/**\n * Retorna a cor de uma casa do tabuleiro\n */ function getSquareColor(row, col) {\n    return (row + col) % 2 === 0 ? \"light\" : \"dark\";\n}\n/**\n * Retorna o símbolo Unicode para uma peça\n */ function getPieceSymbol(piece) {\n    const symbol = piece.color === \"white\" ? piece.type.toUpperCase() : piece.type.toLowerCase();\n    return _constants_game__WEBPACK_IMPORTED_MODULE_0__.PIECE_SYMBOLS[symbol] || \"\";\n}\n/**\n * Gera array com todas as posições do tabuleiro\n */ function getAllSquares() {\n    const squares = [];\n    for(let row = 0; row < _constants_game__WEBPACK_IMPORTED_MODULE_0__.BOARD_SIZE; row++){\n        for(let col = 0; col < _constants_game__WEBPACK_IMPORTED_MODULE_0__.BOARD_SIZE; col++){\n            squares.push({\n                row,\n                col\n            });\n        }\n    }\n    return squares;\n}\n/**\n * Retorna as coordenadas das casas destacadas para um movimento\n */ function getHighlightedSquares(selectedSquare, lastMove, possibleMoves) {\n    return {\n        selected: selectedSquare,\n        lastMove,\n        possible: possibleMoves\n    };\n}\n/**\n * Retorna a distância entre duas casas\n */ function getSquareDistance(a, b) {\n    const rowDiff = Math.abs(a.row - b.row);\n    const colDiff = Math.abs(a.col - b.col);\n    return Math.max(rowDiff, colDiff);\n}\n/**\n * Retorna a direção do movimento entre duas casas\n */ function getMoveDirection(from, to) {\n    const rowDir = Math.sign(to.row - from.row);\n    const colDir = Math.sign(to.col - from.col);\n    return {\n        rowDir,\n        colDir\n    };\n}\n/**\n * Verifica se um movimento é diagonal\n */ function isDiagonalMove(from, to) {\n    const rowDiff = Math.abs(to.row - from.row);\n    const colDiff = Math.abs(to.col - from.col);\n    return rowDiff === colDiff && rowDiff > 0;\n}\n/**\n * Verifica se um movimento é ortogonal (horizontal ou vertical)\n */ function isOrthogonalMove(from, to) {\n    return from.row === to.row && from.col !== to.col || from.col === to.col && from.row !== to.row;\n}\n/**\n * Calcula o caminho entre duas casas (para verificar obstruções)\n */ function getPathBetween(from, to) {\n    const path = [];\n    const { rowDir , colDir  } = getMoveDirection(from, to);\n    let { row , col  } = from;\n    while(row !== to.row || col !== to.col){\n        row += rowDir;\n        col += colDir;\n        if (row === to.row && col === to.col) break;\n        path.push({\n            row,\n            col\n        });\n    }\n    return path;\n}\n/**\n * Formata um movimento para notação algébrica\n */ function formatMove(from, to, piece, capture, promotion) {\n    const fromSquare = coordsToAlgebraic(from);\n    const toSquare = coordsToAlgebraic(to);\n    const pieceSymbol = piece.type.toUpperCase();\n    const captureSymbol = capture ? \"x\" : \"\";\n    const promotionSymbol = promotion ? `=${promotion.toUpperCase()}` : \"\";\n    return `${pieceSymbol}${fromSquare}${captureSymbol}${toSquare}${promotionSymbol}`;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxLQUFLdEIsSUFBSSxDQUFDO1lBQUV0QjtZQUFLRjtRQUFJO0lBQ3ZCO0lBRUEsT0FBTzhDO0FBQ1QsQ0FBQztBQUVEOztDQUVDLEdBQ00sU0FBU0MsV0FDZFQsSUFBbUIsRUFDbkJDLEVBQWlCLEVBQ2pCdkIsS0FBaUIsRUFDakJnQyxPQUFpQixFQUNqQkMsU0FBa0IsRUFDVjtJQUNSLE1BQU1DLGFBQWE5QyxrQkFBa0JrQztJQUNyQyxNQUFNYSxXQUFXL0Msa0JBQWtCbUM7SUFDbkMsTUFBTWEsY0FBY3BDLE1BQU1HLElBQUksQ0FBQ0MsV0FBVztJQUMxQyxNQUFNaUMsZ0JBQWdCTCxVQUFVLE1BQU0sRUFBRTtJQUN4QyxNQUFNTSxrQkFBa0JMLFlBQVksQ0FBQyxDQUFDLEVBQUVBLFVBQVU3QixXQUFXLEdBQUcsQ0FBQyxHQUFHLEVBQUU7SUFFdEUsT0FBTyxDQUFDLEVBQUVnQyxZQUFZLEVBQUVGLFdBQVcsRUFBRUcsY0FBYyxFQUFFRixTQUFTLEVBQUVHLGdCQUFnQixDQUFDO0FBQ25GLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaGVzcy8uL3NyYy9zaGFyZWQvdXRpbHMvY2hlc3MudHM/N2NmOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDaGVzc1Bvc2l0aW9uLCBDaGVzc1BpZWNlIH0gZnJvbSAnLi4vdHlwZXMvY2hlc3MnO1xuaW1wb3J0IHsgQk9BUkRfU0laRSwgUElFQ0VfU1lNQk9MUyB9IGZyb20gJy4uL2NvbnN0YW50cy9nYW1lJztcblxuLyoqXG4gKiBDb252ZXJ0ZSBjb29yZGVuYWRhcyBhbGfDqWJyaWNhcyAoZXg6IFwiZTRcIikgcGFyYSBjb29yZGVuYWRhcyBpbnRlcm5hcyAocm93LCBjb2wpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhbGdlYnJhaWNUb0Nvb3JkcyhzcXVhcmU6IHN0cmluZyk6IENoZXNzUG9zaXRpb24ge1xuICBjb25zdCBjb2wgPSBzcXVhcmUuY2hhckNvZGVBdCgwKSAtICdhJy5jaGFyQ29kZUF0KDApO1xuICBjb25zdCByb3cgPSBCT0FSRF9TSVpFIC0gcGFyc2VJbnQoc3F1YXJlWzFdKTtcbiAgcmV0dXJuIHsgcm93LCBjb2wgfTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0ZSBjb29yZGVuYWRhcyBpbnRlcm5hcyAocm93LCBjb2wpIHBhcmEgbm90YcOnw6NvIGFsZ8OpYnJpY2EgKGV4OiBcImU0XCIpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb29yZHNUb0FsZ2VicmFpYyhwb3NpdGlvbjogQ2hlc3NQb3NpdGlvbik6IHN0cmluZyB7XG4gIGNvbnN0IHsgcm93LCBjb2wgfSA9IHBvc2l0aW9uO1xuICBjb25zdCBmaWxlID0gU3RyaW5nLmZyb21DaGFyQ29kZSgnYScuY2hhckNvZGVBdCgwKSArIGNvbCk7XG4gIGNvbnN0IHJhbmsgPSBCT0FSRF9TSVpFIC0gcm93O1xuICByZXR1cm4gYCR7ZmlsZX0ke3Jhbmt9YDtcbn1cblxuLyoqXG4gKiBWZXJpZmljYSBzZSB1bWEgcG9zacOnw6NvIGVzdMOhIGRlbnRybyBkbyB0YWJ1bGVpcm9cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzVmFsaWRQb3NpdGlvbihwb3NpdGlvbjogQ2hlc3NQb3NpdGlvbik6IGJvb2xlYW4ge1xuICBjb25zdCB7IHJvdywgY29sIH0gPSBwb3NpdGlvbjtcbiAgcmV0dXJuIHJvdyA+PSAwICYmIHJvdyA8IEJPQVJEX1NJWkUgJiYgY29sID49IDAgJiYgY29sIDwgQk9BUkRfU0laRTtcbn1cblxuLyoqXG4gKiBDb21wYXJhIGR1YXMgcG9zacOnw7Vlc1xuICovXG5leHBvcnQgZnVuY3Rpb24gaXNTYW1lUG9zaXRpb24oYTogQ2hlc3NQb3NpdGlvbiwgYjogQ2hlc3NQb3NpdGlvbik6IGJvb2xlYW4ge1xuICByZXR1cm4gYS5yb3cgPT09IGIucm93ICYmIGEuY29sID09PSBiLmNvbDtcbn1cblxuLyoqXG4gKiBSZXRvcm5hIGEgY29yIGRlIHVtYSBjYXNhIGRvIHRhYnVsZWlyb1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3F1YXJlQ29sb3Iocm93OiBudW1iZXIsIGNvbDogbnVtYmVyKTogJ2xpZ2h0JyB8ICdkYXJrJyB7XG4gIHJldHVybiAocm93ICsgY29sKSAlIDIgPT09IDAgPyAnbGlnaHQnIDogJ2RhcmsnO1xufVxuXG4vKipcbiAqIFJldG9ybmEgbyBzw61tYm9sbyBVbmljb2RlIHBhcmEgdW1hIHBlw6dhXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRQaWVjZVN5bWJvbChwaWVjZTogQ2hlc3NQaWVjZSk6IHN0cmluZyB7XG4gIGNvbnN0IHN5bWJvbCA9IHBpZWNlLmNvbG9yID09PSAnd2hpdGUnIFxuICAgID8gcGllY2UudHlwZS50b1VwcGVyQ2FzZSgpIFxuICAgIDogcGllY2UudHlwZS50b0xvd2VyQ2FzZSgpO1xuICByZXR1cm4gUElFQ0VfU1lNQk9MU1tzeW1ib2xdIHx8ICcnO1xufVxuXG4vKipcbiAqIEdlcmEgYXJyYXkgY29tIHRvZGFzIGFzIHBvc2nDp8O1ZXMgZG8gdGFidWxlaXJvXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRBbGxTcXVhcmVzKCk6IENoZXNzUG9zaXRpb25bXSB7XG4gIGNvbnN0IHNxdWFyZXM6IENoZXNzUG9zaXRpb25bXSA9IFtdO1xuICBmb3IgKGxldCByb3cgPSAwOyByb3cgPCBCT0FSRF9TSVpFOyByb3crKykge1xuICAgIGZvciAobGV0IGNvbCA9IDA7IGNvbCA8IEJPQVJEX1NJWkU7IGNvbCsrKSB7XG4gICAgICBzcXVhcmVzLnB1c2goeyByb3csIGNvbCB9KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHNxdWFyZXM7XG59XG5cbi8qKlxuICogUmV0b3JuYSBhcyBjb29yZGVuYWRhcyBkYXMgY2FzYXMgZGVzdGFjYWRhcyBwYXJhIHVtIG1vdmltZW50b1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0SGlnaGxpZ2h0ZWRTcXVhcmVzKFxuICBzZWxlY3RlZFNxdWFyZTogQ2hlc3NQb3NpdGlvbiB8IG51bGwsXG4gIGxhc3RNb3ZlOiB7IGZyb206IENoZXNzUG9zaXRpb247IHRvOiBDaGVzc1Bvc2l0aW9uIH0gfCBudWxsLFxuICBwb3NzaWJsZU1vdmVzOiBDaGVzc1Bvc2l0aW9uW11cbik6IHtcbiAgc2VsZWN0ZWQ6IENoZXNzUG9zaXRpb24gfCBudWxsO1xuICBsYXN0TW92ZTogeyBmcm9tOiBDaGVzc1Bvc2l0aW9uOyB0bzogQ2hlc3NQb3NpdGlvbiB9IHwgbnVsbDtcbiAgcG9zc2libGU6IENoZXNzUG9zaXRpb25bXTtcbn0ge1xuICByZXR1cm4ge1xuICAgIHNlbGVjdGVkOiBzZWxlY3RlZFNxdWFyZSxcbiAgICBsYXN0TW92ZSxcbiAgICBwb3NzaWJsZTogcG9zc2libGVNb3ZlcyxcbiAgfTtcbn1cblxuLyoqXG4gKiBSZXRvcm5hIGEgZGlzdMOibmNpYSBlbnRyZSBkdWFzIGNhc2FzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTcXVhcmVEaXN0YW5jZShhOiBDaGVzc1Bvc2l0aW9uLCBiOiBDaGVzc1Bvc2l0aW9uKTogbnVtYmVyIHtcbiAgY29uc3Qgcm93RGlmZiA9IE1hdGguYWJzKGEucm93IC0gYi5yb3cpO1xuICBjb25zdCBjb2xEaWZmID0gTWF0aC5hYnMoYS5jb2wgLSBiLmNvbCk7XG4gIHJldHVybiBNYXRoLm1heChyb3dEaWZmLCBjb2xEaWZmKTtcbn1cblxuLyoqXG4gKiBSZXRvcm5hIGEgZGlyZcOnw6NvIGRvIG1vdmltZW50byBlbnRyZSBkdWFzIGNhc2FzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRNb3ZlRGlyZWN0aW9uKFxuICBmcm9tOiBDaGVzc1Bvc2l0aW9uLFxuICB0bzogQ2hlc3NQb3NpdGlvblxuKTogeyByb3dEaXI6IG51bWJlcjsgY29sRGlyOiBudW1iZXIgfSB7XG4gIGNvbnN0IHJvd0RpciA9IE1hdGguc2lnbih0by5yb3cgLSBmcm9tLnJvdyk7XG4gIGNvbnN0IGNvbERpciA9IE1hdGguc2lnbih0by5jb2wgLSBmcm9tLmNvbCk7XG4gIHJldHVybiB7IHJvd0RpciwgY29sRGlyIH07XG59XG5cbi8qKlxuICogVmVyaWZpY2Egc2UgdW0gbW92aW1lbnRvIMOpIGRpYWdvbmFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0RpYWdvbmFsTW92ZShmcm9tOiBDaGVzc1Bvc2l0aW9uLCB0bzogQ2hlc3NQb3NpdGlvbik6IGJvb2xlYW4ge1xuICBjb25zdCByb3dEaWZmID0gTWF0aC5hYnModG8ucm93IC0gZnJvbS5yb3cpO1xuICBjb25zdCBjb2xEaWZmID0gTWF0aC5hYnModG8uY29sIC0gZnJvbS5jb2wpO1xuICByZXR1cm4gcm93RGlmZiA9PT0gY29sRGlmZiAmJiByb3dEaWZmID4gMDtcbn1cblxuLyoqXG4gKiBWZXJpZmljYSBzZSB1bSBtb3ZpbWVudG8gw6kgb3J0b2dvbmFsIChob3Jpem9udGFsIG91IHZlcnRpY2FsKVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNPcnRob2dvbmFsTW92ZShmcm9tOiBDaGVzc1Bvc2l0aW9uLCB0bzogQ2hlc3NQb3NpdGlvbik6IGJvb2xlYW4ge1xuICByZXR1cm4gKGZyb20ucm93ID09PSB0by5yb3cgJiYgZnJvbS5jb2wgIT09IHRvLmNvbCkgfHxcbiAgICAgICAgIChmcm9tLmNvbCA9PT0gdG8uY29sICYmIGZyb20ucm93ICE9PSB0by5yb3cpO1xufVxuXG4vKipcbiAqIENhbGN1bGEgbyBjYW1pbmhvIGVudHJlIGR1YXMgY2FzYXMgKHBhcmEgdmVyaWZpY2FyIG9ic3RydcOnw7VlcylcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFBhdGhCZXR3ZWVuKFxuICBmcm9tOiBDaGVzc1Bvc2l0aW9uLFxuICB0bzogQ2hlc3NQb3NpdGlvblxuKTogQ2hlc3NQb3NpdGlvbltdIHtcbiAgY29uc3QgcGF0aDogQ2hlc3NQb3NpdGlvbltdID0gW107XG4gIGNvbnN0IHsgcm93RGlyLCBjb2xEaXIgfSA9IGdldE1vdmVEaXJlY3Rpb24oZnJvbSwgdG8pO1xuICBsZXQgeyByb3csIGNvbCB9ID0gZnJvbTtcblxuICB3aGlsZSAocm93ICE9PSB0by5yb3cgfHwgY29sICE9PSB0by5jb2wpIHtcbiAgICByb3cgKz0gcm93RGlyO1xuICAgIGNvbCArPSBjb2xEaXI7XG4gICAgaWYgKHJvdyA9PT0gdG8ucm93ICYmIGNvbCA9PT0gdG8uY29sKSBicmVhaztcbiAgICBwYXRoLnB1c2goeyByb3csIGNvbCB9KTtcbiAgfVxuXG4gIHJldHVybiBwYXRoO1xufVxuXG4vKipcbiAqIEZvcm1hdGEgdW0gbW92aW1lbnRvIHBhcmEgbm90YcOnw6NvIGFsZ8OpYnJpY2FcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdE1vdmUoXG4gIGZyb206IENoZXNzUG9zaXRpb24sXG4gIHRvOiBDaGVzc1Bvc2l0aW9uLFxuICBwaWVjZTogQ2hlc3NQaWVjZSxcbiAgY2FwdHVyZT86IGJvb2xlYW4sXG4gIHByb21vdGlvbj86IHN0cmluZ1xuKTogc3RyaW5nIHtcbiAgY29uc3QgZnJvbVNxdWFyZSA9IGNvb3Jkc1RvQWxnZWJyYWljKGZyb20pO1xuICBjb25zdCB0b1NxdWFyZSA9IGNvb3Jkc1RvQWxnZWJyYWljKHRvKTtcbiAgY29uc3QgcGllY2VTeW1ib2wgPSBwaWVjZS50eXBlLnRvVXBwZXJDYXNlKCk7XG4gIGNvbnN0IGNhcHR1cmVTeW1ib2wgPSBjYXB0dXJlID8gJ3gnIDogJyc7XG4gIGNvbnN0IHByb21vdGlvblN5bWJvbCA9IHByb21vdGlvbiA/IGA9JHtwcm9tb3Rpb24udG9VcHBlckNhc2UoKX1gIDogJyc7XG5cbiAgcmV0dXJuIGAke3BpZWNlU3ltYm9sfSR7ZnJvbVNxdWFyZX0ke2NhcHR1cmVTeW1ib2x9JHt0b1NxdWFyZX0ke3Byb21vdGlvblN5bWJvbH1gO1xufVxuIl0sIm5hbWVzIjpbIkJPQVJEX1NJWkUiLCJQSUVDRV9TWU1CT0xTIiwiYWxnZWJyYWljVG9Db29yZHMiLCJzcXVhcmUiLCJjb2wiLCJjaGFyQ29kZUF0Iiwicm93IiwicGFyc2VJbnQiLCJjb29yZHNUb0FsZ2VicmFpYyIsInBvc2l0aW9uIiwiZmlsZSIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsInJhbmsiLCJpc1ZhbGlkUG9zaXRpb24iLCJpc1NhbWVQb3NpdGlvbiIsImEiLCJiIiwiZ2V0U3F1YXJlQ29sb3IiLCJnZXRQaWVjZVN5bWJvbCIsInBpZWNlIiwic3ltYm9sIiwiY29sb3IiLCJ0eXBlIiwidG9VcHBlckNhc2UiLCJ0b0xvd2VyQ2FzZSIsImdldEFsbFNxdWFyZXMiLCJzcXVhcmVzIiwicHVzaCIsImdldEhpZ2hsaWdodGVkU3F1YXJlcyIsInNlbGVjdGVkU3F1YXJlIiwibGFzdE1vdmUiLCJwb3NzaWJsZU1vdmVzIiwic2VsZWN0ZWQiLCJwb3NzaWJsZSIsImdldFNxdWFyZURpc3RhbmNlIiwicm93RGlmZiIsIk1hdGgiLCJhYnMiLCJjb2xEaWZmIiwibWF4IiwiZ2V0TW92ZURpcmVjdGlvbiIsImZyb20iLCJ0byIsInJvd0RpciIsInNpZ24iLCJjb2xEaXIiLCJpc0RpYWdvbmFsTW92ZSIsImlzT3J0aG9nb25hbE1vdmUiLCJnZXRQYXRoQmV0d2VlbiIsInBhdGgiLCJmb3JtYXRNb3ZlIiwiY2FwdHVyZSIsInByb21vdGlvbiIsImZyb21TcXVhcmUiLCJ0b1NxdWFyZSIsInBpZWNlU3ltYm9sIiwiY2FwdHVyZVN5bWJvbCIsInByb21vdGlvblN5bWJvbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/shared/utils/chess.ts\n");

/***/ }),

/***/ "./src/web/components/board/ChessBoard.tsx":
/*!*************************************************!*\
  !*** ./src/web/components/board/ChessBoard.tsx ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ChessBoard\": () => (/* binding */ ChessBoard),\n/* harmony export */   \"MemoizedChessBoard\": () => (/* binding */ MemoizedChessBoard)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var styled_jsx_style__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! styled-jsx/style */ \"styled-jsx/style\");\n/* harmony import */ var styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(styled_jsx_style__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _hooks_useGameState__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../hooks/useGameState */ \"./src/web/hooks/useGameState.ts\");\n/* harmony import */ var _Square__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Square */ \"./src/web/components/board/Square.tsx\");\n/* harmony import */ var _Piece__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Piece */ \"./src/web/components/board/Piece.tsx\");\n/* harmony import */ var _shared_constants_game__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../shared/constants/game */ \"./src/shared/constants/game.ts\");\n\n\n\n\n\n\n\nconst ChessBoard = ({ initialFen , orientation =\"white\" , culturalStyle =\"modern\" , showCoordinates =true , onMove , onGameEnd  })=>{\n    // Estado do jogo\n    const { gameState , selectedSquare , possibleMoves , lastMove , pieceAt , selectSquare , makeMove  } = (0,_hooks_useGameState__WEBPACK_IMPORTED_MODULE_3__.useGameState)({\n        initialFen,\n        culturalStyle\n    });\n    // Estado de arrastar e soltar\n    const [draggedPiece, setDraggedPiece] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    // Calcula o tamanho do tabuleiro baseado no container\n    const boardSize = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(()=>{\n        // TODO: Implementar lógica de responsividade\n        return 400; // Tamanho fixo para exemplo\n    }, []);\n    const squareSize = boardSize / _shared_constants_game__WEBPACK_IMPORTED_MODULE_6__.BOARD_SIZE;\n    // Manipuladores de eventos de arrastar e soltar\n    const handleDragStart = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((position, piece, e)=>{\n        if (piece.color !== gameState.currentPlayer) {\n            e.preventDefault();\n            return;\n        }\n        setDraggedPiece({\n            piece,\n            position\n        });\n        selectSquare(position);\n        // Define a imagem de arrasto transparente\n        const dragImage = new Image();\n        dragImage.src = \"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\";\n        e.dataTransfer.setDragImage(dragImage, 0, 0);\n    }, [\n        gameState.currentPlayer,\n        selectSquare\n    ]);\n    const handleDragEnd = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(()=>{\n        setDraggedPiece(null);\n    }, []);\n    const handleDrop = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((toPosition)=>{\n        if (!draggedPiece) return;\n        const success = makeMove(draggedPiece.position, toPosition);\n        if (success && onMove) {\n            onMove(draggedPiece.position, toPosition);\n        }\n        setDraggedPiece(null);\n    }, [\n        draggedPiece,\n        makeMove,\n        onMove\n    ]);\n    // Manipulador de clique na casa\n    const handleSquareClick = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((position)=>{\n        if (selectedSquare) {\n            if (makeMove(selectedSquare, position) && onMove) {\n                onMove(selectedSquare, position);\n            }\n        } else {\n            selectSquare(position);\n        }\n    }, [\n        selectedSquare,\n        makeMove,\n        onMove,\n        selectSquare\n    ]);\n    // Renderiza o tabuleiro\n    const renderBoard = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(()=>{\n        const board = [];\n        const rangeY = orientation === \"white\" ? Array.from({\n            length: _shared_constants_game__WEBPACK_IMPORTED_MODULE_6__.BOARD_SIZE\n        }, (_, i)=>i) : Array.from({\n            length: _shared_constants_game__WEBPACK_IMPORTED_MODULE_6__.BOARD_SIZE\n        }, (_, i)=>_shared_constants_game__WEBPACK_IMPORTED_MODULE_6__.BOARD_SIZE - 1 - i);\n        const rangeX = orientation === \"white\" ? Array.from({\n            length: _shared_constants_game__WEBPACK_IMPORTED_MODULE_6__.BOARD_SIZE\n        }, (_, i)=>i) : Array.from({\n            length: _shared_constants_game__WEBPACK_IMPORTED_MODULE_6__.BOARD_SIZE\n        }, (_, i)=>_shared_constants_game__WEBPACK_IMPORTED_MODULE_6__.BOARD_SIZE - 1 - i);\n        for (const row of rangeY){\n            for (const col of rangeX){\n                const position = {\n                    row,\n                    col\n                };\n                const piece = pieceAt(position);\n                const isSelected = selectedSquare && selectedSquare.row === row && selectedSquare.col === col;\n                const isPossibleMove = possibleMoves.some((move)=>move.row === row && move.col === col);\n                const isLastMove = lastMove && (lastMove.from.row === row && lastMove.from.col === col || lastMove.to.row === row && lastMove.to.col === col);\n                board.push(/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    \"data-testid\": `square-${row}-${col}`,\n                    style: {\n                        width: squareSize,\n                        height: squareSize\n                    },\n                    onDragOver: (e)=>e.preventDefault(),\n                    onDrop: ()=>handleDrop(position),\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Square__WEBPACK_IMPORTED_MODULE_4__.MemoizedSquare, {\n                        position: position,\n                        piece: piece,\n                        isSelected: isSelected,\n                        isPossibleMove: isPossibleMove,\n                        isLastMove: isLastMove,\n                        showCoordinates: showCoordinates,\n                        culturalStyle: culturalStyle,\n                        onClick: ()=>handleSquareClick(position),\n                        children: piece && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Piece__WEBPACK_IMPORTED_MODULE_5__.MemoizedPiece, {\n                            piece: piece,\n                            isDragging: draggedPiece?.position === position,\n                            culturalStyle: culturalStyle,\n                            size: squareSize * 0.8,\n                            onDragStart: (e)=>handleDragStart(position, piece, e),\n                            onDragEnd: handleDragEnd\n                        }, void 0, false, {\n                            fileName: \"/Users/jx/WORKSPACE/PROJECTS/CHESS/src/web/components/board/ChessBoard.tsx\",\n                            lineNumber: 147,\n                            columnNumber: 17\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/jx/WORKSPACE/PROJECTS/CHESS/src/web/components/board/ChessBoard.tsx\",\n                        lineNumber: 136,\n                        columnNumber: 13\n                    }, undefined)\n                }, `${row}-${col}`, false, {\n                    fileName: \"/Users/jx/WORKSPACE/PROJECTS/CHESS/src/web/components/board/ChessBoard.tsx\",\n                    lineNumber: 126,\n                    columnNumber: 11\n                }, undefined));\n            }\n        }\n        return board;\n    }, [\n        orientation,\n        squareSize,\n        pieceAt,\n        selectedSquare,\n        possibleMoves,\n        lastMove,\n        draggedPiece,\n        culturalStyle,\n        showCoordinates,\n        handleDragStart,\n        handleDragEnd,\n        handleDrop,\n        handleSquareClick\n    ]);\n    // Efeito para verificar fim de jogo\n    react__WEBPACK_IMPORTED_MODULE_2___default().useEffect(()=>{\n        if (gameState.isCheckmate || gameState.isDraw) {\n            let result = \"\";\n            if (gameState.isCheckmate) {\n                result = gameState.currentPlayer === \"white\" ? \"black\" : \"white\";\n            } else {\n                result = \"draw\";\n            }\n            onGameEnd?.(result);\n        }\n    }, [\n        gameState.isCheckmate,\n        gameState.isDraw,\n        gameState.currentPlayer,\n        onGameEnd\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            width: boardSize,\n            height: boardSize\n        },\n        className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n            [\n                \"34830f102c4e591c\",\n                [\n                    culturalStyle\n                ]\n            ]\n        ]) + \" \" + \"relative\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                    [\n                        \"34830f102c4e591c\",\n                        [\n                            culturalStyle\n                        ]\n                    ]\n                ]) + \" \" + \"p-2 rounded-lg shadow-xl bg-gradient-to-br from-emerald-700 to-emerald-900\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    \"data-testid\": \"chessboard\",\n                    \"data-style\": culturalStyle,\n                    style: {\n                        backgroundImage: `url('/images/patterns/${culturalStyle}.png')`\n                    },\n                    className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                        [\n                            \"34830f102c4e591c\",\n                            [\n                                culturalStyle\n                            ]\n                        ]\n                    ]) + \" \" + \"grid grid-cols-8 rounded-md overflow-hidden border-4 border-emerald-800\",\n                    children: renderBoard()\n                }, void 0, false, {\n                    fileName: \"/Users/jx/WORKSPACE/PROJECTS/CHESS/src/web/components/board/ChessBoard.tsx\",\n                    lineNumber: 203,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/jx/WORKSPACE/PROJECTS/CHESS/src/web/components/board/ChessBoard.tsx\",\n                lineNumber: 201,\n                columnNumber: 7\n            }, undefined),\n            gameState.isCheck && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    border: \"4px solid #f59e0b\",\n                    animation: \"pulse 2s infinite\"\n                },\n                className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                    [\n                        \"34830f102c4e591c\",\n                        [\n                            culturalStyle\n                        ]\n                    ]\n                ]) + \" \" + \"absolute inset-0 pointer-events-none\"\n            }, void 0, false, {\n                fileName: \"/Users/jx/WORKSPACE/PROJECTS/CHESS/src/web/components/board/ChessBoard.tsx\",\n                lineNumber: 217,\n                columnNumber: 9\n            }, undefined),\n            gameState.isCheckmate && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    border: \"4px solid #ef4444\",\n                    animation: \"shake 0.5s\"\n                },\n                className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                    [\n                        \"34830f102c4e591c\",\n                        [\n                            culturalStyle\n                        ]\n                    ]\n                ]) + \" \" + \"absolute inset-0 pointer-events-none\"\n            }, void 0, false, {\n                fileName: \"/Users/jx/WORKSPACE/PROJECTS/CHESS/src/web/components/board/ChessBoard.tsx\",\n                lineNumber: 228,\n                columnNumber: 9\n            }, undefined),\n            (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default()), {\n                id: \"34830f102c4e591c\",\n                dynamic: [\n                    culturalStyle\n                ],\n                children: `@-webkit-keyframes pulse{0%{opacity:.5}50%{opacity:1}100%{opacity:.5}}@-moz-keyframes pulse{0%{opacity:.5}50%{opacity:1}100%{opacity:.5}}@-o-keyframes pulse{0%{opacity:.5}50%{opacity:1}100%{opacity:.5}}@keyframes pulse{0%{opacity:.5}50%{opacity:1}100%{opacity:.5}}@-webkit-keyframes shake{0%,100%{-webkit-transform:translatex(0);transform:translatex(0)}25%{-webkit-transform:translatex(-5px);transform:translatex(-5px)}75%{-webkit-transform:translatex(5px);transform:translatex(5px)}}@-moz-keyframes shake{0%,100%{-moz-transform:translatex(0);transform:translatex(0)}25%{-moz-transform:translatex(-5px);transform:translatex(-5px)}75%{-moz-transform:translatex(5px);transform:translatex(5px)}}@-o-keyframes shake{0%,100%{-o-transform:translatex(0);transform:translatex(0)}25%{-o-transform:translatex(-5px);transform:translatex(-5px)}75%{-o-transform:translatex(5px);transform:translatex(5px)}}@keyframes shake{0%,100%{-webkit-transform:translatex(0);-moz-transform:translatex(0);-o-transform:translatex(0);transform:translatex(0)}25%{-webkit-transform:translatex(-5px);-moz-transform:translatex(-5px);-o-transform:translatex(-5px);transform:translatex(-5px)}75%{-webkit-transform:translatex(5px);-moz-transform:translatex(5px);-o-transform:translatex(5px);transform:translatex(5px)}}.grid.__jsx-style-dynamic-selector{background-image:url(\"/images/patterns/${culturalStyle}.png\");-webkit-background-size:cover;-moz-background-size:cover;-o-background-size:cover;background-size:cover;background-blend-mode:overlay}`\n            }, void 0, false, void 0, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/jx/WORKSPACE/PROJECTS/CHESS/src/web/components/board/ChessBoard.tsx\",\n        lineNumber: 193,\n        columnNumber: 5\n    }, undefined);\n};\n// Otimização de renderização\nconst MemoizedChessBoard = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_2___default().memo(ChessBoard);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvd2ViL2NvbXBvbmVudHMvYm9hcmQvQ2hlc3NCb2FyZC50c3guanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBOEQ7QUFFTjtBQUNkO0FBQ0Y7QUFDb0I7QUFXckQsTUFBTVEsYUFBd0MsQ0FBQyxFQUNwREMsV0FBVSxFQUNWQyxhQUFjLFFBQU8sRUFDckJDLGVBQWdCLFNBQVEsRUFDeEJDLGlCQUFrQixJQUFJLEdBQ3RCQyxPQUFNLEVBQ05DLFVBQVMsRUFDVixHQUFLO0lBQ0osaUJBQWlCO0lBQ2pCLE1BQU0sRUFDSkMsVUFBUyxFQUNUQyxlQUFjLEVBQ2RDLGNBQWEsRUFDYkMsU0FBUSxFQUNSQyxRQUFPLEVBQ1BDLGFBQVksRUFDWkMsU0FBUSxFQUNULEdBQUdqQixpRUFBWUEsQ0FBQztRQUNmSztRQUNBRTtJQUNGO0lBRUEsOEJBQThCO0lBQzlCLE1BQU0sQ0FBQ1csY0FBY0MsZ0JBQWdCLEdBQUd0QiwrQ0FBUUEsQ0FHdEMsSUFBSTtJQUVkLHNEQUFzRDtJQUN0RCxNQUFNdUIsWUFBWXJCLDhDQUFPQSxDQUFDLElBQU07UUFDOUIsNkNBQTZDO1FBQzdDLE9BQU8sS0FBSyw0QkFBNEI7SUFDMUMsR0FBRyxFQUFFO0lBRUwsTUFBTXNCLGFBQWFELFlBQVlqQiw4REFBVUE7SUFFekMsZ0RBQWdEO0lBQ2hELE1BQU1tQixrQkFBa0J4QixrREFBV0EsQ0FBQyxDQUNsQ3lCLFVBQ0FDLE9BQ0FDLElBQ0c7UUFDSCxJQUFJRCxNQUFNRSxLQUFLLEtBQUtmLFVBQVVnQixhQUFhLEVBQUU7WUFDM0NGLEVBQUVHLGNBQWM7WUFDaEI7UUFDRixDQUFDO1FBRURULGdCQUFnQjtZQUFFSztZQUFPRDtRQUFTO1FBQ2xDUCxhQUFhTztRQUViLDBDQUEwQztRQUMxQyxNQUFNTSxZQUFZLElBQUlDO1FBQ3RCRCxVQUFVRSxHQUFHLEdBQUc7UUFDaEJOLEVBQUVPLFlBQVksQ0FBQ0MsWUFBWSxDQUFDSixXQUFXLEdBQUc7SUFDNUMsR0FBRztRQUFDbEIs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O29CQUNqRTs7Ozs7Z0NBMkMwQ0E7OzsrQkE5Q2hDOzhCQUtUZ0M7Ozs7Ozs7Ozs7O1lBS0o1QixVQUFVZ0UsT0FBTyxrQkFDaEIsOERBQUNsQjtnQkFFQ0UsT0FBTztvQkFDTGlCLFFBQVE7b0JBQ1JDLFdBQVc7Z0JBQ2I7Ozs7OzRCQThCMEN0RTs7OzJCQWxDaEM7Ozs7OztZQVNiSSxVQUFVMkQsV0FBVyxrQkFDcEIsOERBQUNiO2dCQUVDRSxPQUFPO29CQUNMaUIsUUFBUTtvQkFDUkMsV0FBVztnQkFDYjs7Ozs7NEJBbUIwQ3RFOzs7MkJBdkJoQzs7Ozs7Ozs7O29CQXVCZ0NBOzt5MkNBQUFBOzs7Ozs7OztBQU9wRCxFQUFFO0FBRUYsNkJBQTZCO0FBQ3RCLE1BQU11RSxtQ0FBcUJsRixpREFBVSxDQUFDUSxZQUFZIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2hlc3MvLi9zcmMvd2ViL2NvbXBvbmVudHMvYm9hcmQvQ2hlc3NCb2FyZC50c3g/MDg4ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUNhbGxiYWNrLCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgQ2hlc3NQb3NpdGlvbiwgQ2hlc3NQaWVjZSB9IGZyb20gJy4uLy4uLy4uL3NoYXJlZC90eXBlcy9jaGVzcyc7XG5pbXBvcnQgeyB1c2VHYW1lU3RhdGUgfSBmcm9tICcuLi8uLi9ob29rcy91c2VHYW1lU3RhdGUnO1xuaW1wb3J0IHsgTWVtb2l6ZWRTcXVhcmUgfSBmcm9tICcuL1NxdWFyZSc7XG5pbXBvcnQgeyBNZW1vaXplZFBpZWNlIH0gZnJvbSAnLi9QaWVjZSc7XG5pbXBvcnQgeyBCT0FSRF9TSVpFIH0gZnJvbSAnLi4vLi4vLi4vc2hhcmVkL2NvbnN0YW50cy9nYW1lJztcblxuaW50ZXJmYWNlIENoZXNzQm9hcmRQcm9wcyB7XG4gIGluaXRpYWxGZW4/OiBzdHJpbmc7XG4gIG9yaWVudGF0aW9uPzogJ3doaXRlJyB8ICdibGFjayc7XG4gIGN1bHR1cmFsU3R5bGU/OiBzdHJpbmc7XG4gIHNob3dDb29yZGluYXRlcz86IGJvb2xlYW47XG4gIG9uTW92ZT86IChmcm9tOiBDaGVzc1Bvc2l0aW9uLCB0bzogQ2hlc3NQb3NpdGlvbikgPT4gdm9pZDtcbiAgb25HYW1lRW5kPzogKHJlc3VsdDogc3RyaW5nKSA9PiB2b2lkO1xufVxuXG5leHBvcnQgY29uc3QgQ2hlc3NCb2FyZDogUmVhY3QuRkM8Q2hlc3NCb2FyZFByb3BzPiA9ICh7XG4gIGluaXRpYWxGZW4sXG4gIG9yaWVudGF0aW9uID0gJ3doaXRlJyxcbiAgY3VsdHVyYWxTdHlsZSA9ICdtb2Rlcm4nLFxuICBzaG93Q29vcmRpbmF0ZXMgPSB0cnVlLFxuICBvbk1vdmUsXG4gIG9uR2FtZUVuZCxcbn0pID0+IHtcbiAgLy8gRXN0YWRvIGRvIGpvZ29cbiAgY29uc3Qge1xuICAgIGdhbWVTdGF0ZSxcbiAgICBzZWxlY3RlZFNxdWFyZSxcbiAgICBwb3NzaWJsZU1vdmVzLFxuICAgIGxhc3RNb3ZlLFxuICAgIHBpZWNlQXQsXG4gICAgc2VsZWN0U3F1YXJlLFxuICAgIG1ha2VNb3ZlLFxuICB9ID0gdXNlR2FtZVN0YXRlKHtcbiAgICBpbml0aWFsRmVuLFxuICAgIGN1bHR1cmFsU3R5bGUsXG4gIH0pO1xuXG4gIC8vIEVzdGFkbyBkZSBhcnJhc3RhciBlIHNvbHRhclxuICBjb25zdCBbZHJhZ2dlZFBpZWNlLCBzZXREcmFnZ2VkUGllY2VdID0gdXNlU3RhdGU8e1xuICAgIHBpZWNlOiBDaGVzc1BpZWNlO1xuICAgIHBvc2l0aW9uOiBDaGVzc1Bvc2l0aW9uO1xuICB9IHwgbnVsbD4obnVsbCk7XG5cbiAgLy8gQ2FsY3VsYSBvIHRhbWFuaG8gZG8gdGFidWxlaXJvIGJhc2VhZG8gbm8gY29udGFpbmVyXG4gIGNvbnN0IGJvYXJkU2l6ZSA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIC8vIFRPRE86IEltcGxlbWVudGFyIGzDs2dpY2EgZGUgcmVzcG9uc2l2aWRhZGVcbiAgICByZXR1cm4gNDAwOyAvLyBUYW1hbmhvIGZpeG8gcGFyYSBleGVtcGxvXG4gIH0sIFtdKTtcblxuICBjb25zdCBzcXVhcmVTaXplID0gYm9hcmRTaXplIC8gQk9BUkRfU0laRTtcblxuICAvLyBNYW5pcHVsYWRvcmVzIGRlIGV2ZW50b3MgZGUgYXJyYXN0YXIgZSBzb2x0YXJcbiAgY29uc3QgaGFuZGxlRHJhZ1N0YXJ0ID0gdXNlQ2FsbGJhY2soKFxuICAgIHBvc2l0aW9uOiBDaGVzc1Bvc2l0aW9uLFxuICAgIHBpZWNlOiBDaGVzc1BpZWNlLFxuICAgIGU6IFJlYWN0LkRyYWdFdmVudFxuICApID0+IHtcbiAgICBpZiAocGllY2UuY29sb3IgIT09IGdhbWVTdGF0ZS5jdXJyZW50UGxheWVyKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2V0RHJhZ2dlZFBpZWNlKHsgcGllY2UsIHBvc2l0aW9uIH0pO1xuICAgIHNlbGVjdFNxdWFyZShwb3NpdGlvbik7XG5cbiAgICAvLyBEZWZpbmUgYSBpbWFnZW0gZGUgYXJyYXN0byB0cmFuc3BhcmVudGVcbiAgICBjb25zdCBkcmFnSW1hZ2UgPSBuZXcgSW1hZ2UoKTtcbiAgICBkcmFnSW1hZ2Uuc3JjID0gJ2RhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFRQUJBSUFBQUFBQUFQLy8veUg1QkFFQUFBQUFMQUFBQUFBQkFBRUFBQUlCUkFBNyc7XG4gICAgZS5kYXRhVHJhbnNmZXIuc2V0RHJhZ0ltYWdlKGRyYWdJbWFnZSwgMCwgMCk7XG4gIH0sIFtnYW1lU3RhdGUuY3VycmVudFBsYXllciwgc2VsZWN0U3F1YXJlXSk7XG5cbiAgY29uc3QgaGFuZGxlRHJhZ0VuZCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBzZXREcmFnZ2VkUGllY2UobnVsbCk7XG4gIH0sIFtdKTtcblxuICBjb25zdCBoYW5kbGVEcm9wID0gdXNlQ2FsbGJhY2soKHRvUG9zaXRpb246IENoZXNzUG9zaXRpb24pID0+IHtcbiAgICBpZiAoIWRyYWdnZWRQaWVjZSkgcmV0dXJuO1xuXG4gICAgY29uc3Qgc3VjY2VzcyA9IG1ha2VNb3ZlKGRyYWdnZWRQaWVjZS5wb3NpdGlvbiwgdG9Qb3NpdGlvbik7XG4gICAgaWYgKHN1Y2Nlc3MgJiYgb25Nb3ZlKSB7XG4gICAgICBvbk1vdmUoZHJhZ2dlZFBpZWNlLnBvc2l0aW9uLCB0b1Bvc2l0aW9uKTtcbiAgICB9XG5cbiAgICBzZXREcmFnZ2VkUGllY2UobnVsbCk7XG4gIH0sIFtkcmFnZ2VkUGllY2UsIG1ha2VNb3ZlLCBvbk1vdmVdKTtcblxuICAvLyBNYW5pcHVsYWRvciBkZSBjbGlxdWUgbmEgY2FzYVxuICBjb25zdCBoYW5kbGVTcXVhcmVDbGljayA9IHVzZUNhbGxiYWNrKChwb3NpdGlvbjogQ2hlc3NQb3NpdGlvbikgPT4ge1xuICAgIGlmIChzZWxlY3RlZFNxdWFyZSkge1xuICAgICAgaWYgKG1ha2VNb3ZlKHNlbGVjdGVkU3F1YXJlLCBwb3NpdGlvbikgJiYgb25Nb3ZlKSB7XG4gICAgICAgIG9uTW92ZShzZWxlY3RlZFNxdWFyZSwgcG9zaXRpb24pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzZWxlY3RTcXVhcmUocG9zaXRpb24pO1xuICAgIH1cbiAgfSwgW3NlbGVjdGVkU3F1YXJlLCBtYWtlTW92ZSwgb25Nb3ZlLCBzZWxlY3RTcXVhcmVdKTtcblxuICAvLyBSZW5kZXJpemEgbyB0YWJ1bGVpcm9cbiAgY29uc3QgcmVuZGVyQm9hcmQgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgY29uc3QgYm9hcmQgPSBbXTtcbiAgICBjb25zdCByYW5nZVkgPSBvcmllbnRhdGlvbiA9PT0gJ3doaXRlJyBcbiAgICAgID8gQXJyYXkuZnJvbSh7IGxlbmd0aDogQk9BUkRfU0laRSB9LCAoXywgaSkgPT4gaSlcbiAgICAgIDogQXJyYXkuZnJvbSh7IGxlbmd0aDogQk9BUkRfU0laRSB9LCAoXywgaSkgPT4gQk9BUkRfU0laRSAtIDEgLSBpKTtcbiAgICBcbiAgICBjb25zdCByYW5nZVggPSBvcmllbnRhdGlvbiA9PT0gJ3doaXRlJ1xuICAgICAgPyBBcnJheS5mcm9tKHsgbGVuZ3RoOiBCT0FSRF9TSVpFIH0sIChfLCBpKSA9PiBpKVxuICAgICAgOiBBcnJheS5mcm9tKHsgbGVuZ3RoOiBCT0FSRF9TSVpFIH0sIChfLCBpKSA9PiBCT0FSRF9TSVpFIC0gMSAtIGkpO1xuXG4gICAgZm9yIChjb25zdCByb3cgb2YgcmFuZ2VZKSB7XG4gICAgICBmb3IgKGNvbnN0IGNvbCBvZiByYW5nZVgpIHtcbiAgICAgICAgY29uc3QgcG9zaXRpb246IENoZXNzUG9zaXRpb24gPSB7IHJvdywgY29sIH07XG4gICAgICAgIGNvbnN0IHBpZWNlID0gcGllY2VBdChwb3NpdGlvbik7XG4gICAgICAgIGNvbnN0IGlzU2VsZWN0ZWQgPSBzZWxlY3RlZFNxdWFyZSAmJiBcbiAgICAgICAgICBzZWxlY3RlZFNxdWFyZS5yb3cgPT09IHJvdyAmJiBcbiAgICAgICAgICBzZWxlY3RlZFNxdWFyZS5jb2wgPT09IGNvbDtcbiAgICAgICAgY29uc3QgaXNQb3NzaWJsZU1vdmUgPSBwb3NzaWJsZU1vdmVzLnNvbWUoXG4gICAgICAgICAgbW92ZSA9PiBtb3ZlLnJvdyA9PT0gcm93ICYmIG1vdmUuY29sID09PSBjb2xcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgaXNMYXN0TW92ZSA9IGxhc3RNb3ZlICYmIChcbiAgICAgICAgICAobGFzdE1vdmUuZnJvbS5yb3cgPT09IHJvdyAmJiBsYXN0TW92ZS5mcm9tLmNvbCA9PT0gY29sKSB8fFxuICAgICAgICAgIChsYXN0TW92ZS50by5yb3cgPT09IHJvdyAmJiBsYXN0TW92ZS50by5jb2wgPT09IGNvbClcbiAgICAgICAgKTtcblxuICAgICAgICBib2FyZC5wdXNoKFxuICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgIGtleT17YCR7cm93fS0ke2NvbH1gfVxuICAgICAgICAgICAgZGF0YS10ZXN0aWQ9e2BzcXVhcmUtJHtyb3d9LSR7Y29sfWB9XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICB3aWR0aDogc3F1YXJlU2l6ZSxcbiAgICAgICAgICAgICAgaGVpZ2h0OiBzcXVhcmVTaXplLFxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIG9uRHJhZ092ZXI9eyhlKSA9PiBlLnByZXZlbnREZWZhdWx0KCl9XG4gICAgICAgICAgICBvbkRyb3A9eygpID0+IGhhbmRsZURyb3AocG9zaXRpb24pfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxNZW1vaXplZFNxdWFyZVxuICAgICAgICAgICAgICBwb3NpdGlvbj17cG9zaXRpb259XG4gICAgICAgICAgICAgIHBpZWNlPXtwaWVjZX1cbiAgICAgICAgICAgICAgaXNTZWxlY3RlZD17aXNTZWxlY3RlZH1cbiAgICAgICAgICAgICAgaXNQb3NzaWJsZU1vdmU9e2lzUG9zc2libGVNb3ZlfVxuICAgICAgICAgICAgICBpc0xhc3RNb3ZlPXtpc0xhc3RNb3ZlfVxuICAgICAgICAgICAgICBzaG93Q29vcmRpbmF0ZXM9e3Nob3dDb29yZGluYXRlc31cbiAgICAgICAgICAgICAgY3VsdHVyYWxTdHlsZT17Y3VsdHVyYWxTdHlsZX1cbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlU3F1YXJlQ2xpY2socG9zaXRpb24pfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7cGllY2UgJiYgKFxuICAgICAgICAgICAgICAgIDxNZW1vaXplZFBpZWNlXG4gICAgICAgICAgICAgICAgICBwaWVjZT17cGllY2V9XG4gICAgICAgICAgICAgICAgICBpc0RyYWdnaW5nPXtkcmFnZ2VkUGllY2U/LnBvc2l0aW9uID09PSBwb3NpdGlvbn1cbiAgICAgICAgICAgICAgICAgIGN1bHR1cmFsU3R5bGU9e2N1bHR1cmFsU3R5bGV9XG4gICAgICAgICAgICAgICAgICBzaXplPXtzcXVhcmVTaXplICogMC44fVxuICAgICAgICAgICAgICAgICAgb25EcmFnU3RhcnQ9eyhlKSA9PiBoYW5kbGVEcmFnU3RhcnQocG9zaXRpb24sIHBpZWNlLCBlKX1cbiAgICAgICAgICAgICAgICAgIG9uRHJhZ0VuZD17aGFuZGxlRHJhZ0VuZH1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9NZW1vaXplZFNxdWFyZT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gYm9hcmQ7XG4gIH0sIFtcbiAgICBvcmllbnRhdGlvbixcbiAgICBzcXVhcmVTaXplLFxuICAgIHBpZWNlQXQsXG4gICAgc2VsZWN0ZWRTcXVhcmUsXG4gICAgcG9zc2libGVNb3ZlcyxcbiAgICBsYXN0TW92ZSxcbiAgICBkcmFnZ2VkUGllY2UsXG4gICAgY3VsdHVyYWxTdHlsZSxcbiAgICBzaG93Q29vcmRpbmF0ZXMsXG4gICAgaGFuZGxlRHJhZ1N0YXJ0LFxuICAgIGhhbmRsZURyYWdFbmQsXG4gICAgaGFuZGxlRHJvcCxcbiAgICBoYW5kbGVTcXVhcmVDbGljayxcbiAgXSk7XG5cbiAgLy8gRWZlaXRvIHBhcmEgdmVyaWZpY2FyIGZpbSBkZSBqb2dvXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGdhbWVTdGF0ZS5pc0NoZWNrbWF0ZSB8fCBnYW1lU3RhdGUuaXNEcmF3KSB7XG4gICAgICBsZXQgcmVzdWx0ID0gJyc7XG4gICAgICBpZiAoZ2FtZVN0YXRlLmlzQ2hlY2ttYXRlKSB7XG4gICAgICAgIHJlc3VsdCA9IGdhbWVTdGF0ZS5jdXJyZW50UGxheWVyID09PSAnd2hpdGUnID8gJ2JsYWNrJyA6ICd3aGl0ZSc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHQgPSAnZHJhdyc7XG4gICAgICB9XG4gICAgICBvbkdhbWVFbmQ/LihyZXN1bHQpO1xuICAgIH1cbiAgfSwgW2dhbWVTdGF0ZS5pc0NoZWNrbWF0ZSwgZ2FtZVN0YXRlLmlzRHJhdywgZ2FtZVN0YXRlLmN1cnJlbnRQbGF5ZXIsIG9uR2FtZUVuZF0pO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdlxuICAgICAgY2xhc3NOYW1lPVwicmVsYXRpdmVcIlxuICAgICAgc3R5bGU9e3tcbiAgICAgICAgd2lkdGg6IGJvYXJkU2l6ZSxcbiAgICAgICAgaGVpZ2h0OiBib2FyZFNpemUsXG4gICAgICB9fVxuICAgID5cbiAgICAgIHsvKiBDb250YWluZXIgZG8gdGFidWxlaXJvIGNvbSBncmFkaWVudGUgZGUgZnVuZG8gKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtMiByb3VuZGVkLWxnIHNoYWRvdy14bCBiZy1ncmFkaWVudC10by1iciBmcm9tLWVtZXJhbGQtNzAwIHRvLWVtZXJhbGQtOTAwXCI+XG4gICAgICAgIHsvKiBHcmFkZSBkbyB0YWJ1bGVpcm8gKi99XG4gICAgICAgIDxkaXZcbiAgICAgICAgICBkYXRhLXRlc3RpZD1cImNoZXNzYm9hcmRcIlxuICAgICAgICAgIGRhdGEtc3R5bGU9e2N1bHR1cmFsU3R5bGV9XG4gICAgICAgICAgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtOCByb3VuZGVkLW1kIG92ZXJmbG93LWhpZGRlbiBib3JkZXItNCBib3JkZXItZW1lcmFsZC04MDBcIlxuICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6IGB1cmwoJy9pbWFnZXMvcGF0dGVybnMvJHtjdWx0dXJhbFN0eWxlfS5wbmcnKWBcbiAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAge3JlbmRlckJvYXJkKCl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBJbmRpY2Fkb3IgZGUgeGVxdWUgKi99XG4gICAgICB7Z2FtZVN0YXRlLmlzQ2hlY2sgJiYgKFxuICAgICAgICA8ZGl2XG4gICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgaW5zZXQtMCBwb2ludGVyLWV2ZW50cy1ub25lXCJcbiAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgYm9yZGVyOiAnNHB4IHNvbGlkICNmNTllMGInLFxuICAgICAgICAgICAgYW5pbWF0aW9uOiAncHVsc2UgMnMgaW5maW5pdGUnLFxuICAgICAgICAgIH19XG4gICAgICAgIC8+XG4gICAgICApfVxuXG4gICAgICB7LyogSW5kaWNhZG9yIGRlIHhlcXVlLW1hdGUgKi99XG4gICAgICB7Z2FtZVN0YXRlLmlzQ2hlY2ttYXRlICYmIChcbiAgICAgICAgPGRpdlxuICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgcG9pbnRlci1ldmVudHMtbm9uZVwiXG4gICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgIGJvcmRlcjogJzRweCBzb2xpZCAjZWY0NDQ0JyxcbiAgICAgICAgICAgIGFuaW1hdGlvbjogJ3NoYWtlIDAuNXMnLFxuICAgICAgICAgIH19XG4gICAgICAgIC8+XG4gICAgICApfVxuXG4gICAgICB7LyogRXN0aWxvIGN1bHR1cmFsIGVzcGVjw61maWNvICovfVxuICAgICAgPHN0eWxlIGpzeD57YFxuICAgICAgICBAa2V5ZnJhbWVzIHB1bHNlIHtcbiAgICAgICAgICAwJSB7IG9wYWNpdHk6IDAuNTsgfVxuICAgICAgICAgIDUwJSB7IG9wYWNpdHk6IDE7IH1cbiAgICAgICAgICAxMDAlIHsgb3BhY2l0eTogMC41OyB9XG4gICAgICAgIH1cblxuICAgICAgICBAa2V5ZnJhbWVzIHNoYWtlIHtcbiAgICAgICAgICAwJSwgMTAwJSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCgwKTsgfVxuICAgICAgICAgIDI1JSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNXB4KTsgfVxuICAgICAgICAgIDc1JSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCg1cHgpOyB9XG4gICAgICAgIH1cblxuICAgICAgICAuZ3JpZCB7XG4gICAgICAgICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCcvaW1hZ2VzL3BhdHRlcm5zLyR7Y3VsdHVyYWxTdHlsZX0ucG5nJyk7XG4gICAgICAgICAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjtcbiAgICAgICAgICBiYWNrZ3JvdW5kLWJsZW5kLW1vZGU6IG92ZXJsYXk7XG4gICAgICAgIH1cbiAgICAgIGB9PC9zdHlsZT5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbi8vIE90aW1pemHDp8OjbyBkZSByZW5kZXJpemHDp8Ojb1xuZXhwb3J0IGNvbnN0IE1lbW9pemVkQ2hlc3NCb2FyZCA9IFJlYWN0Lm1lbW8oQ2hlc3NCb2FyZCk7XG4iXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VTdGF0ZSIsInVzZUNhbGxiYWNrIiwidXNlTWVtbyIsInVzZUdhbWVTdGF0ZSIsIk1lbW9pemVkU3F1YXJlIiwiTWVtb2l6ZWRQaWVjZSIsIkJPQVJEX1NJWkUiLCJDaGVzc0JvYXJkIiwiaW5pdGlhbEZlbiIsIm9yaWVudGF0aW9uIiwiY3VsdHVyYWxTdHlsZSIsInNob3dDb29yZGluYXRlcyIsIm9uTW92ZSIsIm9uR2FtZUVuZCIsImdhbWVTdGF0ZSIsInNlbGVjdGVkU3F1YXJlIiwicG9zc2libGVNb3ZlcyIsImxhc3RNb3ZlIiwicGllY2VBdCIsInNlbGVjdFNxdWFyZSIsIm1ha2VNb3ZlIiwiZHJhZ2dlZFBpZWNlIiwic2V0RHJhZ2dlZFBpZWNlIiwiYm9hcmRTaXplIiwic3F1YXJlU2l6ZSIsImhhbmRsZURyYWdTdGFydCIsInBvc2l0aW9uIiwicGllY2UiLCJlIiwiY29sb3IiLCJjdXJyZW50UGxheWVyIiwicHJldmVudERlZmF1bHQiLCJkcmFnSW1hZ2UiLCJJbWFnZSIsInNyYyIsImRhdGFUcmFuc2ZlciIsInNldERyYWdJbWFnZSIsImhhbmRsZURyYWdFbmQiLCJoYW5kbGVEcm9wIiwidG9Qb3NpdGlvbiIsInN1Y2Nlc3MiLCJoYW5kbGVTcXVhcmVDbGljayIsInJlbmRlckJvYXJkIiwiYm9hcmQiLCJyYW5nZVkiLCJBcnJheSIsImZyb20iLCJsZW5ndGgiLCJfIiwiaSIsInJhbmdlWCIsInJvdyIsImNvbCIsImlzU2VsZWN0ZWQiLCJpc1Bvc3NpYmxlTW92ZSIsInNvbWUiLCJtb3ZlIiwiaXNMYXN0TW92ZSIsInRvIiwicHVzaCIsImRpdiIsImRhdGEtdGVzdGlkIiwic3R5bGUiLCJ3aWR0aCIsImhlaWdodCIsIm9uRHJhZ092ZXIiLCJvbkRyb3AiLCJvbkNsaWNrIiwiaXNEcmFnZ2luZyIsInNpemUiLCJvbkRyYWdTdGFydCIsIm9uRHJhZ0VuZCIsInVzZUVmZmVjdCIsImlzQ2hlY2ttYXRlIiwiaXNEcmF3IiwicmVzdWx0IiwiZGF0YS1zdHlsZSIsImJhY2tncm91bmRJbWFnZSIsImlzQ2hlY2siLCJib3JkZXIiLCJhbmltYXRpb24iLCJNZW1vaXplZENoZXNzQm9hcmQiLCJtZW1vIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/web/components/board/ChessBoard.tsx\n");

/***/ }),

/***/ "./src/web/components/board/Piece.tsx":
/*!********************************************!*\
  !*** ./src/web/components/board/Piece.tsx ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"MemoizedPiece\": () => (/* binding */ MemoizedPiece),\n/* harmony export */   \"Piece\": () => (/* binding */ Piece)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _shared_utils_chess__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../shared/utils/chess */ \"./src/shared/utils/chess.ts\");\n\n\n\nconst Piece = ({ piece , isDragging , culturalStyle =\"modern\" , size =45 , onDragStart , onDragEnd  })=>{\n    // Define o estilo da peça baseado no estilo cultural\n    const pieceStyles = {\n        modern: \"traditional\",\n        ancient: \"hieroglyphic\",\n        medieval: \"artistic\"\n    };\n    const pieceStyle = pieceStyles[culturalStyle] || \"traditional\";\n    // Calcula a escala baseada no estado de dragging\n    const scale = isDragging ? 1.2 : 1;\n    // Determina o símbolo da peça\n    const symbol = (0,_shared_utils_chess__WEBPACK_IMPORTED_MODULE_2__.getPieceSymbol)(piece);\n    // Estilo base da peça\n    const baseStyle = {\n        fontSize: `${size}px`,\n        lineHeight: `${size}px`,\n        transform: `scale(${scale})`,\n        transition: \"transform 150ms ease\",\n        color: piece.color === \"white\" ? \"#fff\" : \"#000\",\n        textShadow: piece.color === \"white\" ? \"2px 2px 2px rgba(0,0,0,0.4)\" : \"2px 2px 2px rgba(255,255,255,0.4)\",\n        cursor: \"grab\",\n        userSelect: \"none\"\n    };\n    // Modifica o estilo baseado no tema cultural\n    const culturalModifiers = {\n        traditional: {},\n        artistic: {\n            filter: \"drop-shadow(2px 2px 3px rgba(0,0,0,0.3))\"\n        },\n        minimalist: {\n            textShadow: \"none\",\n            fontWeight: \"normal\"\n        },\n        hieroglyphic: {\n            fontFamily: \"'Noto Sans', sans-serif\",\n            fontWeight: \"normal\"\n        }\n    };\n    const styleModifiers = culturalModifiers[pieceStyle] || {};\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: `\n        select-none\n        flex\n        items-center\n        justify-center\n        transform\n        transition-transform\n        ${isDragging ? \"cursor-grabbing z-50\" : \"cursor-grab\"}\n      `,\n        style: {\n            width: size,\n            height: size,\n            transform: `scale(${scale})`,\n            transition: \"transform 150ms ease\"\n        },\n        draggable: true,\n        onDragStart: onDragStart,\n        onDragEnd: onDragEnd,\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"text-5xl select-none relative\",\n            style: {\n                color: piece.color === \"white\" ? \"#fff\" : \"#000\",\n                textShadow: piece.color === \"white\" ? \"2px 2px 2px rgba(0,0,0,0.4)\" : \"2px 2px 2px rgba(255,255,255,0.4)\",\n                lineHeight: \"1\",\n                ...styleModifiers\n            },\n            children: symbol\n        }, void 0, false, {\n            fileName: \"/Users/jx/WORKSPACE/PROJECTS/CHESS/src/web/components/board/Piece.tsx\",\n            lineNumber: 89,\n            columnNumber: 7\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/Users/jx/WORKSPACE/PROJECTS/CHESS/src/web/components/board/Piece.tsx\",\n        lineNumber: 69,\n        columnNumber: 5\n    }, undefined);\n};\n// Otimização de renderização\nconst MemoizedPiece = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1___default().memo(Piece);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvd2ViL2NvbXBvbmVudHMvYm9hcmQvUGllY2UudHN4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQTBCO0FBRW1DO0FBV3RELE1BQU1FLFFBQThCLENBQUMsRUFDMUNDLE1BQUssRUFDTEMsV0FBVSxFQUNWQyxlQUFnQixTQUFRLEVBQ3hCQyxNQUFPLEdBQUUsRUFDVEMsWUFBVyxFQUNYQyxVQUFTLEVBQ1YsR0FBSztJQUNKLHFEQUFxRDtJQUNyRCxNQUFNQyxjQUFjO1FBQ2xCQyxRQUFRO1FBQ1JDLFNBQVM7UUFDVEMsVUFBVTtJQUNaO0lBQ0EsTUFBTUMsYUFBYUosV0FBVyxDQUFDSixjQUEwQyxJQUFJO0lBRTdFLGlEQUFpRDtJQUNqRCxNQUFNUyxRQUFRVixhQUFhLE1BQU0sQ0FBQztJQUVsQyw4QkFBOEI7SUFDOUIsTUFBTVcsU0FBU2QsbUVBQWNBLENBQUNFO0lBRTlCLHNCQUFzQjtJQUN0QixNQUFNYSxZQUFZO1FBQ2hCQyxVQUFVLENBQUMsRUFBRVgsS0FBSyxFQUFFLENBQUM7UUFDckJZLFlBQVksQ0FBQyxFQUFFWixLQUFLLEVBQUUsQ0FBQztRQUN2QmEsV0FBVyxDQUFDLE1BQU0sRUFBRUwsTUFBTSxDQUFDLENBQUM7UUFDNUJNLFlBQVk7UUFDWkMsT0FBT2xCLE1BQU1rQixLQUFLLEtBQUssVUFBVSxTQUFTLE1BQU07UUFDaERDLFlBQVluQixNQUFNa0IsS0FBSyxLQUFLLFVBQ3hCLGdDQUNBLG1DQUFtQztRQUN2Q0UsUUFBUTtRQUNSQyxZQUFZO0lBQ2Q7SUFFQSw2Q0FBNkM7SUFDN0MsTUFBTUMsb0JBQW9CO1FBQ3hCQyxhQUFhLENBQUM7UUFDZEMsVUFBVTtZQUNSQyxRQUFRO1FBQ1Y7UUFDQUMsWUFBWTtZQUNWUCxZQUFZO1lBQ1pRLFlBQVk7UUFDZDtRQUNBQyxjQUFjO1lBQ1pDLFlBQVk7WUFDWkYsWUFBWTtRQUNkO0lBQ0Y7SUFFQSxNQUFNRyxpQkFBaUJSLGlCQUFpQixDQUFDWixXQUE2QyxJQUFJLENBQUM7SUFFM0YscUJBQ0UsOERBQUNxQjtRQUNDQyxXQUFXLENBQUM7Ozs7Ozs7UUFPVixFQUFFL0IsYUFBYSx5QkFBeUIsYUFBYSxDQUFDO01BQ3hELENBQUM7UUFDRGdDLE9BQU87WUFDTEMsT0FBTy9CO1lBQ1BnQyxRQUFRaEM7WUFDUmEsV0FBVyxDQUFDLE1BQU0sRUFBRUwsTUFBTSxDQUFDLENBQUM7WUFDNUJNLFlBQVk7UUFDZDtRQUNBbUIsV0FBVyxJQUFJO1FBQ2ZoQyxhQUFhQTtRQUNiQyxXQUFXQTtrQkFFWCw0RUFBQzBCO1lBQ0NDLFdBQVU7WUFDVkMsT0FBTztnQkFDTGYsT0FBT2xCLE1BQU1rQixLQUFLLEtBQUssVUFBVSxTQUFTLE1BQU07Z0JBQ2hEQyxZQUFZbkIsTUFBTWtCLEtBQUssS0FBSyxVQUN4QixnQ0FDQSxtQ0FBbUM7Z0JBQ3ZDSCxZQUFZO2dCQUNaLEdBQUdlLGNBQWM7WUFDbkI7c0JBRUNsQjs7Ozs7Ozs7Ozs7QUFJVCxFQUFFO0FBRUYsNkJBQTZCO0FBQ3RCLE1BQU15Qiw4QkFBZ0J4QyxpREFBVSxDQUFDRSxPQUFPIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2hlc3MvLi9zcmMvd2ViL2NvbXBvbmVudHMvYm9hcmQvUGllY2UudHN4P2M2MzkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IENoZXNzUGllY2UgfSBmcm9tICcuLi8uLi8uLi9zaGFyZWQvdHlwZXMvY2hlc3MnO1xuaW1wb3J0IHsgZ2V0UGllY2VTeW1ib2wgfSBmcm9tICcuLi8uLi8uLi9zaGFyZWQvdXRpbHMvY2hlc3MnO1xuXG5pbnRlcmZhY2UgUGllY2VQcm9wcyB7XG4gIHBpZWNlOiBDaGVzc1BpZWNlO1xuICBpc0RyYWdnaW5nPzogYm9vbGVhbjtcbiAgY3VsdHVyYWxTdHlsZT86IHN0cmluZztcbiAgc2l6ZT86IG51bWJlcjtcbiAgb25EcmFnU3RhcnQ/OiAoZTogUmVhY3QuRHJhZ0V2ZW50KSA9PiB2b2lkO1xuICBvbkRyYWdFbmQ/OiAoZTogUmVhY3QuRHJhZ0V2ZW50KSA9PiB2b2lkO1xufVxuXG5leHBvcnQgY29uc3QgUGllY2U6IFJlYWN0LkZDPFBpZWNlUHJvcHM+ID0gKHtcbiAgcGllY2UsXG4gIGlzRHJhZ2dpbmcsXG4gIGN1bHR1cmFsU3R5bGUgPSAnbW9kZXJuJyxcbiAgc2l6ZSA9IDQ1LFxuICBvbkRyYWdTdGFydCxcbiAgb25EcmFnRW5kLFxufSkgPT4ge1xuICAvLyBEZWZpbmUgbyBlc3RpbG8gZGEgcGXDp2EgYmFzZWFkbyBubyBlc3RpbG8gY3VsdHVyYWxcbiAgY29uc3QgcGllY2VTdHlsZXMgPSB7XG4gICAgbW9kZXJuOiAndHJhZGl0aW9uYWwnLFxuICAgIGFuY2llbnQ6ICdoaWVyb2dseXBoaWMnLFxuICAgIG1lZGlldmFsOiAnYXJ0aXN0aWMnXG4gIH07XG4gIGNvbnN0IHBpZWNlU3R5bGUgPSBwaWVjZVN0eWxlc1tjdWx0dXJhbFN0eWxlIGFzIGtleW9mIHR5cGVvZiBwaWVjZVN0eWxlc10gfHwgJ3RyYWRpdGlvbmFsJztcblxuICAvLyBDYWxjdWxhIGEgZXNjYWxhIGJhc2VhZGEgbm8gZXN0YWRvIGRlIGRyYWdnaW5nXG4gIGNvbnN0IHNjYWxlID0gaXNEcmFnZ2luZyA/IDEuMiA6IDE7XG5cbiAgLy8gRGV0ZXJtaW5hIG8gc8OtbWJvbG8gZGEgcGXDp2FcbiAgY29uc3Qgc3ltYm9sID0gZ2V0UGllY2VTeW1ib2wocGllY2UpO1xuXG4gIC8vIEVzdGlsbyBiYXNlIGRhIHBlw6dhXG4gIGNvbnN0IGJhc2VTdHlsZSA9IHtcbiAgICBmb250U2l6ZTogYCR7c2l6ZX1weGAsXG4gICAgbGluZUhlaWdodDogYCR7c2l6ZX1weGAsXG4gICAgdHJhbnNmb3JtOiBgc2NhbGUoJHtzY2FsZX0pYCxcbiAgICB0cmFuc2l0aW9uOiAndHJhbnNmb3JtIDE1MG1zIGVhc2UnLFxuICAgIGNvbG9yOiBwaWVjZS5jb2xvciA9PT0gJ3doaXRlJyA/ICcjZmZmJyA6ICcjMDAwJyxcbiAgICB0ZXh0U2hhZG93OiBwaWVjZS5jb2xvciA9PT0gJ3doaXRlJ1xuICAgICAgPyAnMnB4IDJweCAycHggcmdiYSgwLDAsMCwwLjQpJ1xuICAgICAgOiAnMnB4IDJweCAycHggcmdiYSgyNTUsMjU1LDI1NSwwLjQpJyxcbiAgICBjdXJzb3I6ICdncmFiJyxcbiAgICB1c2VyU2VsZWN0OiAnbm9uZScgYXMgY29uc3QsXG4gIH07XG5cbiAgLy8gTW9kaWZpY2EgbyBlc3RpbG8gYmFzZWFkbyBubyB0ZW1hIGN1bHR1cmFsXG4gIGNvbnN0IGN1bHR1cmFsTW9kaWZpZXJzID0ge1xuICAgIHRyYWRpdGlvbmFsOiB7fSxcbiAgICBhcnRpc3RpYzoge1xuICAgICAgZmlsdGVyOiAnZHJvcC1zaGFkb3coMnB4IDJweCAzcHggcmdiYSgwLDAsMCwwLjMpKScsXG4gICAgfSxcbiAgICBtaW5pbWFsaXN0OiB7XG4gICAgICB0ZXh0U2hhZG93OiAnbm9uZScsXG4gICAgICBmb250V2VpZ2h0OiAnbm9ybWFsJyxcbiAgICB9LFxuICAgIGhpZXJvZ2x5cGhpYzoge1xuICAgICAgZm9udEZhbWlseTogXCInTm90byBTYW5zJywgc2Fucy1zZXJpZlwiLFxuICAgICAgZm9udFdlaWdodDogJ25vcm1hbCcsXG4gICAgfSxcbiAgfTtcblxuICBjb25zdCBzdHlsZU1vZGlmaWVycyA9IGN1bHR1cmFsTW9kaWZpZXJzW3BpZWNlU3R5bGUgYXMga2V5b2YgdHlwZW9mIGN1bHR1cmFsTW9kaWZpZXJzXSB8fCB7fTtcblxuICByZXR1cm4gKFxuICAgIDxkaXZcbiAgICAgIGNsYXNzTmFtZT17YFxuICAgICAgICBzZWxlY3Qtbm9uZVxuICAgICAgICBmbGV4XG4gICAgICAgIGl0ZW1zLWNlbnRlclxuICAgICAgICBqdXN0aWZ5LWNlbnRlclxuICAgICAgICB0cmFuc2Zvcm1cbiAgICAgICAgdHJhbnNpdGlvbi10cmFuc2Zvcm1cbiAgICAgICAgJHtpc0RyYWdnaW5nID8gJ2N1cnNvci1ncmFiYmluZyB6LTUwJyA6ICdjdXJzb3ItZ3JhYid9XG4gICAgICBgfVxuICAgICAgc3R5bGU9e3tcbiAgICAgICAgd2lkdGg6IHNpemUsXG4gICAgICAgIGhlaWdodDogc2l6ZSxcbiAgICAgICAgdHJhbnNmb3JtOiBgc2NhbGUoJHtzY2FsZX0pYCxcbiAgICAgICAgdHJhbnNpdGlvbjogJ3RyYW5zZm9ybSAxNTBtcyBlYXNlJyxcbiAgICAgIH19XG4gICAgICBkcmFnZ2FibGU9e3RydWV9XG4gICAgICBvbkRyYWdTdGFydD17b25EcmFnU3RhcnR9XG4gICAgICBvbkRyYWdFbmQ9e29uRHJhZ0VuZH1cbiAgICA+XG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzTmFtZT1cInRleHQtNXhsIHNlbGVjdC1ub25lIHJlbGF0aXZlXCJcbiAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICBjb2xvcjogcGllY2UuY29sb3IgPT09ICd3aGl0ZScgPyAnI2ZmZicgOiAnIzAwMCcsXG4gICAgICAgICAgdGV4dFNoYWRvdzogcGllY2UuY29sb3IgPT09ICd3aGl0ZSdcbiAgICAgICAgICAgID8gJzJweCAycHggMnB4IHJnYmEoMCwwLDAsMC40KSdcbiAgICAgICAgICAgIDogJzJweCAycHggMnB4IHJnYmEoMjU1LDI1NSwyNTUsMC40KScsXG4gICAgICAgICAgbGluZUhlaWdodDogJzEnLFxuICAgICAgICAgIC4uLnN0eWxlTW9kaWZpZXJzLFxuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICB7c3ltYm9sfVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG4vLyBPdGltaXphw6fDo28gZGUgcmVuZGVyaXphw6fDo29cbmV4cG9ydCBjb25zdCBNZW1vaXplZFBpZWNlID0gUmVhY3QubWVtbyhQaWVjZSk7XG4iXSwibmFtZXMiOlsiUmVhY3QiLCJnZXRQaWVjZVN5bWJvbCIsIlBpZWNlIiwicGllY2UiLCJpc0RyYWdnaW5nIiwiY3VsdHVyYWxTdHlsZSIsInNpemUiLCJvbkRyYWdTdGFydCIsIm9uRHJhZ0VuZCIsInBpZWNlU3R5bGVzIiwibW9kZXJuIiwiYW5jaWVudCIsIm1lZGlldmFsIiwicGllY2VTdHlsZSIsInNjYWxlIiwic3ltYm9sIiwiYmFzZVN0eWxlIiwiZm9udFNpemUiLCJsaW5lSGVpZ2h0IiwidHJhbnNmb3JtIiwidHJhbnNpdGlvbiIsImNvbG9yIiwidGV4dFNoYWRvdyIsImN1cnNvciIsInVzZXJTZWxlY3QiLCJjdWx0dXJhbE1vZGlmaWVycyIsInRyYWRpdGlvbmFsIiwiYXJ0aXN0aWMiLCJmaWx0ZXIiLCJtaW5pbWFsaXN0IiwiZm9udFdlaWdodCIsImhpZXJvZ2x5cGhpYyIsImZvbnRGYW1pbHkiLCJzdHlsZU1vZGlmaWVycyIsImRpdiIsImNsYXNzTmFtZSIsInN0eWxlIiwid2lkdGgiLCJoZWlnaHQiLCJkcmFnZ2FibGUiLCJNZW1vaXplZFBpZWNlIiwibWVtbyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/web/components/board/Piece.tsx\n");

/***/ }),

/***/ "./src/web/components/board/Square.tsx":
/*!*********************************************!*\
  !*** ./src/web/components/board/Square.tsx ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"MemoizedSquare\": () => (/* binding */ MemoizedSquare),\n/* harmony export */   \"Square\": () => (/* binding */ Square)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _shared_utils_chess__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../shared/utils/chess */ \"./src/shared/utils/chess.ts\");\n\n\n\nconst Square = ({ position , piece , isSelected , isPossibleMove , isLastMove , showCoordinates , culturalStyle =\"modern\" , onClick , children  })=>{\n    const { row , col  } = position;\n    const squareColor = (0,_shared_utils_chess__WEBPACK_IMPORTED_MODULE_2__.getSquareColor)(row, col);\n    // Determina a cor final da casa com base nos estados e estilo cultural\n    let backgroundColor;\n    // Cores base do tabuleiro para cada estilo cultural\n    const boardColors = {\n        modern: {\n            light: \"#f0d9b5\",\n            dark: \"#b58863\"\n        },\n        ancient: {\n            light: \"#e6d5ac\",\n            dark: \"#7c6c54\"\n        },\n        medieval: {\n            light: \"#eed2a4\",\n            dark: \"#8b4513\"\n        }\n    };\n    // Seleciona as cores base do estilo cultural atual\n    const styleColors = boardColors[culturalStyle] || boardColors.modern;\n    // Aplica as cores de acordo com o estado do quadrado\n    if (isSelected) {\n        backgroundColor = \"#fcd34d\";\n    } else if (isLastMove) {\n        backgroundColor = \"#34d399\";\n    } else if (isPossibleMove) {\n        backgroundColor = \"#fbbf24\";\n    } else {\n        backgroundColor = styleColors[squareColor];\n    }\n    // Gera coordenadas algébricas para exibição\n    const file = String.fromCharCode(\"a\".charCodeAt(0) + col);\n    const rank = 8 - row;\n    // Manipulador de clique\n    const handleClick = ()=>{\n        onClick?.(position);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: `\n        relative\n        w-full\n        h-full\n        flex\n        items-center\n        justify-center\n        transition-all\n        duration-200\n        ${isPossibleMove ? \"cursor-pointer\" : \"\"}\n        ${isSelected ? \"ring-2 ring-yellow-400\" : \"\"}\n        ${isLastMove ? \"ring-2 ring-green-400\" : \"\"}\n      `,\n        style: {\n            backgroundColor: backgroundColor\n        },\n        onClick: handleClick,\n        children: [\n            isPossibleMove && !piece && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"w-3 h-3 rounded-full bg-yellow-400 opacity-50\"\n            }, void 0, false, {\n                fileName: \"/Users/jx/WORKSPACE/PROJECTS/CHESS/src/web/components/board/Square.tsx\",\n                lineNumber: 95,\n                columnNumber: 9\n            }, undefined),\n            isPossibleMove && piece && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute inset-0 border-2 border-yellow-400 opacity-50\"\n            }, void 0, false, {\n                fileName: \"/Users/jx/WORKSPACE/PROJECTS/CHESS/src/web/components/board/Square.tsx\",\n                lineNumber: 102,\n                columnNumber: 9\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"relative z-10\",\n                children: children\n            }, void 0, false, {\n                fileName: \"/Users/jx/WORKSPACE/PROJECTS/CHESS/src/web/components/board/Square.tsx\",\n                lineNumber: 108,\n                columnNumber: 7\n            }, undefined),\n            showCoordinates && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                children: [\n                    col === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"absolute top-0.5 left-1 text-xs font-bold opacity-75\",\n                        style: {\n                            color: squareColor === \"light\" ? \"#666\" : \"#fff\"\n                        },\n                        children: rank\n                    }, void 0, false, {\n                        fileName: \"/Users/jx/WORKSPACE/PROJECTS/CHESS/src/web/components/board/Square.tsx\",\n                        lineNumber: 116,\n                        columnNumber: 13\n                    }, undefined),\n                    row === 7 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"absolute bottom-0.5 right-1 text-xs font-bold opacity-75\",\n                        style: {\n                            color: squareColor === \"light\" ? \"#666\" : \"#fff\"\n                        },\n                        children: file\n                    }, void 0, false, {\n                        fileName: \"/Users/jx/WORKSPACE/PROJECTS/CHESS/src/web/components/board/Square.tsx\",\n                        lineNumber: 124,\n                        columnNumber: 13\n                    }, undefined)\n                ]\n            }, void 0, true),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute inset-0 opacity-0 hover:opacity-20 transition-opacity duration-200 bg-white\"\n            }, void 0, false, {\n                fileName: \"/Users/jx/WORKSPACE/PROJECTS/CHESS/src/web/components/board/Square.tsx\",\n                lineNumber: 135,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/jx/WORKSPACE/PROJECTS/CHESS/src/web/components/board/Square.tsx\",\n        lineNumber: 74,\n        columnNumber: 5\n    }, undefined);\n};\n// Otimização de renderização\nconst MemoizedSquare = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1___default().memo(Square);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvd2ViL2NvbXBvbmVudHMvYm9hcmQvU3F1YXJlLnRzeC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUEwQjtBQUVtQztBQWN0RCxNQUFNRSxTQUFnQyxDQUFDLEVBQzVDQyxTQUFRLEVBQ1JDLE1BQUssRUFDTEMsV0FBVSxFQUNWQyxlQUFjLEVBQ2RDLFdBQVUsRUFDVkMsZ0JBQWUsRUFDZkMsZUFBZ0IsU0FBUSxFQUN4QkMsUUFBTyxFQUNQQyxTQUFRLEVBQ1QsR0FBSztJQUNKLE1BQU0sRUFBRUMsSUFBRyxFQUFFQyxJQUFHLEVBQUUsR0FBR1Y7SUFDckIsTUFBTVcsY0FBY2IsbUVBQWNBLENBQUNXLEtBQUtDO0lBRXhDLHVFQUF1RTtJQUN2RSxJQUFJRTtJQUVKLG9EQUFvRDtJQUNwRCxNQUFNQyxjQUFjO1FBQ2xCQyxRQUFRO1lBQ05DLE9BQU87WUFDUEMsTUFBTTtRQUNSO1FBQ0FDLFNBQVM7WUFDUEYsT0FBTztZQUNQQyxNQUFNO1FBQ1I7UUFDQUUsVUFBVTtZQUNSSCxPQUFPO1lBQ1BDLE1BQU07UUFDUjtJQUNGO0lBRUEsbURBQW1EO0lBQ25ELE1BQU1HLGNBQWNOLFdBQVcsQ0FBQ1AsY0FBMEMsSUFBSU8sWUFBWUMsTUFBTTtJQUVoRyxxREFBcUQ7SUFDckQsSUFBSVosWUFBWTtRQUNkVSxrQkFBa0I7SUFDcEIsT0FBTyxJQUFJUixZQUFZO1FBQ3JCUSxrQkFBa0I7SUFDcEIsT0FBTyxJQUFJVCxnQkFBZ0I7UUFDekJTLGtCQUFrQjtJQUNwQixPQUFPO1FBQ0xBLGtCQUFrQk8sV0FBVyxDQUFDUixZQUFZO0lBQzVDLENBQUM7SUFFRCw0Q0FBNEM7SUFDNUMsTUFBTVMsT0FBT0MsT0FBT0MsWUFBWSxDQUFDLElBQUlDLFVBQVUsQ0FBQyxLQUFLYjtJQUNyRCxNQUFNYyxPQUFPLElBQUlmO0lBRWpCLHdCQUF3QjtJQUN4QixNQUFNZ0IsY0FBYyxJQUFNO1FBQ3hCbEIsVUFBVVA7SUFDWjtJQUVBLHFCQUNFLDhEQUFDMEI7UUFDQ0MsV0FBVyxDQUFDOzs7Ozs7Ozs7UUFTVixFQUFFeEIsaUJBQWlCLG1CQUFtQixFQUFFLENBQUM7UUFDekMsRUFBRUQsYUFBYSwyQkFBMkIsRUFBRSxDQUFDO1FBQzdDLEVBQUVFLGFBQWEsMEJBQTBCLEVBQUUsQ0FBQztNQUM5QyxDQUFDO1FBQ0R3QixPQUFPO1lBQ0xoQixpQkFBaUJBO1FBQ25CO1FBQ0FMLFNBQVNrQjs7WUFHUnRCLGtCQUFrQixDQUFDRix1QkFDbEIsOERBQUN5QjtnQkFDQ0MsV0FBVTs7Ozs7O1lBS2J4QixrQkFBa0JGLHVCQUNqQiw4REFBQ3lCO2dCQUNDQyxXQUFVOzs7Ozs7MEJBS2QsOERBQUNEO2dCQUFJQyxXQUFVOzBCQUNabkI7Ozs7OztZQUlGSCxpQ0FDQzs7b0JBQ0dLLFFBQVEsbUJBQ1AsOERBQUNtQjt3QkFDQ0YsV0FBVTt3QkFDVkMsT0FBTzs0QkFBRUUsT0FBT25CLGdCQUFnQixVQUFVLFNBQVMsTUFBTTt3QkFBQztrQ0FFekRhOzs7Ozs7b0JBR0pmLFFBQVEsbUJBQ1AsOERBQUNvQjt3QkFDQ0YsV0FBVTt3QkFDVkMsT0FBTzs0QkFBRUUsT0FBT25CLGdCQUFnQixVQUFVLFNBQVMsTUFBTTt3QkFBQztrQ0FFekRTOzs7Ozs7OzswQkFPVCw4REFBQ007Z0JBQ0NDLFdBQVU7Ozs7Ozs7Ozs7OztBQUlsQixFQUFFO0FBRUYsNkJBQTZCO0FBQ3RCLE1BQU1JLCtCQUFpQmxDLGlEQUFVLENBQUNFLFFBQVEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaGVzcy8uL3NyYy93ZWIvY29tcG9uZW50cy9ib2FyZC9TcXVhcmUudHN4PzNkN2YiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IENoZXNzUG9zaXRpb24sIENoZXNzUGllY2UgfSBmcm9tICcuLi8uLi8uLi9zaGFyZWQvdHlwZXMvY2hlc3MnO1xuaW1wb3J0IHsgZ2V0U3F1YXJlQ29sb3IgfSBmcm9tICcuLi8uLi8uLi9zaGFyZWQvdXRpbHMvY2hlc3MnO1xuXG5pbnRlcmZhY2UgU3F1YXJlUHJvcHMge1xuICBwb3NpdGlvbjogQ2hlc3NQb3NpdGlvbjtcbiAgcGllY2U/OiBDaGVzc1BpZWNlO1xuICBpc1NlbGVjdGVkPzogYm9vbGVhbjtcbiAgaXNQb3NzaWJsZU1vdmU/OiBib29sZWFuO1xuICBpc0xhc3RNb3ZlPzogYm9vbGVhbjtcbiAgc2hvd0Nvb3JkaW5hdGVzPzogYm9vbGVhbjtcbiAgY3VsdHVyYWxTdHlsZT86IHN0cmluZztcbiAgb25DbGljaz86IChwb3NpdGlvbjogQ2hlc3NQb3NpdGlvbikgPT4gdm9pZDtcbiAgY2hpbGRyZW4/OiBSZWFjdC5SZWFjdE5vZGU7XG59XG5cbmV4cG9ydCBjb25zdCBTcXVhcmU6IFJlYWN0LkZDPFNxdWFyZVByb3BzPiA9ICh7XG4gIHBvc2l0aW9uLFxuICBwaWVjZSxcbiAgaXNTZWxlY3RlZCxcbiAgaXNQb3NzaWJsZU1vdmUsXG4gIGlzTGFzdE1vdmUsXG4gIHNob3dDb29yZGluYXRlcyxcbiAgY3VsdHVyYWxTdHlsZSA9ICdtb2Rlcm4nLFxuICBvbkNsaWNrLFxuICBjaGlsZHJlbixcbn0pID0+IHtcbiAgY29uc3QgeyByb3csIGNvbCB9ID0gcG9zaXRpb247XG4gIGNvbnN0IHNxdWFyZUNvbG9yID0gZ2V0U3F1YXJlQ29sb3Iocm93LCBjb2wpO1xuICBcbiAgLy8gRGV0ZXJtaW5hIGEgY29yIGZpbmFsIGRhIGNhc2EgY29tIGJhc2Ugbm9zIGVzdGFkb3MgZSBlc3RpbG8gY3VsdHVyYWxcbiAgbGV0IGJhY2tncm91bmRDb2xvcjtcbiAgXG4gIC8vIENvcmVzIGJhc2UgZG8gdGFidWxlaXJvIHBhcmEgY2FkYSBlc3RpbG8gY3VsdHVyYWxcbiAgY29uc3QgYm9hcmRDb2xvcnMgPSB7XG4gICAgbW9kZXJuOiB7XG4gICAgICBsaWdodDogJyNmMGQ5YjUnLFxuICAgICAgZGFyazogJyNiNTg4NjMnXG4gICAgfSxcbiAgICBhbmNpZW50OiB7XG4gICAgICBsaWdodDogJyNlNmQ1YWMnLFxuICAgICAgZGFyazogJyM3YzZjNTQnXG4gICAgfSxcbiAgICBtZWRpZXZhbDoge1xuICAgICAgbGlnaHQ6ICcjZWVkMmE0JyxcbiAgICAgIGRhcms6ICcjOGI0NTEzJ1xuICAgIH1cbiAgfTtcbiAgXG4gIC8vIFNlbGVjaW9uYSBhcyBjb3JlcyBiYXNlIGRvIGVzdGlsbyBjdWx0dXJhbCBhdHVhbFxuICBjb25zdCBzdHlsZUNvbG9ycyA9IGJvYXJkQ29sb3JzW2N1bHR1cmFsU3R5bGUgYXMga2V5b2YgdHlwZW9mIGJvYXJkQ29sb3JzXSB8fCBib2FyZENvbG9ycy5tb2Rlcm47XG4gIFxuICAvLyBBcGxpY2EgYXMgY29yZXMgZGUgYWNvcmRvIGNvbSBvIGVzdGFkbyBkbyBxdWFkcmFkb1xuICBpZiAoaXNTZWxlY3RlZCkge1xuICAgIGJhY2tncm91bmRDb2xvciA9ICcjZmNkMzRkJztcbiAgfSBlbHNlIGlmIChpc0xhc3RNb3ZlKSB7XG4gICAgYmFja2dyb3VuZENvbG9yID0gJyMzNGQzOTknO1xuICB9IGVsc2UgaWYgKGlzUG9zc2libGVNb3ZlKSB7XG4gICAgYmFja2dyb3VuZENvbG9yID0gJyNmYmJmMjQnO1xuICB9IGVsc2Uge1xuICAgIGJhY2tncm91bmRDb2xvciA9IHN0eWxlQ29sb3JzW3NxdWFyZUNvbG9yXTtcbiAgfVxuXG4gIC8vIEdlcmEgY29vcmRlbmFkYXMgYWxnw6licmljYXMgcGFyYSBleGliacOnw6NvXG4gIGNvbnN0IGZpbGUgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKCdhJy5jaGFyQ29kZUF0KDApICsgY29sKTtcbiAgY29uc3QgcmFuayA9IDggLSByb3c7XG5cbiAgLy8gTWFuaXB1bGFkb3IgZGUgY2xpcXVlXG4gIGNvbnN0IGhhbmRsZUNsaWNrID0gKCkgPT4ge1xuICAgIG9uQ2xpY2s/Lihwb3NpdGlvbik7XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2XG4gICAgICBjbGFzc05hbWU9e2BcbiAgICAgICAgcmVsYXRpdmVcbiAgICAgICAgdy1mdWxsXG4gICAgICAgIGgtZnVsbFxuICAgICAgICBmbGV4XG4gICAgICAgIGl0ZW1zLWNlbnRlclxuICAgICAgICBqdXN0aWZ5LWNlbnRlclxuICAgICAgICB0cmFuc2l0aW9uLWFsbFxuICAgICAgICBkdXJhdGlvbi0yMDBcbiAgICAgICAgJHtpc1Bvc3NpYmxlTW92ZSA/ICdjdXJzb3ItcG9pbnRlcicgOiAnJ31cbiAgICAgICAgJHtpc1NlbGVjdGVkID8gJ3JpbmctMiByaW5nLXllbGxvdy00MDAnIDogJyd9XG4gICAgICAgICR7aXNMYXN0TW92ZSA/ICdyaW5nLTIgcmluZy1ncmVlbi00MDAnIDogJyd9XG4gICAgICBgfVxuICAgICAgc3R5bGU9e3tcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBiYWNrZ3JvdW5kQ29sb3IsXG4gICAgICB9fVxuICAgICAgb25DbGljaz17aGFuZGxlQ2xpY2t9XG4gICAgPlxuICAgICAgey8qIEluZGljYWRvciBkZSBtb3ZpbWVudG8gcG9zc8OtdmVsICovfVxuICAgICAge2lzUG9zc2libGVNb3ZlICYmICFwaWVjZSAmJiAoXG4gICAgICAgIDxkaXZcbiAgICAgICAgICBjbGFzc05hbWU9XCJ3LTMgaC0zIHJvdW5kZWQtZnVsbCBiZy15ZWxsb3ctNDAwIG9wYWNpdHktNTBcIlxuICAgICAgICAvPlxuICAgICAgKX1cblxuICAgICAgey8qIEluZGljYWRvciBkZSBjYXB0dXJhIHBvc3PDrXZlbCAqL31cbiAgICAgIHtpc1Bvc3NpYmxlTW92ZSAmJiBwaWVjZSAmJiAoXG4gICAgICAgIDxkaXZcbiAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIGJvcmRlci0yIGJvcmRlci15ZWxsb3ctNDAwIG9wYWNpdHktNTBcIlxuICAgICAgICAvPlxuICAgICAgKX1cblxuICAgICAgey8qIENvbnRlw7pkbyBkYSBjYXNhIChwZcOnYSBvdSBvdXRybyBlbGVtZW50bykgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIHotMTBcIj5cbiAgICAgICAge2NoaWxkcmVufVxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBDb29yZGVuYWRhcyAqL31cbiAgICAgIHtzaG93Q29vcmRpbmF0ZXMgJiYgKFxuICAgICAgICA8PlxuICAgICAgICAgIHtjb2wgPT09IDAgJiYgKFxuICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLTAuNSBsZWZ0LTEgdGV4dC14cyBmb250LWJvbGQgb3BhY2l0eS03NVwiXG4gICAgICAgICAgICAgIHN0eWxlPXt7IGNvbG9yOiBzcXVhcmVDb2xvciA9PT0gJ2xpZ2h0JyA/ICcjNjY2JyA6ICcjZmZmJyB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7cmFua31cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICApfVxuICAgICAgICAgIHtyb3cgPT09IDcgJiYgKFxuICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgYm90dG9tLTAuNSByaWdodC0xIHRleHQteHMgZm9udC1ib2xkIG9wYWNpdHktNzVcIlxuICAgICAgICAgICAgICBzdHlsZT17eyBjb2xvcjogc3F1YXJlQ29sb3IgPT09ICdsaWdodCcgPyAnIzY2NicgOiAnI2ZmZicgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge2ZpbGV9XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC8+XG4gICAgICApfVxuXG4gICAgICB7LyogRWZlaXRvIGRlIGhvdmVyICovfVxuICAgICAgPGRpdlxuICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIG9wYWNpdHktMCBob3ZlcjpvcGFjaXR5LTIwIHRyYW5zaXRpb24tb3BhY2l0eSBkdXJhdGlvbi0yMDAgYmctd2hpdGVcIlxuICAgICAgLz5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbi8vIE90aW1pemHDp8OjbyBkZSByZW5kZXJpemHDp8Ojb1xuZXhwb3J0IGNvbnN0IE1lbW9pemVkU3F1YXJlID0gUmVhY3QubWVtbyhTcXVhcmUpO1xuIl0sIm5hbWVzIjpbIlJlYWN0IiwiZ2V0U3F1YXJlQ29sb3IiLCJTcXVhcmUiLCJwb3NpdGlvbiIsInBpZWNlIiwiaXNTZWxlY3RlZCIsImlzUG9zc2libGVNb3ZlIiwiaXNMYXN0TW92ZSIsInNob3dDb29yZGluYXRlcyIsImN1bHR1cmFsU3R5bGUiLCJvbkNsaWNrIiwiY2hpbGRyZW4iLCJyb3ciLCJjb2wiLCJzcXVhcmVDb2xvciIsImJhY2tncm91bmRDb2xvciIsImJvYXJkQ29sb3JzIiwibW9kZXJuIiwibGlnaHQiLCJkYXJrIiwiYW5jaWVudCIsIm1lZGlldmFsIiwic3R5bGVDb2xvcnMiLCJmaWxlIiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwiY2hhckNvZGVBdCIsInJhbmsiLCJoYW5kbGVDbGljayIsImRpdiIsImNsYXNzTmFtZSIsInN0eWxlIiwic3BhbiIsImNvbG9yIiwiTWVtb2l6ZWRTcXVhcmUiLCJtZW1vIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/web/components/board/Square.tsx\n");

/***/ }),

/***/ "./src/web/components/controls/GameControls.tsx":
/*!******************************************************!*\
  !*** ./src/web/components/controls/GameControls.tsx ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"GameControls\": () => (/* binding */ GameControls),\n/* harmony export */   \"MemoizedGameControls\": () => (/* binding */ MemoizedGameControls)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _shared_constants_game__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../shared/constants/game */ \"./src/shared/constants/game.ts\");\n\n\n\nconst GameControls = ({ culturalStyle , onStyleChange , onFlipBoard , onNewGame , onUndo , canUndo , isPlayerTurn  })=>{\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex flex-col gap-4 p-6 bg-emerald-800/30 backdrop-blur-sm rounded-xl border border-emerald-600/50 shadow-xl\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                className: \"text-2xl font-bold text-white mb-4 flex items-center gap-2\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"w-8 h-8 flex items-center justify-center rounded-lg bg-emerald-500/20\",\n                        children: \"⚙️\"\n                    }, void 0, false, {\n                        fileName: \"/Users/jx/WORKSPACE/PROJECTS/CHESS/src/web/components/controls/GameControls.tsx\",\n                        lineNumber: 27,\n                        columnNumber: 9\n                    }, undefined),\n                    \"Controles\"\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/jx/WORKSPACE/PROJECTS/CHESS/src/web/components/controls/GameControls.tsx\",\n                lineNumber: 26,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex flex-col gap-2\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                        className: \"text-emerald-100 text-sm\",\n                        children: \"Estilo Cultural\"\n                    }, void 0, false, {\n                        fileName: \"/Users/jx/WORKSPACE/PROJECTS/CHESS/src/web/components/controls/GameControls.tsx\",\n                        lineNumber: 33,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                        \"data-testid\": \"style-select\",\n                        value: culturalStyle,\n                        onChange: (e)=>onStyleChange(e.target.value),\n                        className: \" w-full bg-emerald-700/50 text-white  border border-emerald-600/50 rounded-lg  px-4 py-3  focus:outline-none focus:ring-2 focus:ring-emerald-500 transition-colors hover:bg-emerald-700/70 \",\n                        children: Object.entries(_shared_constants_game__WEBPACK_IMPORTED_MODULE_2__.CULTURAL_STYLES).map(([key, value])=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                value: value,\n                                \"data-testid\": `style-${value}`,\n                                children: value.charAt(0).toUpperCase() + value.slice(1)\n                            }, key, false, {\n                                fileName: \"/Users/jx/WORKSPACE/PROJECTS/CHESS/src/web/components/controls/GameControls.tsx\",\n                                lineNumber: 48,\n                                columnNumber: 13\n                            }, undefined))\n                    }, void 0, false, {\n                        fileName: \"/Users/jx/WORKSPACE/PROJECTS/CHESS/src/web/components/controls/GameControls.tsx\",\n                        lineNumber: 34,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/jx/WORKSPACE/PROJECTS/CHESS/src/web/components/controls/GameControls.tsx\",\n                lineNumber: 32,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"grid grid-cols-2 gap-2\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        \"data-testid\": \"new-game-btn\",\n                        onClick: onNewGame,\n                        className: \" bg-emerald-600/70 hover:bg-emerald-500  text-white font-medium rounded-lg px-4 py-3  transition-all duration-200 hover:shadow-lg hover:scale-[1.02] active:scale-[0.98] \",\n                        style: {\n                            backgroundImage: `url('/images/buttons/${culturalStyle}.png')`\n                        },\n                        children: \"Nova Partida\"\n                    }, void 0, false, {\n                        fileName: \"/Users/jx/WORKSPACE/PROJECTS/CHESS/src/web/components/controls/GameControls.tsx\",\n                        lineNumber: 57,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        \"data-testid\": \"flip-board-btn\",\n                        onClick: onFlipBoard,\n                        className: \" bg-emerald-600/70 hover:bg-emerald-500  text-white font-medium rounded-lg px-4 py-3  transition-all duration-200 hover:shadow-lg hover:scale-[1.02] active:scale-[0.98] \",\n                        style: {\n                            backgroundImage: `url('/images/buttons/${culturalStyle}.png')`\n                        },\n                        children: \"Inverter Tabuleiro\"\n                    }, void 0, false, {\n                        fileName: \"/Users/jx/WORKSPACE/PROJECTS/CHESS/src/web/components/controls/GameControls.tsx\",\n                        lineNumber: 75,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        \"data-testid\": \"undo-btn\",\n                        onClick: onUndo,\n                        disabled: !canUndo,\n                        className: `\n            col-span-2 \n            ${canUndo ? \"bg-emerald-600/70 hover:bg-emerald-500 hover:shadow-lg hover:scale-[1.02] active:scale-[0.98]\" : \"bg-emerald-800/50 cursor-not-allowed opacity-50\"}\n            text-white font-medium\n            rounded-lg px-4 py-3\n            transition-all duration-200\n          `,\n                        style: canUndo ? {\n                            backgroundImage: `url('/images/buttons/${culturalStyle}.png')`\n                        } : undefined,\n                        children: \"Desfazer Jogada\"\n                    }, void 0, false, {\n                        fileName: \"/Users/jx/WORKSPACE/PROJECTS/CHESS/src/web/components/controls/GameControls.tsx\",\n                        lineNumber: 93,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/jx/WORKSPACE/PROJECTS/CHESS/src/web/components/controls/GameControls.tsx\",\n                lineNumber: 56,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-2 text-center\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    \"data-testid\": \"game-status\",\n                    \"data-state\": isPlayerTurn ? \"playing\" : \"waiting\",\n                    className: \"text-emerald-100\",\n                    children: isPlayerTurn ? \"Sua vez de jogar\" : \"Aguardando oponente...\"\n                }, void 0, false, {\n                    fileName: \"/Users/jx/WORKSPACE/PROJECTS/CHESS/src/web/components/controls/GameControls.tsx\",\n                    lineNumber: 122,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/jx/WORKSPACE/PROJECTS/CHESS/src/web/components/controls/GameControls.tsx\",\n                lineNumber: 121,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/jx/WORKSPACE/PROJECTS/CHESS/src/web/components/controls/GameControls.tsx\",\n        lineNumber: 25,\n        columnNumber: 5\n    }, undefined);\n};\nconst MemoizedGameControls = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1___default().memo(GameControls);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvd2ViL2NvbXBvbmVudHMvY29udHJvbHMvR2FtZUNvbnRyb2xzLnRzeC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUEwQjtBQUN1QztBQWExRCxNQUFNRSxlQUE0QyxDQUFDLEVBQ3hEQyxjQUFhLEVBQ2JDLGNBQWEsRUFDYkMsWUFBVyxFQUNYQyxVQUFTLEVBQ1RDLE9BQU0sRUFDTkMsUUFBTyxFQUNQQyxhQUFZLEVBQ2IsR0FBSztJQUNKLHFCQUNFLDhEQUFDQztRQUFJQyxXQUFVOzswQkFDYiw4REFBQ0M7Z0JBQUdELFdBQVU7O2tDQUNaLDhEQUFDRTt3QkFBS0YsV0FBVTtrQ0FBd0U7Ozs7OztvQkFBUzs7Ozs7OzswQkFLbkcsOERBQUNEO2dCQUFJQyxXQUFVOztrQ0FDYiw4REFBQ0c7d0JBQU1ILFdBQVU7a0NBQTJCOzs7Ozs7a0NBQzVDLDhEQUFDSTt3QkFDQ0MsZUFBWTt3QkFDWkMsT0FBT2Q7d0JBQ1BlLFVBQVUsQ0FBQ0MsSUFBTWYsY0FBY2UsRUFBRUMsTUFBTSxDQUFDSCxLQUFLO3dCQUM3Q04sV0FBVTtrQ0FTVFUsT0FBT0MsT0FBTyxDQUFDckIsbUVBQWVBLEVBQUVzQixHQUFHLENBQUMsQ0FBQyxDQUFDQyxLQUFLUCxNQUFNLGlCQUNoRCw4REFBQ1E7Z0NBQWlCUixPQUFPQTtnQ0FBT0QsZUFBYSxDQUFDLE1BQU0sRUFBRUMsTUFBTSxDQUFDOzBDQUMxREEsTUFBTVMsTUFBTSxDQUFDLEdBQUdDLFdBQVcsS0FBS1YsTUFBTVcsS0FBSyxDQUFDOytCQURsQ0o7Ozs7Ozs7Ozs7Ozs7Ozs7MEJBUW5CLDhEQUFDZDtnQkFBSUMsV0FBVTs7a0NBQ2IsOERBQUNrQjt3QkFDQ2IsZUFBWTt3QkFDWmMsU0FBU3hCO3dCQUNUSyxXQUFVO3dCQVFWb0IsT0FBTzs0QkFDTEMsaUJBQWlCLENBQUMscUJBQXFCLEVBQUU3QixjQUFjLE1BQU0sQ0FBQzt3QkFDaEU7a0NBQ0Q7Ozs7OztrQ0FJRCw4REFBQzBCO3dCQUNDYixlQUFZO3dCQUNaYyxTQUFTekI7d0JBQ1RNLFdBQVU7d0JBUVZvQixPQUFPOzRCQUNMQyxpQkFBaUIsQ0FBQyxxQkFBcUIsRUFBRTdCLGNBQWMsTUFBTSxDQUFDO3dCQUNoRTtrQ0FDRDs7Ozs7O2tDQUlELDhEQUFDMEI7d0JBQ0NiLGVBQVk7d0JBQ1pjLFNBQVN2Qjt3QkFDVDBCLFVBQVUsQ0FBQ3pCO3dCQUNYRyxXQUFXLENBQUM7O1lBRVYsRUFDQUgsVUFDSSxrR0FDQSxpREFBaUQsQ0FDcEQ7Ozs7VUFJSCxDQUFDO3dCQUNEdUIsT0FDRXZCLFVBQ0k7NEJBQ0V3QixpQkFBaUIsQ0FBQyxxQkFBcUIsRUFBRTdCLGNBQWMsTUFBTSxDQUFDO3dCQUNoRSxJQUNBK0IsU0FBUztrQ0FFaEI7Ozs7Ozs7Ozs7OzswQkFNSCw4REFBQ3hCO2dCQUFJQyxXQUFVOzBCQUNiLDRFQUFDd0I7b0JBQ0NuQixlQUFZO29CQUNab0IsY0FBWTNCLGVBQWUsWUFBWSxTQUFTO29CQUNoREUsV0FBVTs4QkFDVEYsZUFBZSxxQkFBcUIsd0JBQXdCOzs7Ozs7Ozs7Ozs7Ozs7OztBQUt2RSxFQUFFO0FBRUssTUFBTTRCLHFDQUF1QnJDLGlEQUFVLENBQUNFLGNBQWMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaGVzcy8uL3NyYy93ZWIvY29tcG9uZW50cy9jb250cm9scy9HYW1lQ29udHJvbHMudHN4PzM4ODIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IENVTFRVUkFMX1NUWUxFUyB9IGZyb20gJy4uLy4uLy4uL3NoYXJlZC9jb25zdGFudHMvZ2FtZSc7XG5pbXBvcnQgeyB0aGVtZSB9IGZyb20gJy4uLy4uLy4uL3NoYXJlZC9zdHlsZXMvdGhlbWUnO1xuXG5pbnRlcmZhY2UgR2FtZUNvbnRyb2xzUHJvcHMge1xuICBjdWx0dXJhbFN0eWxlOiBzdHJpbmc7XG4gIG9uU3R5bGVDaGFuZ2U6IChzdHlsZTogc3RyaW5nKSA9PiB2b2lkO1xuICBvbkZsaXBCb2FyZDogKCkgPT4gdm9pZDtcbiAgb25OZXdHYW1lOiAoKSA9PiB2b2lkO1xuICBvblVuZG86ICgpID0+IHZvaWQ7XG4gIGNhblVuZG86IGJvb2xlYW47XG4gIGlzUGxheWVyVHVybjogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNvbnN0IEdhbWVDb250cm9sczogUmVhY3QuRkM8R2FtZUNvbnRyb2xzUHJvcHM+ID0gKHtcbiAgY3VsdHVyYWxTdHlsZSxcbiAgb25TdHlsZUNoYW5nZSxcbiAgb25GbGlwQm9hcmQsXG4gIG9uTmV3R2FtZSxcbiAgb25VbmRvLFxuICBjYW5VbmRvLFxuICBpc1BsYXllclR1cm4sXG59KSA9PiB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGdhcC00IHAtNiBiZy1lbWVyYWxkLTgwMC8zMCBiYWNrZHJvcC1ibHVyLXNtIHJvdW5kZWQteGwgYm9yZGVyIGJvcmRlci1lbWVyYWxkLTYwMC81MCBzaGFkb3cteGxcIj5cbiAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgdGV4dC13aGl0ZSBtYi00IGZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInctOCBoLTggZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcm91bmRlZC1sZyBiZy1lbWVyYWxkLTUwMC8yMFwiPuKame+4jzwvc3Bhbj5cbiAgICAgICAgQ29udHJvbGVzXG4gICAgICA8L2gyPlxuICAgICAgXG4gICAgICB7LyogRXN0aWxvIEN1bHR1cmFsICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGdhcC0yXCI+XG4gICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJ0ZXh0LWVtZXJhbGQtMTAwIHRleHQtc21cIj5Fc3RpbG8gQ3VsdHVyYWw8L2xhYmVsPlxuICAgICAgICA8c2VsZWN0XG4gICAgICAgICAgZGF0YS10ZXN0aWQ9XCJzdHlsZS1zZWxlY3RcIlxuICAgICAgICAgIHZhbHVlPXtjdWx0dXJhbFN0eWxlfVxuICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gb25TdHlsZUNoYW5nZShlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgY2xhc3NOYW1lPVwiXG4gICAgICAgICAgICB3LWZ1bGwgYmctZW1lcmFsZC03MDAvNTAgdGV4dC13aGl0ZSBcbiAgICAgICAgICAgIGJvcmRlciBib3JkZXItZW1lcmFsZC02MDAvNTAgcm91bmRlZC1sZyBcbiAgICAgICAgICAgIHB4LTQgcHktMyBcbiAgICAgICAgICAgIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1lbWVyYWxkLTUwMFxuICAgICAgICAgICAgdHJhbnNpdGlvbi1jb2xvcnNcbiAgICAgICAgICAgIGhvdmVyOmJnLWVtZXJhbGQtNzAwLzcwXG4gICAgICAgICAgXCJcbiAgICAgICAgPlxuICAgICAgICAgIHtPYmplY3QuZW50cmllcyhDVUxUVVJBTF9TVFlMRVMpLm1hcCgoW2tleSwgdmFsdWVdKSA9PiAoXG4gICAgICAgICAgICA8b3B0aW9uIGtleT17a2V5fSB2YWx1ZT17dmFsdWV9IGRhdGEtdGVzdGlkPXtgc3R5bGUtJHt2YWx1ZX1gfT5cbiAgICAgICAgICAgICAge3ZhbHVlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgdmFsdWUuc2xpY2UoMSl9XG4gICAgICAgICAgICA8L29wdGlvbj5cbiAgICAgICAgICApKX1cbiAgICAgICAgPC9zZWxlY3Q+XG4gICAgICA8L2Rpdj5cblxuICAgICAgey8qIEJvdMO1ZXMgZGUgQcOnw6NvICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0yIGdhcC0yXCI+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBkYXRhLXRlc3RpZD1cIm5ldy1nYW1lLWJ0blwiXG4gICAgICAgICAgb25DbGljaz17b25OZXdHYW1lfVxuICAgICAgICAgIGNsYXNzTmFtZT1cIlxuICAgICAgICAgICAgYmctZW1lcmFsZC02MDAvNzAgaG92ZXI6YmctZW1lcmFsZC01MDAgXG4gICAgICAgICAgICB0ZXh0LXdoaXRlIGZvbnQtbWVkaXVtXG4gICAgICAgICAgICByb3VuZGVkLWxnIHB4LTQgcHktMyBcbiAgICAgICAgICAgIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMFxuICAgICAgICAgICAgaG92ZXI6c2hhZG93LWxnIGhvdmVyOnNjYWxlLVsxLjAyXVxuICAgICAgICAgICAgYWN0aXZlOnNjYWxlLVswLjk4XVxuICAgICAgICAgIFwiXG4gICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgIGJhY2tncm91bmRJbWFnZTogYHVybCgnL2ltYWdlcy9idXR0b25zLyR7Y3VsdHVyYWxTdHlsZX0ucG5nJylgXG4gICAgICAgICAgfX1cbiAgICAgICAgPlxuICAgICAgICAgIE5vdmEgUGFydGlkYVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgXG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBkYXRhLXRlc3RpZD1cImZsaXAtYm9hcmQtYnRuXCJcbiAgICAgICAgICBvbkNsaWNrPXtvbkZsaXBCb2FyZH1cbiAgICAgICAgICBjbGFzc05hbWU9XCJcbiAgICAgICAgICAgIGJnLWVtZXJhbGQtNjAwLzcwIGhvdmVyOmJnLWVtZXJhbGQtNTAwIFxuICAgICAgICAgICAgdGV4dC13aGl0ZSBmb250LW1lZGl1bVxuICAgICAgICAgICAgcm91bmRlZC1sZyBweC00IHB5LTMgXG4gICAgICAgICAgICB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0yMDBcbiAgICAgICAgICAgIGhvdmVyOnNoYWRvdy1sZyBob3ZlcjpzY2FsZS1bMS4wMl1cbiAgICAgICAgICAgIGFjdGl2ZTpzY2FsZS1bMC45OF1cbiAgICAgICAgICBcIlxuICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6IGB1cmwoJy9pbWFnZXMvYnV0dG9ucy8ke2N1bHR1cmFsU3R5bGV9LnBuZycpYFxuICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICBJbnZlcnRlciBUYWJ1bGVpcm9cbiAgICAgICAgPC9idXR0b24+XG5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGRhdGEtdGVzdGlkPVwidW5kby1idG5cIlxuICAgICAgICAgIG9uQ2xpY2s9e29uVW5kb31cbiAgICAgICAgICBkaXNhYmxlZD17IWNhblVuZG99XG4gICAgICAgICAgY2xhc3NOYW1lPXtgXG4gICAgICAgICAgICBjb2wtc3Bhbi0yIFxuICAgICAgICAgICAgJHtcbiAgICAgICAgICAgIGNhblVuZG8gXG4gICAgICAgICAgICAgID8gJ2JnLWVtZXJhbGQtNjAwLzcwIGhvdmVyOmJnLWVtZXJhbGQtNTAwIGhvdmVyOnNoYWRvdy1sZyBob3ZlcjpzY2FsZS1bMS4wMl0gYWN0aXZlOnNjYWxlLVswLjk4XScgXG4gICAgICAgICAgICAgIDogJ2JnLWVtZXJhbGQtODAwLzUwIGN1cnNvci1ub3QtYWxsb3dlZCBvcGFjaXR5LTUwJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGV4dC13aGl0ZSBmb250LW1lZGl1bVxuICAgICAgICAgICAgcm91bmRlZC1sZyBweC00IHB5LTNcbiAgICAgICAgICAgIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMFxuICAgICAgICAgIGB9XG4gICAgICAgICAgc3R5bGU9e1xuICAgICAgICAgICAgY2FuVW5kb1xuICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRJbWFnZTogYHVybCgnL2ltYWdlcy9idXR0b25zLyR7Y3VsdHVyYWxTdHlsZX0ucG5nJylgXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICA6IHVuZGVmaW5lZFxuICAgICAgICAgIH1cbiAgICAgICAgPlxuICAgICAgICAgIERlc2ZhemVyIEpvZ2FkYVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7LyogU3RhdHVzIGRvIEpvZ28gKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTIgdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgPHAgXG4gICAgICAgICAgZGF0YS10ZXN0aWQ9XCJnYW1lLXN0YXR1c1wiXG4gICAgICAgICAgZGF0YS1zdGF0ZT17aXNQbGF5ZXJUdXJuID8gXCJwbGF5aW5nXCIgOiBcIndhaXRpbmdcIn1cbiAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LWVtZXJhbGQtMTAwXCI+XG4gICAgICAgICAge2lzUGxheWVyVHVybiA/ICdTdWEgdmV6IGRlIGpvZ2FyJyA6ICdBZ3VhcmRhbmRvIG9wb25lbnRlLi4uJ31cbiAgICAgICAgPC9wPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG5leHBvcnQgY29uc3QgTWVtb2l6ZWRHYW1lQ29udHJvbHMgPSBSZWFjdC5tZW1vKEdhbWVDb250cm9scyk7XG4iXSwibmFtZXMiOlsiUmVhY3QiLCJDVUxUVVJBTF9TVFlMRVMiLCJHYW1lQ29udHJvbHMiLCJjdWx0dXJhbFN0eWxlIiwib25TdHlsZUNoYW5nZSIsIm9uRmxpcEJvYXJkIiwib25OZXdHYW1lIiwib25VbmRvIiwiY2FuVW5kbyIsImlzUGxheWVyVHVybiIsImRpdiIsImNsYXNzTmFtZSIsImgyIiwic3BhbiIsImxhYmVsIiwic2VsZWN0IiwiZGF0YS10ZXN0aWQiLCJ2YWx1ZSIsIm9uQ2hhbmdlIiwiZSIsInRhcmdldCIsIk9iamVjdCIsImVudHJpZXMiLCJtYXAiLCJrZXkiLCJvcHRpb24iLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsInNsaWNlIiwiYnV0dG9uIiwib25DbGljayIsInN0eWxlIiwiYmFja2dyb3VuZEltYWdlIiwiZGlzYWJsZWQiLCJ1bmRlZmluZWQiLCJwIiwiZGF0YS1zdGF0ZSIsIk1lbW9pemVkR2FtZUNvbnRyb2xzIiwibWVtbyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/web/components/controls/GameControls.tsx\n");

/***/ }),

/***/ "./src/web/components/info/GameInfo.tsx":
/*!**********************************************!*\
  !*** ./src/web/components/info/GameInfo.tsx ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"GameInfo\": () => (/* binding */ GameInfo),\n/* harmony export */   \"MemoizedGameInfo\": () => (/* binding */ MemoizedGameInfo)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var styled_jsx_style__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! styled-jsx/style */ \"styled-jsx/style\");\n/* harmony import */ var styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(styled_jsx_style__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\nconst GameInfo = ({ culturalStyle , moves , evaluation , narratives , events  })=>{\n    // Formata a avaliação como string com sinal\n    const formatEvaluation = (value)=>{\n        const absEval = Math.abs(value);\n        const sign = value > 0 ? \"+\" : value < 0 ? \"-\" : \"\";\n        return `${sign}${absEval.toFixed(1)}`;\n    };\n    // Formata o movimento para exibição\n    const formatMove = (move)=>{\n        const pieceSymbols = {\n            p: \"\",\n            n: \"N\",\n            b: \"B\",\n            r: \"R\",\n            q: \"Q\",\n            k: \"K\"\n        };\n        const piece = pieceSymbols[move.piece.type] || \"\";\n        const capture = move.captured ? \"x\" : \"\";\n        const promotion = move.promotion ? `=${pieceSymbols[move.promotion]}` : \"\";\n        const to = `${String.fromCharCode(97 + move.to.col)}${8 - move.to.row}`;\n        return `${piece}${capture}${to}${promotion}`;\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"jsx-69ab07c9acd91bbc\" + \" \" + \"flex flex-col gap-4\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                \"data-testid\": \"evaluation-panel\",\n                className: \"jsx-69ab07c9acd91bbc\" + \" \" + \"bg-emerald-800/30 backdrop-blur-sm rounded-xl border border-emerald-600/50 shadow-xl p-6\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        className: \"jsx-69ab07c9acd91bbc\" + \" \" + \"text-2xl font-bold text-white mb-4 flex items-center gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"jsx-69ab07c9acd91bbc\" + \" \" + \"w-8 h-8 flex items-center justify-center rounded-lg bg-emerald-500/20\",\n                                children: \"\\uD83D\\uDCCA\"\n                            }, void 0, false, {\n                                fileName: \"/Users/jx/WORKSPACE/PROJECTS/CHESS/src/web/components/info/GameInfo.tsx\",\n                                lineNumber: 57,\n                                columnNumber: 11\n                            }, undefined),\n                            \"Avalia\\xe7\\xe3o\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/jx/WORKSPACE/PROJECTS/CHESS/src/web/components/info/GameInfo.tsx\",\n                        lineNumber: 56,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"jsx-69ab07c9acd91bbc\" + \" \" + \"flex items-center justify-between\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"jsx-69ab07c9acd91bbc\" + \" \" + \"text-emerald-100\",\n                                children: \"Posi\\xe7\\xe3o atual:\"\n                            }, void 0, false, {\n                                fileName: \"/Users/jx/WORKSPACE/PROJECTS/CHESS/src/web/components/info/GameInfo.tsx\",\n                                lineNumber: 61,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                \"data-testid\": \"evaluation-value\",\n                                \"data-value\": evaluation,\n                                className: \"jsx-69ab07c9acd91bbc\" + \" \" + `text-lg font-bold ${evaluation > 0 ? \"text-emerald-400\" : evaluation < 0 ? \"text-red-400\" : \"text-gray-400\"}`,\n                                children: formatEvaluation(evaluation)\n                            }, void 0, false, {\n                                fileName: \"/Users/jx/WORKSPACE/PROJECTS/CHESS/src/web/components/info/GameInfo.tsx\",\n                                lineNumber: 62,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/jx/WORKSPACE/PROJECTS/CHESS/src/web/components/info/GameInfo.tsx\",\n                        lineNumber: 60,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/jx/WORKSPACE/PROJECTS/CHESS/src/web/components/info/GameInfo.tsx\",\n                lineNumber: 52,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                \"data-testid\": \"narratives-panel\",\n                className: \"jsx-69ab07c9acd91bbc\" + \" \" + \"bg-emerald-800/30 backdrop-blur-sm rounded-xl border border-emerald-600/50 shadow-xl p-6\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        className: \"jsx-69ab07c9acd91bbc\" + \" \" + \"text-2xl font-bold text-white mb-4 flex items-center gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"jsx-69ab07c9acd91bbc\" + \" \" + \"w-8 h-8 flex items-center justify-center rounded-lg bg-emerald-500/20\",\n                                children: \"\\uD83D\\uDCD6\"\n                            }, void 0, false, {\n                                fileName: \"/Users/jx/WORKSPACE/PROJECTS/CHESS/src/web/components/info/GameInfo.tsx\",\n                                lineNumber: 84,\n                                columnNumber: 11\n                            }, undefined),\n                            \"Narrativas\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/jx/WORKSPACE/PROJECTS/CHESS/src/web/components/info/GameInfo.tsx\",\n                        lineNumber: 83,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"jsx-69ab07c9acd91bbc\" + \" \" + \"space-y-2\",\n                        children: narratives.map((narrative, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                \"data-testid\": `narrative-${index}`,\n                                className: \"jsx-69ab07c9acd91bbc\" + \" \" + \"text-emerald-100 text-sm\",\n                                children: narrative\n                            }, index, false, {\n                                fileName: \"/Users/jx/WORKSPACE/PROJECTS/CHESS/src/web/components/info/GameInfo.tsx\",\n                                lineNumber: 89,\n                                columnNumber: 13\n                            }, undefined))\n                    }, void 0, false, {\n                        fileName: \"/Users/jx/WORKSPACE/PROJECTS/CHESS/src/web/components/info/GameInfo.tsx\",\n                        lineNumber: 87,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/jx/WORKSPACE/PROJECTS/CHESS/src/web/components/info/GameInfo.tsx\",\n                lineNumber: 79,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                \"data-testid\": \"move-history\",\n                className: \"jsx-69ab07c9acd91bbc\" + \" \" + \"bg-emerald-800/30 backdrop-blur-sm rounded-xl border border-emerald-600/50 shadow-xl p-6 max-h-48 overflow-y-auto scrollbar-custom\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        className: \"jsx-69ab07c9acd91bbc\" + \" \" + \"text-2xl font-bold text-white mb-4 flex items-center gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"jsx-69ab07c9acd91bbc\" + \" \" + \"w-8 h-8 flex items-center justify-center rounded-lg bg-emerald-500/20\",\n                                children: \"♟️\"\n                            }, void 0, false, {\n                                fileName: \"/Users/jx/WORKSPACE/PROJECTS/CHESS/src/web/components/info/GameInfo.tsx\",\n                                lineNumber: 106,\n                                columnNumber: 11\n                            }, undefined),\n                            \"Movimentos\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/jx/WORKSPACE/PROJECTS/CHESS/src/web/components/info/GameInfo.tsx\",\n                        lineNumber: 105,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"jsx-69ab07c9acd91bbc\" + \" \" + \"grid grid-cols-2 gap-2\",\n                        children: moves.map((move, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                \"data-testid\": `move-history-item-${index}`,\n                                className: \"jsx-69ab07c9acd91bbc\" + \" \" + `text-sm ${index % 2 === 0 ? \"text-right\" : \"text-left\"}`,\n                                children: [\n                                    index % 2 === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"jsx-69ab07c9acd91bbc\" + \" \" + \"text-emerald-400 mr-2\",\n                                        children: [\n                                            Math.floor(index / 2) + 1,\n                                            \".\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/jx/WORKSPACE/PROJECTS/CHESS/src/web/components/info/GameInfo.tsx\",\n                                        lineNumber: 117,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"jsx-69ab07c9acd91bbc\" + \" \" + \"text-emerald-100\",\n                                        children: formatMove(move)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jx/WORKSPACE/PROJECTS/CHESS/src/web/components/info/GameInfo.tsx\",\n                                        lineNumber: 121,\n                                        columnNumber: 15\n                                    }, undefined)\n                                ]\n                            }, index, true, {\n                                fileName: \"/Users/jx/WORKSPACE/PROJECTS/CHESS/src/web/components/info/GameInfo.tsx\",\n                                lineNumber: 111,\n                                columnNumber: 13\n                            }, undefined))\n                    }, void 0, false, {\n                        fileName: \"/Users/jx/WORKSPACE/PROJECTS/CHESS/src/web/components/info/GameInfo.tsx\",\n                        lineNumber: 109,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/jx/WORKSPACE/PROJECTS/CHESS/src/web/components/info/GameInfo.tsx\",\n                lineNumber: 101,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                \"data-testid\": \"events-panel\",\n                className: \"jsx-69ab07c9acd91bbc\" + \" \" + \"bg-emerald-800/30 backdrop-blur-sm rounded-xl border border-emerald-600/50 shadow-xl p-6 max-h-48 overflow-y-auto scrollbar-custom\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        className: \"jsx-69ab07c9acd91bbc\" + \" \" + \"text-2xl font-bold text-white mb-4 flex items-center gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"jsx-69ab07c9acd91bbc\" + \" \" + \"w-8 h-8 flex items-center justify-center rounded-lg bg-emerald-500/20\",\n                                children: \"\\uD83C\\uDFAD\"\n                            }, void 0, false, {\n                                fileName: \"/Users/jx/WORKSPACE/PROJECTS/CHESS/src/web/components/info/GameInfo.tsx\",\n                                lineNumber: 133,\n                                columnNumber: 11\n                            }, undefined),\n                            \"Eventos\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/jx/WORKSPACE/PROJECTS/CHESS/src/web/components/info/GameInfo.tsx\",\n                        lineNumber: 132,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"jsx-69ab07c9acd91bbc\" + \" \" + \"space-y-2\",\n                        children: events.map((event, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                \"data-testid\": `event-${index}`,\n                                className: \"jsx-69ab07c9acd91bbc\" + \" \" + \"flex items-center gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"jsx-69ab07c9acd91bbc\" + \" \" + \"text-emerald-400 text-xs\",\n                                        children: new Date(event.timestamp).toLocaleTimeString()\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jx/WORKSPACE/PROJECTS/CHESS/src/web/components/info/GameInfo.tsx\",\n                                        lineNumber: 143,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"jsx-69ab07c9acd91bbc\" + \" \" + \"text-emerald-100 text-sm\",\n                                        children: event.description\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jx/WORKSPACE/PROJECTS/CHESS/src/web/components/info/GameInfo.tsx\",\n                                        lineNumber: 146,\n                                        columnNumber: 15\n                                    }, undefined)\n                                ]\n                            }, index, true, {\n                                fileName: \"/Users/jx/WORKSPACE/PROJECTS/CHESS/src/web/components/info/GameInfo.tsx\",\n                                lineNumber: 138,\n                                columnNumber: 13\n                            }, undefined))\n                    }, void 0, false, {\n                        fileName: \"/Users/jx/WORKSPACE/PROJECTS/CHESS/src/web/components/info/GameInfo.tsx\",\n                        lineNumber: 136,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/jx/WORKSPACE/PROJECTS/CHESS/src/web/components/info/GameInfo.tsx\",\n                lineNumber: 128,\n                columnNumber: 7\n            }, undefined),\n            (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default()), {\n                id: \"69ab07c9acd91bbc\",\n                children: \".scrollbar-custom{scrollbar-width:thin;scrollbar-color:#059669#065f46}.scrollbar-custom::-webkit-scrollbar{width:8px}.scrollbar-custom::-webkit-scrollbar-track{background:#065f46;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px}.scrollbar-custom::-webkit-scrollbar-thumb{background:#059669;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px}.scrollbar-custom::-webkit-scrollbar-thumb:hover{background:#10b981}\"\n            }, void 0, false, void 0, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/jx/WORKSPACE/PROJECTS/CHESS/src/web/components/info/GameInfo.tsx\",\n        lineNumber: 50,\n        columnNumber: 5\n    }, undefined);\n};\nconst MemoizedGameInfo = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_2___default().memo(GameInfo);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvd2ViL2NvbXBvbmVudHMvaW5mby9HYW1lSW5mby50c3guanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUEwQjtBQWVuQixNQUFNQyxXQUFvQyxDQUFDLEVBQ2hEQyxjQUFhLEVBQ2JDLE1BQUssRUFDTEMsV0FBVSxFQUNWQyxXQUFVLEVBQ1ZDLE9BQU0sRUFDUCxHQUFLO0lBQ0osNENBQTRDO0lBQzVDLE1BQU1DLG1CQUFtQixDQUFDQyxRQUEwQjtRQUNsRCxNQUFNQyxVQUFVQyxLQUFLQyxHQUFHLENBQUNIO1FBQ3pCLE1BQU1JLE9BQU9KLFFBQVEsSUFBSSxNQUFNQSxRQUFRLElBQUksTUFBTSxFQUFFO1FBQ25ELE9BQU8sQ0FBQyxFQUFFSSxLQUFLLEVBQUVILFFBQVFJLE9BQU8sQ0FBQyxHQUFHLENBQUM7SUFDdkM7SUFFQSxvQ0FBb0M7SUFDcEMsTUFBTUMsYUFBYSxDQUFDQyxPQUE0QjtRQUM5QyxNQUFNQyxlQUF1QztZQUMzQ0MsR0FBRztZQUNIQyxHQUFHO1lBQ0hDLEdBQUc7WUFDSEMsR0FBRztZQUNIQyxHQUFHO1lBQ0hDLEdBQUc7UUFDTDtRQUVBLE1BQU1DLFFBQVFQLFlBQVksQ0FBQ0QsS0FBS1EsS0FBSyxDQUFDQyxJQUFJLENBQUMsSUFBSTtRQUMvQyxNQUFNQyxVQUFVVixLQUFLVyxRQUFRLEdBQUcsTUFBTSxFQUFFO1FBQ3hDLE1BQU1DLFlBQVlaLEtBQUtZLFNBQVMsR0FBRyxDQUFDLENBQUMsRUFBRVgsWUFBWSxDQUFDRCxLQUFLWSxTQUFTLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRTtRQUMxRSxNQUFNQyxLQUFLLENBQUMsRUFBRUMsT0FBT0MsWUFBWSxDQUFDLEtBQUtmLEtBQUthLEVBQUUsQ0FBQ0csR0FBRyxFQUFFLEVBQUUsSUFBSWhCLEtBQUthLEVBQUUsQ0FBQ0ksR0FBRyxDQUFDLENBQUM7UUFFdkUsT0FBTyxDQUFDLEVBQUVULE1BQU0sRUFBRUUsUUFBUSxFQUFFRyxHQUFHLEVBQUVELFVBQVUsQ0FBQztJQUM5QztJQUVBLHFCQUNFLDhEQUFDTTtrREFBYzs7MEJBRWIsOERBQUNBO2dCQUNDQyxlQUFZOzBEQUNGOztrQ0FFViw4REFBQ0M7a0VBQWE7OzBDQUNaLDhEQUFDQzswRUFBZTswQ0FBd0U7Ozs7Ozs0QkFBUzs7Ozs7OztrQ0FHbkcsOERBQUNIO2tFQUFjOzswQ0FDYiw4REFBQ0c7MEVBQWU7MENBQW1COzs7Ozs7MENBQ25DLDhEQUFDQTtnQ0FDQ0YsZUFBWTtnQ0FDWkcsY0FBWWpDOzBFQUNELENBQUMsa0JBQWtCLEVBQzVCQSxhQUFhLElBQ1QscUJBQ0FBLGFBQWEsSUFDYixpQkFDQSxlQUFlLENBQ3BCLENBQUM7MENBRURHLGlCQUFpQkg7Ozs7Ozs7Ozs7Ozs7Ozs7OzswQkFNeEIsOERBQUM2QjtnQkFDQ0MsZUFBWTswREFDRjs7a0NBRVYsOERBQUNDO2tFQUFhOzswQ0FDWiw4REFBQ0M7MEVBQWU7MENBQXdFOzs7Ozs7NEJBQVM7Ozs7Ozs7a0NBR25HLDhEQUFDSDtrRUFBYztrQ0FDWjVCLFdBQVdpQyxHQUFHLENBQUMsQ0FBQ0MsV0FBV0Msc0JBQzFCLDhEQUFDdkI7Z0NBRUNpQixlQUFhLENBQUMsVUFBVSxFQUFFTSxNQUFNLENBQUM7MEVBQ3ZCOzBDQUVURDsrQkFKSUM7Ozs7Ozs7Ozs7Ozs7Ozs7MEJBV2IsOERBQUNQO2dCQUNDQyxlQUFZOzBEQUNGOztrQ0FFViw4REFBQ0M7a0VBQWE7OzBDQUNaLDhEQUFDQzswRUFBZTswQ0FBd0U7Ozs7Ozs0QkFBUzs7Ozs7OztrQ0FHbkcsOERBQUNIO2tFQUFjO2tDQUNaOUIsTUFBTW1DLEdBQUcsQ0FBQyxDQUFDdkIsTUFBTXlCLHNCQUNoQiw4REFBQ1A7Z0NBRUNDLGVBQWEsQ0FBQyxrQkFBa0IsRUFBRU0sTUFBTSxDQUFDOzBFQUM5QixDQUFDLFFBQVEsRUFBRUEsUUFBUSxNQUFNLElBQUksZUFBZSxXQUFXLENBQUMsQ0FBQzs7b0NBRW5FQSxRQUFRLE1BQU0sbUJBQ2IsOERBQUNKO2tGQUFlOzs0Q0FDYjFCLEtBQUsrQixLQUFLLENBQUNELFFBQVEsS0FBSzs0Q0FBRTs7Ozs7OztrREFHL0IsOERBQUNKO2tGQUFlO2tEQUFvQnRCLFdBQVdDOzs7Ozs7OytCQVQxQ3lCOzs7Ozs7Ozs7Ozs7Ozs7OzBCQWdCYiw4REFBQ1A7Z0JBQ0NDLGVBQVk7MERBQ0Y7O2tDQUVWLDhEQUFDQztrRUFBYTs7MENBQ1osOERBQUNDOzBFQUFlOzBDQUF3RTs7Ozs7OzRCQUFTOzs7Ozs7O2tDQUduRyw4REFBQ0g7a0VBQWM7a0NBQ1ozQixPQUFPZ0MsR0FBRyxDQUFDLENBQUNJLE9BQU9GLHNCQUNsQiw4REFBQ1A7Z0NBRUNDLGVBQWEsQ0FBQyxNQUFNLEVBQUVNLE1BQU0sQ0FBQzswRUFDbkI7O2tEQUVWLDhEQUFDSjtrRkFBZTtrREFDYixJQUFJTyxLQUFLRCxNQUFNRSxTQUFTLEVBQUVDLGtCQUFrQjs7Ozs7O2tEQUUvQyw4REFBQ1Q7a0ZBQWU7a0RBQ2JNLE1BQU1JLFdBQVc7Ozs7Ozs7K0JBUmZOOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQXNDbkIsRUFBRTtBQUVLLE1BQU1PLGlDQUFtQi9DLGlEQUFVLENBQUNDLFVBQVUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaGVzcy8uL3NyYy93ZWIvY29tcG9uZW50cy9pbmZvL0dhbWVJbmZvLnRzeD9jM2JhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBDaGVzc01vdmUgfSBmcm9tICcuLi8uLi8uLi9zaGFyZWQvdHlwZXMvY2hlc3MnO1xuXG5pbnRlcmZhY2UgR2FtZUluZm9Qcm9wcyB7XG4gIGN1bHR1cmFsU3R5bGU6IHN0cmluZztcbiAgbW92ZXM6IENoZXNzTW92ZVtdO1xuICBldmFsdWF0aW9uOiBudW1iZXI7XG4gIG5hcnJhdGl2ZXM6IHN0cmluZ1tdO1xuICBldmVudHM6IEFycmF5PHtcbiAgICB0eXBlOiBzdHJpbmc7XG4gICAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgICB0aW1lc3RhbXA6IG51bWJlcjtcbiAgfT47XG59XG5cbmV4cG9ydCBjb25zdCBHYW1lSW5mbzogUmVhY3QuRkM8R2FtZUluZm9Qcm9wcz4gPSAoe1xuICBjdWx0dXJhbFN0eWxlLFxuICBtb3ZlcyxcbiAgZXZhbHVhdGlvbixcbiAgbmFycmF0aXZlcyxcbiAgZXZlbnRzLFxufSkgPT4ge1xuICAvLyBGb3JtYXRhIGEgYXZhbGlhw6fDo28gY29tbyBzdHJpbmcgY29tIHNpbmFsXG4gIGNvbnN0IGZvcm1hdEV2YWx1YXRpb24gPSAodmFsdWU6IG51bWJlcik6IHN0cmluZyA9PiB7XG4gICAgY29uc3QgYWJzRXZhbCA9IE1hdGguYWJzKHZhbHVlKTtcbiAgICBjb25zdCBzaWduID0gdmFsdWUgPiAwID8gJysnIDogdmFsdWUgPCAwID8gJy0nIDogJyc7XG4gICAgcmV0dXJuIGAke3NpZ259JHthYnNFdmFsLnRvRml4ZWQoMSl9YDtcbiAgfTtcblxuICAvLyBGb3JtYXRhIG8gbW92aW1lbnRvIHBhcmEgZXhpYmnDp8Ojb1xuICBjb25zdCBmb3JtYXRNb3ZlID0gKG1vdmU6IENoZXNzTW92ZSk6IHN0cmluZyA9PiB7XG4gICAgY29uc3QgcGllY2VTeW1ib2xzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuICAgICAgcDogJycsXG4gICAgICBuOiAnTicsXG4gICAgICBiOiAnQicsXG4gICAgICByOiAnUicsXG4gICAgICBxOiAnUScsXG4gICAgICBrOiAnSycsXG4gICAgfTtcblxuICAgIGNvbnN0IHBpZWNlID0gcGllY2VTeW1ib2xzW21vdmUucGllY2UudHlwZV0gfHwgJyc7XG4gICAgY29uc3QgY2FwdHVyZSA9IG1vdmUuY2FwdHVyZWQgPyAneCcgOiAnJztcbiAgICBjb25zdCBwcm9tb3Rpb24gPSBtb3ZlLnByb21vdGlvbiA/IGA9JHtwaWVjZVN5bWJvbHNbbW92ZS5wcm9tb3Rpb25dfWAgOiAnJztcbiAgICBjb25zdCB0byA9IGAke1N0cmluZy5mcm9tQ2hhckNvZGUoOTcgKyBtb3ZlLnRvLmNvbCl9JHs4IC0gbW92ZS50by5yb3d9YDtcblxuICAgIHJldHVybiBgJHtwaWVjZX0ke2NhcHR1cmV9JHt0b30ke3Byb21vdGlvbn1gO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGdhcC00XCI+XG4gICAgICB7LyogQXZhbGlhw6fDo28gKi99XG4gICAgICA8ZGl2IFxuICAgICAgICBkYXRhLXRlc3RpZD1cImV2YWx1YXRpb24tcGFuZWxcIlxuICAgICAgICBjbGFzc05hbWU9XCJiZy1lbWVyYWxkLTgwMC8zMCBiYWNrZHJvcC1ibHVyLXNtIHJvdW5kZWQteGwgYm9yZGVyIGJvcmRlci1lbWVyYWxkLTYwMC81MCBzaGFkb3cteGwgcC02XCJcbiAgICAgID5cbiAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LXdoaXRlIG1iLTQgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ3LTggaC04IGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHJvdW5kZWQtbGcgYmctZW1lcmFsZC01MDAvMjBcIj7wn5OKPC9zcGFuPlxuICAgICAgICAgIEF2YWxpYcOnw6NvXG4gICAgICAgIDwvaDI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1lbWVyYWxkLTEwMFwiPlBvc2nDp8OjbyBhdHVhbDo8L3NwYW4+XG4gICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgIGRhdGEtdGVzdGlkPVwiZXZhbHVhdGlvbi12YWx1ZVwiXG4gICAgICAgICAgICBkYXRhLXZhbHVlPXtldmFsdWF0aW9ufVxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgdGV4dC1sZyBmb250LWJvbGQgJHtcbiAgICAgICAgICAgICAgZXZhbHVhdGlvbiA+IDBcbiAgICAgICAgICAgICAgICA/ICd0ZXh0LWVtZXJhbGQtNDAwJ1xuICAgICAgICAgICAgICAgIDogZXZhbHVhdGlvbiA8IDBcbiAgICAgICAgICAgICAgICA/ICd0ZXh0LXJlZC00MDAnXG4gICAgICAgICAgICAgICAgOiAndGV4dC1ncmF5LTQwMCdcbiAgICAgICAgICAgIH1gfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtmb3JtYXRFdmFsdWF0aW9uKGV2YWx1YXRpb24pfVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgey8qIE5hcnJhdGl2YXMgQ3VsdHVyYWlzICovfVxuICAgICAgPGRpdiBcbiAgICAgICAgZGF0YS10ZXN0aWQ9XCJuYXJyYXRpdmVzLXBhbmVsXCJcbiAgICAgICAgY2xhc3NOYW1lPVwiYmctZW1lcmFsZC04MDAvMzAgYmFja2Ryb3AtYmx1ci1zbSByb3VuZGVkLXhsIGJvcmRlciBib3JkZXItZW1lcmFsZC02MDAvNTAgc2hhZG93LXhsIHAtNlwiXG4gICAgICA+XG4gICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgdGV4dC13aGl0ZSBtYi00IGZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidy04IGgtOCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciByb3VuZGVkLWxnIGJnLWVtZXJhbGQtNTAwLzIwXCI+8J+Tljwvc3Bhbj5cbiAgICAgICAgICBOYXJyYXRpdmFzXG4gICAgICAgIDwvaDI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XG4gICAgICAgICAge25hcnJhdGl2ZXMubWFwKChuYXJyYXRpdmUsIGluZGV4KSA9PiAoXG4gICAgICAgICAgICA8cCBcbiAgICAgICAgICAgICAga2V5PXtpbmRleH0gXG4gICAgICAgICAgICAgIGRhdGEtdGVzdGlkPXtgbmFycmF0aXZlLSR7aW5kZXh9YH1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC1lbWVyYWxkLTEwMCB0ZXh0LXNtXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge25hcnJhdGl2ZX1cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICApKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgey8qIEhpc3TDs3JpY28gZGUgTW92aW1lbnRvcyAqL31cbiAgICAgIDxkaXZcbiAgICAgICAgZGF0YS10ZXN0aWQ9XCJtb3ZlLWhpc3RvcnlcIlxuICAgICAgICBjbGFzc05hbWU9XCJiZy1lbWVyYWxkLTgwMC8zMCBiYWNrZHJvcC1ibHVyLXNtIHJvdW5kZWQteGwgYm9yZGVyIGJvcmRlci1lbWVyYWxkLTYwMC81MCBzaGFkb3cteGwgcC02IG1heC1oLTQ4IG92ZXJmbG93LXktYXV0byBzY3JvbGxiYXItY3VzdG9tXCJcbiAgICAgID5cbiAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LXdoaXRlIG1iLTQgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ3LTggaC04IGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHJvdW5kZWQtbGcgYmctZW1lcmFsZC01MDAvMjBcIj7imZ/vuI88L3NwYW4+XG4gICAgICAgICAgTW92aW1lbnRvc1xuICAgICAgICA8L2gyPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTIgZ2FwLTJcIj5cbiAgICAgICAgICB7bW92ZXMubWFwKChtb3ZlLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICBrZXk9e2luZGV4fVxuICAgICAgICAgICAgICBkYXRhLXRlc3RpZD17YG1vdmUtaGlzdG9yeS1pdGVtLSR7aW5kZXh9YH1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgdGV4dC1zbSAke2luZGV4ICUgMiA9PT0gMCA/ICd0ZXh0LXJpZ2h0JyA6ICd0ZXh0LWxlZnQnfWB9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtpbmRleCAlIDIgPT09IDAgJiYgKFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZW1lcmFsZC00MDAgbXItMlwiPlxuICAgICAgICAgICAgICAgICAge01hdGguZmxvb3IoaW5kZXggLyAyKSArIDF9LlxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1lbWVyYWxkLTEwMFwiPntmb3JtYXRNb3ZlKG1vdmUpfTwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICkpfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7LyogRXZlbnRvcyBDdWx0dXJhaXMgKi99XG4gICAgICA8ZGl2XG4gICAgICAgIGRhdGEtdGVzdGlkPVwiZXZlbnRzLXBhbmVsXCJcbiAgICAgICAgY2xhc3NOYW1lPVwiYmctZW1lcmFsZC04MDAvMzAgYmFja2Ryb3AtYmx1ci1zbSByb3VuZGVkLXhsIGJvcmRlciBib3JkZXItZW1lcmFsZC02MDAvNTAgc2hhZG93LXhsIHAtNiBtYXgtaC00OCBvdmVyZmxvdy15LWF1dG8gc2Nyb2xsYmFyLWN1c3RvbVwiXG4gICAgICA+XG4gICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgdGV4dC13aGl0ZSBtYi00IGZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidy04IGgtOCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciByb3VuZGVkLWxnIGJnLWVtZXJhbGQtNTAwLzIwXCI+8J+OrTwvc3Bhbj5cbiAgICAgICAgICBFdmVudG9zXG4gICAgICAgIDwvaDI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XG4gICAgICAgICAge2V2ZW50cy5tYXAoKGV2ZW50LCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgICAga2V5PXtpbmRleH0gXG4gICAgICAgICAgICAgIGRhdGEtdGVzdGlkPXtgZXZlbnQtJHtpbmRleH1gfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZW1lcmFsZC00MDAgdGV4dC14c1wiPlxuICAgICAgICAgICAgICAgIHtuZXcgRGF0ZShldmVudC50aW1lc3RhbXApLnRvTG9jYWxlVGltZVN0cmluZygpfVxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZW1lcmFsZC0xMDAgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgIHtldmVudC5kZXNjcmlwdGlvbn1cbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKSl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBFc3RpbG8gcGFyYSBzY3JvbGxiYXJzICovfVxuICAgICAgPHN0eWxlIGpzeCBnbG9iYWw+e2BcbiAgICAgICAgLnNjcm9sbGJhci1jdXN0b20ge1xuICAgICAgICAgIHNjcm9sbGJhci13aWR0aDogdGhpbjtcbiAgICAgICAgICBzY3JvbGxiYXItY29sb3I6ICMwNTk2NjkgIzA2NWY0NjtcbiAgICAgICAgfVxuICAgICAgICAuc2Nyb2xsYmFyLWN1c3RvbTo6LXdlYmtpdC1zY3JvbGxiYXIge1xuICAgICAgICAgIHdpZHRoOiA4cHg7XG4gICAgICAgIH1cbiAgICAgICAgLnNjcm9sbGJhci1jdXN0b206Oi13ZWJraXQtc2Nyb2xsYmFyLXRyYWNrIHtcbiAgICAgICAgICBiYWNrZ3JvdW5kOiAjMDY1ZjQ2O1xuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgICAgfVxuICAgICAgICAuc2Nyb2xsYmFyLWN1c3RvbTo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIge1xuICAgICAgICAgIGJhY2tncm91bmQ6ICMwNTk2Njk7XG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgICAgICB9XG4gICAgICAgIC5zY3JvbGxiYXItY3VzdG9tOjotd2Via2l0LXNjcm9sbGJhci10aHVtYjpob3ZlciB7XG4gICAgICAgICAgYmFja2dyb3VuZDogIzEwYjk4MTtcbiAgICAgICAgfVxuICAgICAgYH08L3N0eWxlPlxuICAgIDwvZGl2PlxuICApO1xufTtcblxuZXhwb3J0IGNvbnN0IE1lbW9pemVkR2FtZUluZm8gPSBSZWFjdC5tZW1vKEdhbWVJbmZvKTtcbiJdLCJuYW1lcyI6WyJSZWFjdCIsIkdhbWVJbmZvIiwiY3VsdHVyYWxTdHlsZSIsIm1vdmVzIiwiZXZhbHVhdGlvbiIsIm5hcnJhdGl2ZXMiLCJldmVudHMiLCJmb3JtYXRFdmFsdWF0aW9uIiwidmFsdWUiLCJhYnNFdmFsIiwiTWF0aCIsImFicyIsInNpZ24iLCJ0b0ZpeGVkIiwiZm9ybWF0TW92ZSIsIm1vdmUiLCJwaWVjZVN5bWJvbHMiLCJwIiwibiIsImIiLCJyIiwicSIsImsiLCJwaWVjZSIsInR5cGUiLCJjYXB0dXJlIiwiY2FwdHVyZWQiLCJwcm9tb3Rpb24iLCJ0byIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsImNvbCIsInJvdyIsImRpdiIsImRhdGEtdGVzdGlkIiwiaDIiLCJzcGFuIiwiZGF0YS12YWx1ZSIsIm1hcCIsIm5hcnJhdGl2ZSIsImluZGV4IiwiZmxvb3IiLCJldmVudCIsIkRhdGUiLCJ0aW1lc3RhbXAiLCJ0b0xvY2FsZVRpbWVTdHJpbmciLCJkZXNjcmlwdGlvbiIsIk1lbW9pemVkR2FtZUluZm8iLCJtZW1vIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/web/components/info/GameInfo.tsx\n");

/***/ }),

/***/ "./src/web/hooks/useGameState.ts":
/*!***************************************!*\
  !*** ./src/web/hooks/useGameState.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"useGameState\": () => (/* binding */ useGameState)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _shared_constants_game__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shared/constants/game */ \"./src/shared/constants/game.ts\");\n/* harmony import */ var _shared_utils_chess__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../shared/utils/chess */ \"./src/shared/utils/chess.ts\");\n\n\n\nfunction useGameState({ initialFen =_shared_constants_game__WEBPACK_IMPORTED_MODULE_1__.INITIAL_FEN , culturalStyle =\"modern\" , timeControl  } = {}) {\n    // Estado do jogo\n    const [gameState, setGameState] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n        id: crypto.randomUUID(),\n        fen: initialFen,\n        moveHistory: [],\n        currentPlayer: \"white\",\n        isCheck: false,\n        isCheckmate: false,\n        isDraw: false,\n        status: _shared_constants_game__WEBPACK_IMPORTED_MODULE_1__.GAME_STATUS.ACTIVE,\n        timeControl\n    });\n    // Estado da interface\n    const [selectedSquare, setSelectedSquare] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [possibleMoves, setPossibleMoves] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [lastMove, setLastMove] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    // Reseta o jogo para o estado inicial\n    const resetGame = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        setGameState({\n            id: crypto.randomUUID(),\n            fen: initialFen,\n            moveHistory: [],\n            currentPlayer: \"white\",\n            isCheck: false,\n            isCheckmate: false,\n            isDraw: false,\n            status: _shared_constants_game__WEBPACK_IMPORTED_MODULE_1__.GAME_STATUS.ACTIVE,\n            timeControl\n        });\n        setSelectedSquare(null);\n        setPossibleMoves([]);\n        setLastMove(null);\n    }, [\n        initialFen,\n        timeControl\n    ]);\n    // Retorna a peça em uma posição específica\n    const pieceAt = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((position)=>{\n        const { row , col  } = position;\n        const fenParts = gameState.fen.split(\" \");\n        const boardFen = fenParts[0];\n        const ranks = boardFen.split(\"/\");\n        // Converte a posição do tabuleiro para o índice no FEN\n        let currentRank = ranks[row];\n        let currentCol = 0;\n        for(let i = 0; i < currentRank.length; i++){\n            const char = currentRank[i];\n            if (isNaN(parseInt(char))) {\n                if (currentCol === col) {\n                    const isWhite = char === char.toUpperCase();\n                    const pieceType = char.toLowerCase();\n                    return {\n                        type: pieceType,\n                        color: isWhite ? \"white\" : \"black\"\n                    };\n                }\n                currentCol++;\n            } else {\n                currentCol += parseInt(char);\n                if (currentCol > col) {\n                    return undefined;\n                }\n            }\n        }\n        return undefined;\n    }, [\n        gameState.fen\n    ]);\n    // Calcula movimentos possíveis para uma peça\n    const calculatePossibleMoves = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((position, piece)=>{\n        const moves = [];\n        const { row , col  } = position;\n        // Direções de movimento por tipo de peça\n        const directions = [];\n        switch(piece.type){\n            case \"p\":\n                const direction = piece.color === \"white\" ? -1 : 1;\n                const startRow = piece.color === \"white\" ? 6 : 1;\n                // Movimento para frente\n                if ((0,_shared_utils_chess__WEBPACK_IMPORTED_MODULE_2__.isValidPosition)({\n                    row: row + direction,\n                    col\n                }) && !pieceAt({\n                    row: row + direction,\n                    col\n                })) {\n                    moves.push({\n                        row: row + direction,\n                        col\n                    });\n                    // Movimento duplo inicial\n                    if (row === startRow && !pieceAt({\n                        row: row + 2 * direction,\n                        col\n                    })) {\n                        moves.push({\n                            row: row + 2 * direction,\n                            col\n                        });\n                    }\n                }\n                // Capturas diagonais\n                for (const dx of [\n                    -1,\n                    1\n                ]){\n                    const newPos = {\n                        row: row + direction,\n                        col: col + dx\n                    };\n                    if ((0,_shared_utils_chess__WEBPACK_IMPORTED_MODULE_2__.isValidPosition)(newPos)) {\n                        const targetPiece = pieceAt(newPos);\n                        if (targetPiece && targetPiece.color !== piece.color) {\n                            moves.push(newPos);\n                        }\n                    }\n                }\n                break;\n            case \"n\":\n                const knightMoves = [\n                    {\n                        row: -2,\n                        col: -1\n                    },\n                    {\n                        row: -2,\n                        col: 1\n                    },\n                    {\n                        row: -1,\n                        col: -2\n                    },\n                    {\n                        row: -1,\n                        col: 2\n                    },\n                    {\n                        row: 1,\n                        col: -2\n                    },\n                    {\n                        row: 1,\n                        col: 2\n                    },\n                    {\n                        row: 2,\n                        col: -1\n                    },\n                    {\n                        row: 2,\n                        col: 1\n                    }\n                ];\n                for (const move of knightMoves){\n                    const newPos = {\n                        row: row + move.row,\n                        col: col + move.col\n                    };\n                    if ((0,_shared_utils_chess__WEBPACK_IMPORTED_MODULE_2__.isValidPosition)(newPos)) {\n                        const targetPiece = pieceAt(newPos);\n                        if (!targetPiece || targetPiece.color !== piece.color) {\n                            moves.push(newPos);\n                        }\n                    }\n                }\n                break;\n            case \"b\":\n                directions.push({\n                    row: -1,\n                    col: -1\n                }, {\n                    row: -1,\n                    col: 1\n                }, {\n                    row: 1,\n                    col: -1\n                }, {\n                    row: 1,\n                    col: 1\n                });\n                break;\n            case \"r\":\n                directions.push({\n                    row: -1,\n                    col: 0\n                }, {\n                    row: 1,\n                    col: 0\n                }, {\n                    row: 0,\n                    col: -1\n                }, {\n                    row: 0,\n                    col: 1\n                });\n                break;\n            case \"q\":\n                directions.push({\n                    row: -1,\n                    col: -1\n                }, {\n                    row: -1,\n                    col: 0\n                }, {\n                    row: -1,\n                    col: 1\n                }, {\n                    row: 0,\n                    col: -1\n                }, {\n                    row: 0,\n                    col: 1\n                }, {\n                    row: 1,\n                    col: -1\n                }, {\n                    row: 1,\n                    col: 0\n                }, {\n                    row: 1,\n                    col: 1\n                });\n                break;\n            case \"k\":\n                directions.push({\n                    row: -1,\n                    col: -1\n                }, {\n                    row: -1,\n                    col: 0\n                }, {\n                    row: -1,\n                    col: 1\n                }, {\n                    row: 0,\n                    col: -1\n                }, {\n                    row: 0,\n                    col: 1\n                }, {\n                    row: 1,\n                    col: -1\n                }, {\n                    row: 1,\n                    col: 0\n                }, {\n                    row: 1,\n                    col: 1\n                });\n                break;\n        }\n        // Processa movimentos nas direções permitidas\n        for (const dir of directions){\n            let distance = piece.type === \"k\" ? 1 : 7;\n            for(let i = 1; i <= distance; i++){\n                const newPos = {\n                    row: row + dir.row * i,\n                    col: col + dir.col * i\n                };\n                if (!(0,_shared_utils_chess__WEBPACK_IMPORTED_MODULE_2__.isValidPosition)(newPos)) break;\n                const targetPiece = pieceAt(newPos);\n                if (!targetPiece) {\n                    moves.push(newPos);\n                } else {\n                    if (targetPiece.color !== piece.color) {\n                        moves.push(newPos);\n                    }\n                    break;\n                }\n            }\n        }\n        return moves;\n    }, [\n        pieceAt\n    ]);\n    // Seleciona uma casa e calcula movimentos possíveis\n    const selectSquare = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((position)=>{\n        if (!position) {\n            setSelectedSquare(null);\n            setPossibleMoves([]);\n            return;\n        }\n        const piece = pieceAt(position);\n        if (!piece || piece.color !== gameState.currentPlayer) {\n            setSelectedSquare(null);\n            setPossibleMoves([]);\n            return;\n        }\n        setSelectedSquare(position);\n        setPossibleMoves(calculatePossibleMoves(position, piece));\n    }, [\n        gameState.currentPlayer,\n        pieceAt,\n        calculatePossibleMoves\n    ]);\n    // Executa um movimento\n    const makeMove = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((from, to)=>{\n        if (!(0,_shared_utils_chess__WEBPACK_IMPORTED_MODULE_2__.isValidPosition)(from) || !(0,_shared_utils_chess__WEBPACK_IMPORTED_MODULE_2__.isValidPosition)(to)) {\n            return false;\n        }\n        const piece = pieceAt(from);\n        if (!piece || piece.color !== gameState.currentPlayer) {\n            return false;\n        }\n        const isValidMove = possibleMoves.some((move)=>(0,_shared_utils_chess__WEBPACK_IMPORTED_MODULE_2__.isSamePosition)(move, to));\n        if (!isValidMove) {\n            return false;\n        }\n        // TODO: Implementar lógica de movimento e atualização do estado do jogo\n        const capturedPiece = pieceAt(to);\n        const move = {\n            from,\n            to,\n            piece,\n            captured: capturedPiece\n        };\n        setGameState((prev)=>({\n                ...prev,\n                currentPlayer: prev.currentPlayer === \"white\" ? \"black\" : \"white\",\n                moveHistory: [\n                    ...prev.moveHistory,\n                    move\n                ]\n            }));\n        setLastMove(move);\n        setSelectedSquare(null);\n        setPossibleMoves([]);\n        return true;\n    }, [\n        gameState.currentPlayer,\n        pieceAt,\n        possibleMoves\n    ]);\n    // Desfaz o último movimento\n    const undoLastMove = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        if (gameState.moveHistory.length === 0) {\n            return;\n        }\n        // TODO: Implementar lógica para desfazer o último movimento\n        setGameState((prev)=>({\n                ...prev,\n                moveHistory: prev.moveHistory.slice(0, -1),\n                currentPlayer: prev.currentPlayer === \"white\" ? \"black\" : \"white\"\n            }));\n        setLastMove(null);\n        setSelectedSquare(null);\n        setPossibleMoves([]);\n    }, [\n        gameState.moveHistory\n    ]);\n    // Atualiza o estado quando o FEN inicial muda\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        resetGame();\n    }, [\n        initialFen,\n        resetGame\n    ]);\n    return {\n        gameState,\n        selectedSquare,\n        possibleMoves,\n        lastMove,\n        pieceAt,\n        selectSquare,\n        makeMove,\n        resetGame,\n        undoLastMove,\n        isCheck: gameState.isCheck,\n        isCheckmate: gameState.isCheckmate,\n        isDraw: gameState.isDraw,\n        currentPlayer: gameState.currentPlayer\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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VztLQUFDO0lBRTFCLDhDQUE4QztJQUM5Q2YsZ0RBQVNBLENBQUMsSUFBTTtRQUNkNEI7SUFDRixHQUFHO1FBQUN0QjtRQUFZc0I7S0FBVTtJQUUxQixPQUFPO1FBQ0xuQjtRQUNBYTtRQUNBRTtRQUNBRTtRQUNBRztRQUNBb0M7UUFDQUM7UUFDQXRDO1FBQ0E4QztRQUNBekQsU0FBU1IsVUFBVVEsT0FBTztRQUMxQkMsYUFBYVQsVUFBVVMsV0FBVztRQUNsQ0MsUUFBUVYsVUFBVVUsTUFBTTtRQUN4QkgsZUFBZVAsVUFBVU8sYUFBYTtJQUN4QztBQUNGLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaGVzcy8uL3NyYy93ZWIvaG9va3MvdXNlR2FtZVN0YXRlLnRzPzgyZTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBDaGVzc1Bvc2l0aW9uLCBDaGVzc1BpZWNlLCBHYW1lU3RhdGUsIENoZXNzTW92ZSB9IGZyb20gJy4uLy4uL3NoYXJlZC90eXBlcy9jaGVzcyc7XG5pbXBvcnQgeyBJTklUSUFMX0ZFTiwgR0FNRV9TVEFUVVMgfSBmcm9tICcuLi8uLi9zaGFyZWQvY29uc3RhbnRzL2dhbWUnO1xuaW1wb3J0IHsgXG4gIGFsZ2VicmFpY1RvQ29vcmRzLFxuICBjb29yZHNUb0FsZ2VicmFpYyxcbiAgaXNWYWxpZFBvc2l0aW9uLFxuICBpc1NhbWVQb3NpdGlvbixcbn0gZnJvbSAnLi4vLi4vc2hhcmVkL3V0aWxzL2NoZXNzJztcblxuaW50ZXJmYWNlIFVzZUdhbWVTdGF0ZVByb3BzIHtcbiAgaW5pdGlhbEZlbj86IHN0cmluZztcbiAgY3VsdHVyYWxTdHlsZT86IHN0cmluZztcbiAgdGltZUNvbnRyb2w/OiB7XG4gICAgaW5pdGlhbDogbnVtYmVyO1xuICAgIGluY3JlbWVudDogbnVtYmVyO1xuICB9O1xufVxuXG5pbnRlcmZhY2UgVXNlR2FtZVN0YXRlUmV0dXJuIHtcbiAgZ2FtZVN0YXRlOiBHYW1lU3RhdGU7XG4gIHNlbGVjdGVkU3F1YXJlOiBDaGVzc1Bvc2l0aW9uIHwgbnVsbDtcbiAgcG9zc2libGVNb3ZlczogQ2hlc3NQb3NpdGlvbltdO1xuICBsYXN0TW92ZTogQ2hlc3NNb3ZlIHwgbnVsbDtcbiAgcGllY2VBdDogKHBvc2l0aW9uOiBDaGVzc1Bvc2l0aW9uKSA9PiBDaGVzc1BpZWNlIHwgdW5kZWZpbmVkO1xuICBzZWxlY3RTcXVhcmU6IChwb3NpdGlvbjogQ2hlc3NQb3NpdGlvbiB8IG51bGwpID0+IHZvaWQ7XG4gIG1ha2VNb3ZlOiAoZnJvbTogQ2hlc3NQb3NpdGlvbiwgdG86IENoZXNzUG9zaXRpb24pID0+IGJvb2xlYW47XG4gIHJlc2V0R2FtZTogKCkgPT4gdm9pZDtcbiAgdW5kb0xhc3RNb3ZlOiAoKSA9PiB2b2lkO1xuICBpc0NoZWNrOiBib29sZWFuO1xuICBpc0NoZWNrbWF0ZTogYm9vbGVhbjtcbiAgaXNEcmF3OiBib29sZWFuO1xuICBjdXJyZW50UGxheWVyOiAnd2hpdGUnIHwgJ2JsYWNrJztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZUdhbWVTdGF0ZSh7XG4gIGluaXRpYWxGZW4gPSBJTklUSUFMX0ZFTixcbiAgY3VsdHVyYWxTdHlsZSA9ICdtb2Rlcm4nLFxuICB0aW1lQ29udHJvbCxcbn06IFVzZUdhbWVTdGF0ZVByb3BzID0ge30pOiBVc2VHYW1lU3RhdGVSZXR1cm4ge1xuICAvLyBFc3RhZG8gZG8gam9nb1xuICBjb25zdCBbZ2FtZVN0YXRlLCBzZXRHYW1lU3RhdGVdID0gdXNlU3RhdGU8R2FtZVN0YXRlPih7XG4gICAgaWQ6IGNyeXB0by5yYW5kb21VVUlEKCksXG4gICAgZmVuOiBpbml0aWFsRmVuLFxuICAgIG1vdmVIaXN0b3J5OiBbXSxcbiAgICBjdXJyZW50UGxheWVyOiAnd2hpdGUnLFxuICAgIGlzQ2hlY2s6IGZhbHNlLFxuICAgIGlzQ2hlY2ttYXRlOiBmYWxzZSxcbiAgICBpc0RyYXc6IGZhbHNlLFxuICAgIHN0YXR1czogR0FNRV9TVEFUVVMuQUNUSVZFLFxuICAgIHRpbWVDb250cm9sLFxuICB9KTtcblxuICAvLyBFc3RhZG8gZGEgaW50ZXJmYWNlXG4gIGNvbnN0IFtzZWxlY3RlZFNxdWFyZSwgc2V0U2VsZWN0ZWRTcXVhcmVdID0gdXNlU3RhdGU8Q2hlc3NQb3NpdGlvbiB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbcG9zc2libGVNb3Zlcywgc2V0UG9zc2libGVNb3Zlc10gPSB1c2VTdGF0ZTxDaGVzc1Bvc2l0aW9uW10+KFtdKTtcbiAgY29uc3QgW2xhc3RNb3ZlLCBzZXRMYXN0TW92ZV0gPSB1c2VTdGF0ZTxDaGVzc01vdmUgfCBudWxsPihudWxsKTtcblxuICAvLyBSZXNldGEgbyBqb2dvIHBhcmEgbyBlc3RhZG8gaW5pY2lhbFxuICBjb25zdCByZXNldEdhbWUgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgc2V0R2FtZVN0YXRlKHtcbiAgICAgIGlkOiBjcnlwdG8ucmFuZG9tVVVJRCgpLFxuICAgICAgZmVuOiBpbml0aWFsRmVuLFxuICAgICAgbW92ZUhpc3Rvcnk6IFtdLFxuICAgICAgY3VycmVudFBsYXllcjogJ3doaXRlJyxcbiAgICAgIGlzQ2hlY2s6IGZhbHNlLFxuICAgICAgaXNDaGVja21hdGU6IGZhbHNlLFxuICAgICAgaXNEcmF3OiBmYWxzZSxcbiAgICAgIHN0YXR1czogR0FNRV9TVEFUVVMuQUNUSVZFLFxuICAgICAgdGltZUNvbnRyb2wsXG4gICAgfSk7XG4gICAgc2V0U2VsZWN0ZWRTcXVhcmUobnVsbCk7XG4gICAgc2V0UG9zc2libGVNb3ZlcyhbXSk7XG4gICAgc2V0TGFzdE1vdmUobnVsbCk7XG4gIH0sIFtpbml0aWFsRmVuLCB0aW1lQ29udHJvbF0pO1xuXG4gIC8vIFJldG9ybmEgYSBwZcOnYSBlbSB1bWEgcG9zacOnw6NvIGVzcGVjw61maWNhXG4gIGNvbnN0IHBpZWNlQXQgPSB1c2VDYWxsYmFjaygocG9zaXRpb246IENoZXNzUG9zaXRpb24pOiBDaGVzc1BpZWNlIHwgdW5kZWZpbmVkID0+IHtcbiAgICBjb25zdCB7IHJvdywgY29sIH0gPSBwb3NpdGlvbjtcbiAgICBjb25zdCBmZW5QYXJ0cyA9IGdhbWVTdGF0ZS5mZW4uc3BsaXQoJyAnKTtcbiAgICBjb25zdCBib2FyZEZlbiA9IGZlblBhcnRzWzBdO1xuICAgIGNvbnN0IHJhbmtzID0gYm9hcmRGZW4uc3BsaXQoJy8nKTtcblxuICAgIC8vIENvbnZlcnRlIGEgcG9zacOnw6NvIGRvIHRhYnVsZWlybyBwYXJhIG8gw61uZGljZSBubyBGRU5cbiAgICBsZXQgY3VycmVudFJhbmsgPSByYW5rc1tyb3ddO1xuICAgIGxldCBjdXJyZW50Q29sID0gMDtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY3VycmVudFJhbmsubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGNoYXIgPSBjdXJyZW50UmFua1tpXTtcbiAgICAgIGlmIChpc05hTihwYXJzZUludChjaGFyKSkpIHtcbiAgICAgICAgaWYgKGN1cnJlbnRDb2wgPT09IGNvbCkge1xuICAgICAgICAgIGNvbnN0IGlzV2hpdGUgPSBjaGFyID09PSBjaGFyLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgY29uc3QgcGllY2VUeXBlID0gY2hhci50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiBwaWVjZVR5cGUsXG4gICAgICAgICAgICBjb2xvcjogaXNXaGl0ZSA/ICd3aGl0ZScgOiAnYmxhY2snXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50Q29sKys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjdXJyZW50Q29sICs9IHBhcnNlSW50KGNoYXIpO1xuICAgICAgICBpZiAoY3VycmVudENvbCA+IGNvbCkge1xuICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9LCBbZ2FtZVN0YXRlLmZlbl0pO1xuXG4gIC8vIENhbGN1bGEgbW92aW1lbnRvcyBwb3Nzw612ZWlzIHBhcmEgdW1hIHBlw6dhXG4gIGNvbnN0IGNhbGN1bGF0ZVBvc3NpYmxlTW92ZXMgPSB1c2VDYWxsYmFjaygocG9zaXRpb246IENoZXNzUG9zaXRpb24sIHBpZWNlOiBDaGVzc1BpZWNlKTogQ2hlc3NQb3NpdGlvbltdID0+IHtcbiAgICBjb25zdCBtb3ZlczogQ2hlc3NQb3NpdGlvbltdID0gW107XG4gICAgY29uc3QgeyByb3csIGNvbCB9ID0gcG9zaXRpb247XG5cbiAgICAvLyBEaXJlw6fDtWVzIGRlIG1vdmltZW50byBwb3IgdGlwbyBkZSBwZcOnYVxuICAgIGNvbnN0IGRpcmVjdGlvbnM6IHsgcm93OiBudW1iZXI7IGNvbDogbnVtYmVyIH1bXSA9IFtdO1xuICAgIFxuICAgIHN3aXRjaCAocGllY2UudHlwZSkge1xuICAgICAgY2FzZSAncCc6IC8vIFBlw6NvXG4gICAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IHBpZWNlLmNvbG9yID09PSAnd2hpdGUnID8gLTEgOiAxO1xuICAgICAgICBjb25zdCBzdGFydFJvdyA9IHBpZWNlLmNvbG9yID09PSAnd2hpdGUnID8gNiA6IDE7XG4gICAgICAgIFxuICAgICAgICAvLyBNb3ZpbWVudG8gcGFyYSBmcmVudGVcbiAgICAgICAgaWYgKGlzVmFsaWRQb3NpdGlvbih7IHJvdzogcm93ICsgZGlyZWN0aW9uLCBjb2wgfSkgJiYgIXBpZWNlQXQoeyByb3c6IHJvdyArIGRpcmVjdGlvbiwgY29sIH0pKSB7XG4gICAgICAgICAgbW92ZXMucHVzaCh7IHJvdzogcm93ICsgZGlyZWN0aW9uLCBjb2wgfSk7XG4gICAgICAgICAgLy8gTW92aW1lbnRvIGR1cGxvIGluaWNpYWxcbiAgICAgICAgICBpZiAocm93ID09PSBzdGFydFJvdyAmJiAhcGllY2VBdCh7IHJvdzogcm93ICsgMiAqIGRpcmVjdGlvbiwgY29sIH0pKSB7XG4gICAgICAgICAgICBtb3Zlcy5wdXNoKHsgcm93OiByb3cgKyAyICogZGlyZWN0aW9uLCBjb2wgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBDYXB0dXJhcyBkaWFnb25haXNcbiAgICAgICAgZm9yIChjb25zdCBkeCBvZiBbLTEsIDFdKSB7XG4gICAgICAgICAgY29uc3QgbmV3UG9zID0geyByb3c6IHJvdyArIGRpcmVjdGlvbiwgY29sOiBjb2wgKyBkeCB9O1xuICAgICAgICAgIGlmIChpc1ZhbGlkUG9zaXRpb24obmV3UG9zKSkge1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0UGllY2UgPSBwaWVjZUF0KG5ld1Bvcyk7XG4gICAgICAgICAgICBpZiAodGFyZ2V0UGllY2UgJiYgdGFyZ2V0UGllY2UuY29sb3IgIT09IHBpZWNlLmNvbG9yKSB7XG4gICAgICAgICAgICAgIG1vdmVzLnB1c2gobmV3UG9zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ24nOiAvLyBDYXZhbG9cbiAgICAgICAgY29uc3Qga25pZ2h0TW92ZXMgPSBbXG4gICAgICAgICAgeyByb3c6IC0yLCBjb2w6IC0xIH0sIHsgcm93OiAtMiwgY29sOiAxIH0sXG4gICAgICAgICAgeyByb3c6IC0xLCBjb2w6IC0yIH0sIHsgcm93OiAtMSwgY29sOiAyIH0sXG4gICAgICAgICAgeyByb3c6IDEsIGNvbDogLTIgfSwgeyByb3c6IDEsIGNvbDogMiB9LFxuICAgICAgICAgIHsgcm93OiAyLCBjb2w6IC0xIH0sIHsgcm93OiAyLCBjb2w6IDEgfSxcbiAgICAgICAgXTtcbiAgICAgICAgZm9yIChjb25zdCBtb3ZlIG9mIGtuaWdodE1vdmVzKSB7XG4gICAgICAgICAgY29uc3QgbmV3UG9zID0geyByb3c6IHJvdyArIG1vdmUucm93LCBjb2w6IGNvbCArIG1vdmUuY29sIH07XG4gICAgICAgICAgaWYgKGlzVmFsaWRQb3NpdGlvbihuZXdQb3MpKSB7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXRQaWVjZSA9IHBpZWNlQXQobmV3UG9zKTtcbiAgICAgICAgICAgIGlmICghdGFyZ2V0UGllY2UgfHwgdGFyZ2V0UGllY2UuY29sb3IgIT09IHBpZWNlLmNvbG9yKSB7XG4gICAgICAgICAgICAgIG1vdmVzLnB1c2gobmV3UG9zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ2InOiAvLyBCaXNwb1xuICAgICAgICBkaXJlY3Rpb25zLnB1c2goXG4gICAgICAgICAgeyByb3c6IC0xLCBjb2w6IC0xIH0sIHsgcm93OiAtMSwgY29sOiAxIH0sXG4gICAgICAgICAgeyByb3c6IDEsIGNvbDogLTEgfSwgeyByb3c6IDEsIGNvbDogMSB9XG4gICAgICAgICk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdyJzogLy8gVG9ycmVcbiAgICAgICAgZGlyZWN0aW9ucy5wdXNoKFxuICAgICAgICAgIHsgcm93OiAtMSwgY29sOiAwIH0sIHsgcm93OiAxLCBjb2w6IDAgfSxcbiAgICAgICAgICB7IHJvdzogMCwgY29sOiAtMSB9LCB7IHJvdzogMCwgY29sOiAxIH1cbiAgICAgICAgKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ3EnOiAvLyBSYWluaGFcbiAgICAgICAgZGlyZWN0aW9ucy5wdXNoKFxuICAgICAgICAgIHsgcm93OiAtMSwgY29sOiAtMSB9LCB7IHJvdzogLTEsIGNvbDogMCB9LCB7IHJvdzogLTEsIGNvbDogMSB9LFxuICAgICAgICAgIHsgcm93OiAwLCBjb2w6IC0xIH0sIHsgcm93OiAwLCBjb2w6IDEgfSxcbiAgICAgICAgICB7IHJvdzogMSwgY29sOiAtMSB9LCB7IHJvdzogMSwgY29sOiAwIH0sIHsgcm93OiAxLCBjb2w6IDEgfVxuICAgICAgICApO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnayc6IC8vIFJlaVxuICAgICAgICBkaXJlY3Rpb25zLnB1c2goXG4gICAgICAgICAgeyByb3c6IC0xLCBjb2w6IC0xIH0sIHsgcm93OiAtMSwgY29sOiAwIH0sIHsgcm93OiAtMSwgY29sOiAxIH0sXG4gICAgICAgICAgeyByb3c6IDAsIGNvbDogLTEgfSwgeyByb3c6IDAsIGNvbDogMSB9LFxuICAgICAgICAgIHsgcm93OiAxLCBjb2w6IC0xIH0sIHsgcm93OiAxLCBjb2w6IDAgfSwgeyByb3c6IDEsIGNvbDogMSB9XG4gICAgICAgICk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIC8vIFByb2Nlc3NhIG1vdmltZW50b3MgbmFzIGRpcmXDp8O1ZXMgcGVybWl0aWRhc1xuICAgIGZvciAoY29uc3QgZGlyIG9mIGRpcmVjdGlvbnMpIHtcbiAgICAgIGxldCBkaXN0YW5jZSA9IHBpZWNlLnR5cGUgPT09ICdrJyA/IDEgOiA3O1xuICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gZGlzdGFuY2U7IGkrKykge1xuICAgICAgICBjb25zdCBuZXdQb3MgPSB7XG4gICAgICAgICAgcm93OiByb3cgKyBkaXIucm93ICogaSxcbiAgICAgICAgICBjb2w6IGNvbCArIGRpci5jb2wgKiBpXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKCFpc1ZhbGlkUG9zaXRpb24obmV3UG9zKSkgYnJlYWs7XG5cbiAgICAgICAgY29uc3QgdGFyZ2V0UGllY2UgPSBwaWVjZUF0KG5ld1Bvcyk7XG4gICAgICAgIGlmICghdGFyZ2V0UGllY2UpIHtcbiAgICAgICAgICBtb3Zlcy5wdXNoKG5ld1Bvcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHRhcmdldFBpZWNlLmNvbG9yICE9PSBwaWVjZS5jb2xvcikge1xuICAgICAgICAgICAgbW92ZXMucHVzaChuZXdQb3MpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBtb3ZlcztcbiAgfSwgW3BpZWNlQXRdKTtcblxuICAvLyBTZWxlY2lvbmEgdW1hIGNhc2EgZSBjYWxjdWxhIG1vdmltZW50b3MgcG9zc8OtdmVpc1xuICBjb25zdCBzZWxlY3RTcXVhcmUgPSB1c2VDYWxsYmFjaygocG9zaXRpb246IENoZXNzUG9zaXRpb24gfCBudWxsKSA9PiB7XG4gICAgaWYgKCFwb3NpdGlvbikge1xuICAgICAgc2V0U2VsZWN0ZWRTcXVhcmUobnVsbCk7XG4gICAgICBzZXRQb3NzaWJsZU1vdmVzKFtdKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBwaWVjZSA9IHBpZWNlQXQocG9zaXRpb24pO1xuICAgIGlmICghcGllY2UgfHwgcGllY2UuY29sb3IgIT09IGdhbWVTdGF0ZS5jdXJyZW50UGxheWVyKSB7XG4gICAgICBzZXRTZWxlY3RlZFNxdWFyZShudWxsKTtcbiAgICAgIHNldFBvc3NpYmxlTW92ZXMoW10pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHNldFNlbGVjdGVkU3F1YXJlKHBvc2l0aW9uKTtcbiAgICBzZXRQb3NzaWJsZU1vdmVzKGNhbGN1bGF0ZVBvc3NpYmxlTW92ZXMocG9zaXRpb24sIHBpZWNlKSk7XG4gIH0sIFtnYW1lU3RhdGUuY3VycmVudFBsYXllciwgcGllY2VBdCwgY2FsY3VsYXRlUG9zc2libGVNb3Zlc10pO1xuXG4gIC8vIEV4ZWN1dGEgdW0gbW92aW1lbnRvXG4gIGNvbnN0IG1ha2VNb3ZlID0gdXNlQ2FsbGJhY2soKGZyb206IENoZXNzUG9zaXRpb24sIHRvOiBDaGVzc1Bvc2l0aW9uKTogYm9vbGVhbiA9PiB7XG4gICAgaWYgKCFpc1ZhbGlkUG9zaXRpb24oZnJvbSkgfHwgIWlzVmFsaWRQb3NpdGlvbih0bykpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCBwaWVjZSA9IHBpZWNlQXQoZnJvbSk7XG4gICAgaWYgKCFwaWVjZSB8fCBwaWVjZS5jb2xvciAhPT0gZ2FtZVN0YXRlLmN1cnJlbnRQbGF5ZXIpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCBpc1ZhbGlkTW92ZSA9IHBvc3NpYmxlTW92ZXMuc29tZShtb3ZlID0+IGlzU2FtZVBvc2l0aW9uKG1vdmUsIHRvKSk7XG4gICAgaWYgKCFpc1ZhbGlkTW92ZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIFRPRE86IEltcGxlbWVudGFyIGzDs2dpY2EgZGUgbW92aW1lbnRvIGUgYXR1YWxpemHDp8OjbyBkbyBlc3RhZG8gZG8gam9nb1xuICAgIGNvbnN0IGNhcHR1cmVkUGllY2UgPSBwaWVjZUF0KHRvKTtcbiAgICBjb25zdCBtb3ZlOiBDaGVzc01vdmUgPSB7XG4gICAgICBmcm9tLFxuICAgICAgdG8sXG4gICAgICBwaWVjZSxcbiAgICAgIGNhcHR1cmVkOiBjYXB0dXJlZFBpZWNlLFxuICAgIH07XG5cbiAgICBzZXRHYW1lU3RhdGUocHJldiA9PiAoe1xuICAgICAgLi4ucHJldixcbiAgICAgIGN1cnJlbnRQbGF5ZXI6IHByZXYuY3VycmVudFBsYXllciA9PT0gJ3doaXRlJyA/ICdibGFjaycgOiAnd2hpdGUnLFxuICAgICAgbW92ZUhpc3Rvcnk6IFsuLi5wcmV2Lm1vdmVIaXN0b3J5LCBtb3ZlXSxcbiAgICB9KSk7XG5cbiAgICBzZXRMYXN0TW92ZShtb3ZlKTtcbiAgICBzZXRTZWxlY3RlZFNxdWFyZShudWxsKTtcbiAgICBzZXRQb3NzaWJsZU1vdmVzKFtdKTtcblxuICAgIHJldHVybiB0cnVlO1xuICB9LCBbZ2FtZVN0YXRlLmN1cnJlbnRQbGF5ZXIsIHBpZWNlQXQsIHBvc3NpYmxlTW92ZXNdKTtcblxuICAvLyBEZXNmYXogbyDDumx0aW1vIG1vdmltZW50b1xuICBjb25zdCB1bmRvTGFzdE1vdmUgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgaWYgKGdhbWVTdGF0ZS5tb3ZlSGlzdG9yeS5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBUT0RPOiBJbXBsZW1lbnRhciBsw7NnaWNhIHBhcmEgZGVzZmF6ZXIgbyDDumx0aW1vIG1vdmltZW50b1xuICAgIHNldEdhbWVTdGF0ZShwcmV2ID0+ICh7XG4gICAgICAuLi5wcmV2LFxuICAgICAgbW92ZUhpc3Rvcnk6IHByZXYubW92ZUhpc3Rvcnkuc2xpY2UoMCwgLTEpLFxuICAgICAgY3VycmVudFBsYXllcjogcHJldi5jdXJyZW50UGxheWVyID09PSAnd2hpdGUnID8gJ2JsYWNrJyA6ICd3aGl0ZScsXG4gICAgfSkpO1xuXG4gICAgc2V0TGFzdE1vdmUobnVsbCk7XG4gICAgc2V0U2VsZWN0ZWRTcXVhcmUobnVsbCk7XG4gICAgc2V0UG9zc2libGVNb3ZlcyhbXSk7XG4gIH0sIFtnYW1lU3RhdGUubW92ZUhpc3RvcnldKTtcblxuICAvLyBBdHVhbGl6YSBvIGVzdGFkbyBxdWFuZG8gbyBGRU4gaW5pY2lhbCBtdWRhXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgcmVzZXRHYW1lKCk7XG4gIH0sIFtpbml0aWFsRmVuLCByZXNldEdhbWVdKTtcblxuICByZXR1cm4ge1xuICAgIGdhbWVTdGF0ZSxcbiAgICBzZWxlY3RlZFNxdWFyZSxcbiAgICBwb3NzaWJsZU1vdmVzLFxuICAgIGxhc3RNb3ZlLFxuICAgIHBpZWNlQXQsXG4gICAgc2VsZWN0U3F1YXJlLFxuICAgIG1ha2VNb3ZlLFxuICAgIHJlc2V0R2FtZSxcbiAgICB1bmRvTGFzdE1vdmUsXG4gICAgaXNDaGVjazogZ2FtZVN0YXRlLmlzQ2hlY2ssXG4gICAgaXNDaGVja21hdGU6IGdhbWVTdGF0ZS5pc0NoZWNrbWF0ZSxcbiAgICBpc0RyYXc6IGdhbWVTdGF0ZS5pc0RyYXcsXG4gICAgY3VycmVudFBsYXllcjogZ2FtZVN0YXRlLmN1cnJlbnRQbGF5ZXIsXG4gIH07XG59XG4iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VDYWxsYmFjayIsInVzZUVmZmVjdCIsIklOSVRJQUxfRkVOIiwiR0FNRV9TVEFUVVMiLCJpc1ZhbGlkUG9zaXRpb24iLCJpc1NhbWVQb3NpdGlvbiIsInVzZUdhbWVTdGF0ZSIsImluaXRpYWxGZW4iLCJjdWx0dXJhbFN0eWxlIiwidGltZUNvbnRyb2wiLCJnYW1lU3RhdGUiLCJzZXRHYW1lU3RhdGUiLCJpZCIsImNyeXB0byIsInJhbmRvbVVVSUQiLCJmZW4iLCJtb3ZlSGlzdG9yeSIsImN1cnJlbnRQbGF5ZXIiLCJpc0NoZWNrIiwiaXNDaGVja21hdGUiLCJpc0RyYXciLCJzdGF0dXMiLCJBQ1RJVkUiLCJzZWxlY3RlZFNxdWFyZSIsInNldFNlbGVjdGVkU3F1YXJlIiwicG9zc2libGVNb3ZlcyIsInNldFBvc3NpYmxlTW92ZXMiLCJsYXN0TW92ZSIsInNldExhc3RNb3ZlIiwicmVzZXRHYW1lIiwicGllY2VBdCIsInBvc2l0aW9uIiwicm93IiwiY29sIiwiZmVuUGFydHMiLCJzcGxpdCIsImJvYXJkRmVuIiwicmFua3MiLCJjdXJyZW50UmFuayIsImN1cnJlbnRDb2wiLCJpIiwibGVuZ3RoIiwiY2hhciIsImlzTmFOIiwicGFyc2VJbnQiLCJpc1doaXRlIiwidG9VcHBlckNhc2UiLCJwaWVjZVR5cGUiLCJ0b0xvd2VyQ2FzZSIsInR5cGUiLCJjb2xvciIsInVuZGVmaW5lZCIsImNhbGN1bGF0ZVBvc3NpYmxlTW92ZXMiLCJwaWVjZSIsIm1vdmVzIiwiZGlyZWN0aW9ucyIsImRpcmVjdGlvbiIsInN0YXJ0Um93IiwicHVzaCIsImR4IiwibmV3UG9zIiwidGFyZ2V0UGllY2UiLCJrbmlnaHRNb3ZlcyIsIm1vdmUiLCJkaXIiLCJkaXN0YW5jZSIsInNlbGVjdFNxdWFyZSIsIm1ha2VNb3ZlIiwiZnJvbSIsInRvIiwiaXNWYWxpZE1vdmUiLCJzb21lIiwiY2FwdHVyZWRQaWVjZSIsImNhcHR1cmVkIiwicHJldiIsInVuZG9MYXN0TW92ZSIsInNsaWNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/web/hooks/useGameState.ts\n");

/***/ }),

/***/ "./node_modules/react/cjs/react-jsx-dev-runtime.development.js":
/*!*********************************************************************!*\
  !*** ./node_modules/react/cjs/react-jsx-dev-runtime.development.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("/**\n * @license React\n * react-jsx-dev-runtime.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\n\nif (true) {\n  (function() {\n'use strict';\n\nvar React = __webpack_require__(/*! react */ \"react\");\n\n// ATTENTION\n// When adding new symbols to this file,\n// Please consider also adding to 'react-devtools-shared/src/backend/ReactSymbols'\n// The Symbol used to tag the ReactElement-like types.\nvar REACT_ELEMENT_TYPE = Symbol.for('react.element');\nvar REACT_PORTAL_TYPE = Symbol.for('react.portal');\nvar REACT_FRAGMENT_TYPE = Symbol.for('react.fragment');\nvar REACT_STRICT_MODE_TYPE = Symbol.for('react.strict_mode');\nvar REACT_PROFILER_TYPE = Symbol.for('react.profiler');\nvar REACT_PROVIDER_TYPE = Symbol.for('react.provider');\nvar REACT_CONTEXT_TYPE = Symbol.for('react.context');\nvar REACT_FORWARD_REF_TYPE = Symbol.for('react.forward_ref');\nvar REACT_SUSPENSE_TYPE = Symbol.for('react.suspense');\nvar REACT_SUSPENSE_LIST_TYPE = Symbol.for('react.suspense_list');\nvar REACT_MEMO_TYPE = Symbol.for('react.memo');\nvar REACT_LAZY_TYPE = Symbol.for('react.lazy');\nvar REACT_OFFSCREEN_TYPE = Symbol.for('react.offscreen');\nvar MAYBE_ITERATOR_SYMBOL = Symbol.iterator;\nvar FAUX_ITERATOR_SYMBOL = '@@iterator';\nfunction getIteratorFn(maybeIterable) {\n  if (maybeIterable === null || typeof maybeIterable !== 'object') {\n    return null;\n  }\n\n  var maybeIterator = MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL];\n\n  if (typeof maybeIterator === 'function') {\n    return maybeIterator;\n  }\n\n  return null;\n}\n\nvar ReactSharedInternals = React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n\nfunction error(format) {\n  {\n    {\n      for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n\n      printWarning('error', format, args);\n    }\n  }\n}\n\nfunction printWarning(level, format, args) {\n  // When changing this logic, you might want to also\n  // update consoleWithStackDev.www.js as well.\n  {\n    var ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;\n    var stack = ReactDebugCurrentFrame.getStackAddendum();\n\n    if (stack !== '') {\n      format += '%s';\n      args = args.concat([stack]);\n    } // eslint-disable-next-line react-internal/safe-string-coercion\n\n\n    var argsWithFormat = args.map(function (item) {\n      return String(item);\n    }); // Careful: RN currently depends on this prefix\n\n    argsWithFormat.unshift('Warning: ' + format); // We intentionally don't use spread (or .apply) directly because it\n    // breaks IE9: https://github.com/facebook/react/issues/13610\n    // eslint-disable-next-line react-internal/no-production-logging\n\n    Function.prototype.apply.call(console[level], console, argsWithFormat);\n  }\n}\n\n// -----------------------------------------------------------------------------\n\nvar enableScopeAPI = false; // Experimental Create Event Handle API.\nvar enableCacheElement = false;\nvar enableTransitionTracing = false; // No known bugs, but needs performance testing\n\nvar enableLegacyHidden = false; // Enables unstable_avoidThisFallback feature in Fiber\n// stuff. Intended to enable React core members to more easily debug scheduling\n// issues in DEV builds.\n\nvar enableDebugTracing = false; // Track which Fiber(s) schedule render work.\n\nvar REACT_MODULE_REFERENCE;\n\n{\n  REACT_MODULE_REFERENCE = Symbol.for('react.module.reference');\n}\n\nfunction isValidElementType(type) {\n  if (typeof type === 'string' || typeof type === 'function') {\n    return true;\n  } // Note: typeof might be other than 'symbol' or 'number' (e.g. if it's a polyfill).\n\n\n  if (type === REACT_FRAGMENT_TYPE || type === REACT_PROFILER_TYPE || enableDebugTracing  || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || enableLegacyHidden  || type === REACT_OFFSCREEN_TYPE || enableScopeAPI  || enableCacheElement  || enableTransitionTracing ) {\n    return true;\n  }\n\n  if (typeof type === 'object' && type !== null) {\n    if (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || // This needs to include all possible module reference object\n    // types supported by any Flight configuration anywhere since\n    // we don't know which Flight build this will end up being used\n    // with.\n    type.$$typeof === REACT_MODULE_REFERENCE || type.getModuleId !== undefined) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction getWrappedName(outerType, innerType, wrapperName) {\n  var displayName = outerType.displayName;\n\n  if (displayName) {\n    return displayName;\n  }\n\n  var functionName = innerType.displayName || innerType.name || '';\n  return functionName !== '' ? wrapperName + \"(\" + functionName + \")\" : wrapperName;\n} // Keep in sync with react-reconciler/getComponentNameFromFiber\n\n\nfunction getContextName(type) {\n  return type.displayName || 'Context';\n} // Note that the reconciler package should generally prefer to use getComponentNameFromFiber() instead.\n\n\nfunction getComponentNameFromType(type) {\n  if (type == null) {\n    // Host root, text node or just invalid type.\n    return null;\n  }\n\n  {\n    if (typeof type.tag === 'number') {\n      error('Received an unexpected object in getComponentNameFromType(). ' + 'This is likely a bug in React. Please file an issue.');\n    }\n  }\n\n  if (typeof type === 'function') {\n    return type.displayName || type.name || null;\n  }\n\n  if (typeof type === 'string') {\n    return type;\n  }\n\n  switch (type) {\n    case REACT_FRAGMENT_TYPE:\n      return 'Fragment';\n\n    case REACT_PORTAL_TYPE:\n      return 'Portal';\n\n    case REACT_PROFILER_TYPE:\n      return 'Profiler';\n\n    case REACT_STRICT_MODE_TYPE:\n      return 'StrictMode';\n\n    case REACT_SUSPENSE_TYPE:\n      return 'Suspense';\n\n    case REACT_SUSPENSE_LIST_TYPE:\n      return 'SuspenseList';\n\n  }\n\n  if (typeof type === 'object') {\n    switch (type.$$typeof) {\n      case REACT_CONTEXT_TYPE:\n        var context = type;\n        return getContextName(context) + '.Consumer';\n\n      case REACT_PROVIDER_TYPE:\n        var provider = type;\n        return getContextName(provider._context) + '.Provider';\n\n      case REACT_FORWARD_REF_TYPE:\n        return getWrappedName(type, type.render, 'ForwardRef');\n\n      case REACT_MEMO_TYPE:\n        var outerName = type.displayName || null;\n\n        if (outerName !== null) {\n          return outerName;\n        }\n\n        return getComponentNameFromType(type.type) || 'Memo';\n\n      case REACT_LAZY_TYPE:\n        {\n          var lazyComponent = type;\n          var payload = lazyComponent._payload;\n          var init = lazyComponent._init;\n\n          try {\n            return getComponentNameFromType(init(payload));\n          } catch (x) {\n            return null;\n          }\n        }\n\n      // eslint-disable-next-line no-fallthrough\n    }\n  }\n\n  return null;\n}\n\nvar assign = Object.assign;\n\n// Helpers to patch console.logs to avoid logging during side-effect free\n// replaying on render function. This currently only patches the object\n// lazily which won't cover if the log function was extracted eagerly.\n// We could also eagerly patch the method.\nvar disabledDepth = 0;\nvar prevLog;\nvar prevInfo;\nvar prevWarn;\nvar prevError;\nvar prevGroup;\nvar prevGroupCollapsed;\nvar prevGroupEnd;\n\nfunction disabledLog() {}\n\ndisabledLog.__reactDisabledLog = true;\nfunction disableLogs() {\n  {\n    if (disabledDepth === 0) {\n      /* eslint-disable react-internal/no-production-logging */\n      prevLog = console.log;\n      prevInfo = console.info;\n      prevWarn = console.warn;\n      prevError = console.error;\n      prevGroup = console.group;\n      prevGroupCollapsed = console.groupCollapsed;\n      prevGroupEnd = console.groupEnd; // https://github.com/facebook/react/issues/19099\n\n      var props = {\n        configurable: true,\n        enumerable: true,\n        value: disabledLog,\n        writable: true\n      }; // $FlowFixMe Flow thinks console is immutable.\n\n      Object.defineProperties(console, {\n        info: props,\n        log: props,\n        warn: props,\n        error: props,\n        group: props,\n        groupCollapsed: props,\n        groupEnd: props\n      });\n      /* eslint-enable react-internal/no-production-logging */\n    }\n\n    disabledDepth++;\n  }\n}\nfunction reenableLogs() {\n  {\n    disabledDepth--;\n\n    if (disabledDepth === 0) {\n      /* eslint-disable react-internal/no-production-logging */\n      var props = {\n        configurable: true,\n        enumerable: true,\n        writable: true\n      }; // $FlowFixMe Flow thinks console is immutable.\n\n      Object.defineProperties(console, {\n        log: assign({}, props, {\n          value: prevLog\n        }),\n        info: assign({}, props, {\n          value: prevInfo\n        }),\n        warn: assign({}, props, {\n          value: prevWarn\n        }),\n        error: assign({}, props, {\n          value: prevError\n        }),\n        group: assign({}, props, {\n          value: prevGroup\n        }),\n        groupCollapsed: assign({}, props, {\n          value: prevGroupCollapsed\n        }),\n        groupEnd: assign({}, props, {\n          value: prevGroupEnd\n        })\n      });\n      /* eslint-enable react-internal/no-production-logging */\n    }\n\n    if (disabledDepth < 0) {\n      error('disabledDepth fell below zero. ' + 'This is a bug in React. Please file an issue.');\n    }\n  }\n}\n\nvar ReactCurrentDispatcher = ReactSharedInternals.ReactCurrentDispatcher;\nvar prefix;\nfunction describeBuiltInComponentFrame(name, source, ownerFn) {\n  {\n    if (prefix === undefined) {\n      // Extract the VM specific prefix used by each line.\n      try {\n        throw Error();\n      } catch (x) {\n        var match = x.stack.trim().match(/\\n( *(at )?)/);\n        prefix = match && match[1] || '';\n      }\n    } // We use the prefix to ensure our stacks line up with native stack frames.\n\n\n    return '\\n' + prefix + name;\n  }\n}\nvar reentry = false;\nvar componentFrameCache;\n\n{\n  var PossiblyWeakMap = typeof WeakMap === 'function' ? WeakMap : Map;\n  componentFrameCache = new PossiblyWeakMap();\n}\n\nfunction describeNativeComponentFrame(fn, construct) {\n  // If something asked for a stack inside a fake render, it should get ignored.\n  if ( !fn || reentry) {\n    return '';\n  }\n\n  {\n    var frame = componentFrameCache.get(fn);\n\n    if (frame !== undefined) {\n      return frame;\n    }\n  }\n\n  var control;\n  reentry = true;\n  var previousPrepareStackTrace = Error.prepareStackTrace; // $FlowFixMe It does accept undefined.\n\n  Error.prepareStackTrace = undefined;\n  var previousDispatcher;\n\n  {\n    previousDispatcher = ReactCurrentDispatcher.current; // Set the dispatcher in DEV because this might be call in the render function\n    // for warnings.\n\n    ReactCurrentDispatcher.current = null;\n    disableLogs();\n  }\n\n  try {\n    // This should throw.\n    if (construct) {\n      // Something should be setting the props in the constructor.\n      var Fake = function () {\n        throw Error();\n      }; // $FlowFixMe\n\n\n      Object.defineProperty(Fake.prototype, 'props', {\n        set: function () {\n          // We use a throwing setter instead of frozen or non-writable props\n          // because that won't throw in a non-strict mode function.\n          throw Error();\n        }\n      });\n\n      if (typeof Reflect === 'object' && Reflect.construct) {\n        // We construct a different control for this case to include any extra\n        // frames added by the construct call.\n        try {\n          Reflect.construct(Fake, []);\n        } catch (x) {\n          control = x;\n        }\n\n        Reflect.construct(fn, [], Fake);\n      } else {\n        try {\n          Fake.call();\n        } catch (x) {\n          control = x;\n        }\n\n        fn.call(Fake.prototype);\n      }\n    } else {\n      try {\n        throw Error();\n      } catch (x) {\n        control = x;\n      }\n\n      fn();\n    }\n  } catch (sample) {\n    // This is inlined manually because closure doesn't do it for us.\n    if (sample && control && typeof sample.stack === 'string') {\n      // This extracts the first frame from the sample that isn't also in the control.\n      // Skipping one frame that we assume is the frame that calls the two.\n      var sampleLines = sample.stack.split('\\n');\n      var controlLines = control.stack.split('\\n');\n      var s = sampleLines.length - 1;\n      var c = controlLines.length - 1;\n\n      while (s >= 1 && c >= 0 && sampleLines[s] !== controlLines[c]) {\n        // We expect at least one stack frame to be shared.\n        // Typically this will be the root most one. However, stack frames may be\n        // cut off due to maximum stack limits. In this case, one maybe cut off\n        // earlier than the other. We assume that the sample is longer or the same\n        // and there for cut off earlier. So we should find the root most frame in\n        // the sample somewhere in the control.\n        c--;\n      }\n\n      for (; s >= 1 && c >= 0; s--, c--) {\n        // Next we find the first one that isn't the same which should be the\n        // frame that called our sample function and the control.\n        if (sampleLines[s] !== controlLines[c]) {\n          // In V8, the first line is describing the message but other VMs don't.\n          // If we're about to return the first line, and the control is also on the same\n          // line, that's a pretty good indicator that our sample threw at same line as\n          // the control. I.e. before we entered the sample frame. So we ignore this result.\n          // This can happen if you passed a class to function component, or non-function.\n          if (s !== 1 || c !== 1) {\n            do {\n              s--;\n              c--; // We may still have similar intermediate frames from the construct call.\n              // The next one that isn't the same should be our match though.\n\n              if (c < 0 || sampleLines[s] !== controlLines[c]) {\n                // V8 adds a \"new\" prefix for native classes. Let's remove it to make it prettier.\n                var _frame = '\\n' + sampleLines[s].replace(' at new ', ' at '); // If our component frame is labeled \"<anonymous>\"\n                // but we have a user-provided \"displayName\"\n                // splice it in to make the stack more readable.\n\n\n                if (fn.displayName && _frame.includes('<anonymous>')) {\n                  _frame = _frame.replace('<anonymous>', fn.displayName);\n                }\n\n                {\n                  if (typeof fn === 'function') {\n                    componentFrameCache.set(fn, _frame);\n                  }\n                } // Return the line we found.\n\n\n                return _frame;\n              }\n            } while (s >= 1 && c >= 0);\n          }\n\n          break;\n        }\n      }\n    }\n  } finally {\n    reentry = false;\n\n    {\n      ReactCurrentDispatcher.current = previousDispatcher;\n      reenableLogs();\n    }\n\n    Error.prepareStackTrace = previousPrepareStackTrace;\n  } // Fallback to just using the name if we couldn't make it throw.\n\n\n  var name = fn ? fn.displayName || fn.name : '';\n  var syntheticFrame = name ? describeBuiltInComponentFrame(name) : '';\n\n  {\n    if (typeof fn === 'function') {\n      componentFrameCache.set(fn, syntheticFrame);\n    }\n  }\n\n  return syntheticFrame;\n}\nfunction describeFunctionComponentFrame(fn, source, ownerFn) {\n  {\n    return describeNativeComponentFrame(fn, false);\n  }\n}\n\nfunction shouldConstruct(Component) {\n  var prototype = Component.prototype;\n  return !!(prototype && prototype.isReactComponent);\n}\n\nfunction describeUnknownElementTypeFrameInDEV(type, source, ownerFn) {\n\n  if (type == null) {\n    return '';\n  }\n\n  if (typeof type === 'function') {\n    {\n      return describeNativeComponentFrame(type, shouldConstruct(type));\n    }\n  }\n\n  if (typeof type === 'string') {\n    return describeBuiltInComponentFrame(type);\n  }\n\n  switch (type) {\n    case REACT_SUSPENSE_TYPE:\n      return describeBuiltInComponentFrame('Suspense');\n\n    case REACT_SUSPENSE_LIST_TYPE:\n      return describeBuiltInComponentFrame('SuspenseList');\n  }\n\n  if (typeof type === 'object') {\n    switch (type.$$typeof) {\n      case REACT_FORWARD_REF_TYPE:\n        return describeFunctionComponentFrame(type.render);\n\n      case REACT_MEMO_TYPE:\n        // Memo may contain any component type so we recursively resolve it.\n        return describeUnknownElementTypeFrameInDEV(type.type, source, ownerFn);\n\n      case REACT_LAZY_TYPE:\n        {\n          var lazyComponent = type;\n          var payload = lazyComponent._payload;\n          var init = lazyComponent._init;\n\n          try {\n            // Lazy may contain any component type so we recursively resolve it.\n            return describeUnknownElementTypeFrameInDEV(init(payload), source, ownerFn);\n          } catch (x) {}\n        }\n    }\n  }\n\n  return '';\n}\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nvar loggedTypeFailures = {};\nvar ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;\n\nfunction setCurrentlyValidatingElement(element) {\n  {\n    if (element) {\n      var owner = element._owner;\n      var stack = describeUnknownElementTypeFrameInDEV(element.type, element._source, owner ? owner.type : null);\n      ReactDebugCurrentFrame.setExtraStackFrame(stack);\n    } else {\n      ReactDebugCurrentFrame.setExtraStackFrame(null);\n    }\n  }\n}\n\nfunction checkPropTypes(typeSpecs, values, location, componentName, element) {\n  {\n    // $FlowFixMe This is okay but Flow doesn't know it.\n    var has = Function.call.bind(hasOwnProperty);\n\n    for (var typeSpecName in typeSpecs) {\n      if (has(typeSpecs, typeSpecName)) {\n        var error$1 = void 0; // Prop type validation may throw. In case they do, we don't want to\n        // fail the render phase where it didn't fail before. So we log it.\n        // After these have been cleaned up, we'll let them throw.\n\n        try {\n          // This is intentionally an invariant that gets caught. It's the same\n          // behavior as without this statement except with a better message.\n          if (typeof typeSpecs[typeSpecName] !== 'function') {\n            // eslint-disable-next-line react-internal/prod-error-codes\n            var err = Error((componentName || 'React class') + ': ' + location + ' type `' + typeSpecName + '` is invalid; ' + 'it must be a function, usually from the `prop-types` package, but received `' + typeof typeSpecs[typeSpecName] + '`.' + 'This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.');\n            err.name = 'Invariant Violation';\n            throw err;\n          }\n\n          error$1 = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED');\n        } catch (ex) {\n          error$1 = ex;\n        }\n\n        if (error$1 && !(error$1 instanceof Error)) {\n          setCurrentlyValidatingElement(element);\n\n          error('%s: type specification of %s' + ' `%s` is invalid; the type checker ' + 'function must return `null` or an `Error` but returned a %s. ' + 'You may have forgotten to pass an argument to the type checker ' + 'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' + 'shape all require an argument).', componentName || 'React class', location, typeSpecName, typeof error$1);\n\n          setCurrentlyValidatingElement(null);\n        }\n\n        if (error$1 instanceof Error && !(error$1.message in loggedTypeFailures)) {\n          // Only monitor this failure once because there tends to be a lot of the\n          // same error.\n          loggedTypeFailures[error$1.message] = true;\n          setCurrentlyValidatingElement(element);\n\n          error('Failed %s type: %s', location, error$1.message);\n\n          setCurrentlyValidatingElement(null);\n        }\n      }\n    }\n  }\n}\n\nvar isArrayImpl = Array.isArray; // eslint-disable-next-line no-redeclare\n\nfunction isArray(a) {\n  return isArrayImpl(a);\n}\n\n/*\n * The `'' + value` pattern (used in in perf-sensitive code) throws for Symbol\n * and Temporal.* types. See https://github.com/facebook/react/pull/22064.\n *\n * The functions in this module will throw an easier-to-understand,\n * easier-to-debug exception with a clear errors message message explaining the\n * problem. (Instead of a confusing exception thrown inside the implementation\n * of the `value` object).\n */\n// $FlowFixMe only called in DEV, so void return is not possible.\nfunction typeName(value) {\n  {\n    // toStringTag is needed for namespaced types like Temporal.Instant\n    var hasToStringTag = typeof Symbol === 'function' && Symbol.toStringTag;\n    var type = hasToStringTag && value[Symbol.toStringTag] || value.constructor.name || 'Object';\n    return type;\n  }\n} // $FlowFixMe only called in DEV, so void return is not possible.\n\n\nfunction willCoercionThrow(value) {\n  {\n    try {\n      testStringCoercion(value);\n      return false;\n    } catch (e) {\n      return true;\n    }\n  }\n}\n\nfunction testStringCoercion(value) {\n  // If you ended up here by following an exception call stack, here's what's\n  // happened: you supplied an object or symbol value to React (as a prop, key,\n  // DOM attribute, CSS property, string ref, etc.) and when React tried to\n  // coerce it to a string using `'' + value`, an exception was thrown.\n  //\n  // The most common types that will cause this exception are `Symbol` instances\n  // and Temporal objects like `Temporal.Instant`. But any object that has a\n  // `valueOf` or `[Symbol.toPrimitive]` method that throws will also cause this\n  // exception. (Library authors do this to prevent users from using built-in\n  // numeric operators like `+` or comparison operators like `>=` because custom\n  // methods are needed to perform accurate arithmetic or comparison.)\n  //\n  // To fix the problem, coerce this object or symbol value to a string before\n  // passing it to React. The most reliable way is usually `String(value)`.\n  //\n  // To find which value is throwing, check the browser or debugger console.\n  // Before this exception was thrown, there should be `console.error` output\n  // that shows the type (Symbol, Temporal.PlainDate, etc.) that caused the\n  // problem and how that type was used: key, atrribute, input value prop, etc.\n  // In most cases, this console output also shows the component and its\n  // ancestor components where the exception happened.\n  //\n  // eslint-disable-next-line react-internal/safe-string-coercion\n  return '' + value;\n}\nfunction checkKeyStringCoercion(value) {\n  {\n    if (willCoercionThrow(value)) {\n      error('The provided key is an unsupported type %s.' + ' This value must be coerced to a string before before using it here.', typeName(value));\n\n      return testStringCoercion(value); // throw (to help callers find troubleshooting comments)\n    }\n  }\n}\n\nvar ReactCurrentOwner = ReactSharedInternals.ReactCurrentOwner;\nvar RESERVED_PROPS = {\n  key: true,\n  ref: true,\n  __self: true,\n  __source: true\n};\nvar specialPropKeyWarningShown;\nvar specialPropRefWarningShown;\nvar didWarnAboutStringRefs;\n\n{\n  didWarnAboutStringRefs = {};\n}\n\nfunction hasValidRef(config) {\n  {\n    if (hasOwnProperty.call(config, 'ref')) {\n      var getter = Object.getOwnPropertyDescriptor(config, 'ref').get;\n\n      if (getter && getter.isReactWarning) {\n        return false;\n      }\n    }\n  }\n\n  return config.ref !== undefined;\n}\n\nfunction hasValidKey(config) {\n  {\n    if (hasOwnProperty.call(config, 'key')) {\n      var getter = Object.getOwnPropertyDescriptor(config, 'key').get;\n\n      if (getter && getter.isReactWarning) {\n        return false;\n      }\n    }\n  }\n\n  return config.key !== undefined;\n}\n\nfunction warnIfStringRefCannotBeAutoConverted(config, self) {\n  {\n    if (typeof config.ref === 'string' && ReactCurrentOwner.current && self && ReactCurrentOwner.current.stateNode !== self) {\n      var componentName = getComponentNameFromType(ReactCurrentOwner.current.type);\n\n      if (!didWarnAboutStringRefs[componentName]) {\n        error('Component \"%s\" contains the string ref \"%s\". ' + 'Support for string refs will be removed in a future major release. ' + 'This case cannot be automatically converted to an arrow function. ' + 'We ask you to manually fix this case by using useRef() or createRef() instead. ' + 'Learn more about using refs safely here: ' + 'https://reactjs.org/link/strict-mode-string-ref', getComponentNameFromType(ReactCurrentOwner.current.type), config.ref);\n\n        didWarnAboutStringRefs[componentName] = true;\n      }\n    }\n  }\n}\n\nfunction defineKeyPropWarningGetter(props, displayName) {\n  {\n    var warnAboutAccessingKey = function () {\n      if (!specialPropKeyWarningShown) {\n        specialPropKeyWarningShown = true;\n\n        error('%s: `key` is not a prop. Trying to access it will result ' + 'in `undefined` being returned. If you need to access the same ' + 'value within the child component, you should pass it as a different ' + 'prop. (https://reactjs.org/link/special-props)', displayName);\n      }\n    };\n\n    warnAboutAccessingKey.isReactWarning = true;\n    Object.defineProperty(props, 'key', {\n      get: warnAboutAccessingKey,\n      configurable: true\n    });\n  }\n}\n\nfunction defineRefPropWarningGetter(props, displayName) {\n  {\n    var warnAboutAccessingRef = function () {\n      if (!specialPropRefWarningShown) {\n        specialPropRefWarningShown = true;\n\n        error('%s: `ref` is not a prop. Trying to access it will result ' + 'in `undefined` being returned. If you need to access the same ' + 'value within the child component, you should pass it as a different ' + 'prop. (https://reactjs.org/link/special-props)', displayName);\n      }\n    };\n\n    warnAboutAccessingRef.isReactWarning = true;\n    Object.defineProperty(props, 'ref', {\n      get: warnAboutAccessingRef,\n      configurable: true\n    });\n  }\n}\n/**\n * Factory method to create a new React element. This no longer adheres to\n * the class pattern, so do not use new to call it. Also, instanceof check\n * will not work. Instead test $$typeof field against Symbol.for('react.element') to check\n * if something is a React Element.\n *\n * @param {*} type\n * @param {*} props\n * @param {*} key\n * @param {string|object} ref\n * @param {*} owner\n * @param {*} self A *temporary* helper to detect places where `this` is\n * different from the `owner` when React.createElement is called, so that we\n * can warn. We want to get rid of owner and replace string `ref`s with arrow\n * functions, and as long as `this` and owner are the same, there will be no\n * change in behavior.\n * @param {*} source An annotation object (added by a transpiler or otherwise)\n * indicating filename, line number, and/or other information.\n * @internal\n */\n\n\nvar ReactElement = function (type, key, ref, self, source, owner, props) {\n  var element = {\n    // This tag allows us to uniquely identify this as a React Element\n    $$typeof: REACT_ELEMENT_TYPE,\n    // Built-in properties that belong on the element\n    type: type,\n    key: key,\n    ref: ref,\n    props: props,\n    // Record the component responsible for creating this element.\n    _owner: owner\n  };\n\n  {\n    // The validation flag is currently mutative. We put it on\n    // an external backing store so that we can freeze the whole object.\n    // This can be replaced with a WeakMap once they are implemented in\n    // commonly used development environments.\n    element._store = {}; // To make comparing ReactElements easier for testing purposes, we make\n    // the validation flag non-enumerable (where possible, which should\n    // include every environment we run tests in), so the test framework\n    // ignores it.\n\n    Object.defineProperty(element._store, 'validated', {\n      configurable: false,\n      enumerable: false,\n      writable: true,\n      value: false\n    }); // self and source are DEV only properties.\n\n    Object.defineProperty(element, '_self', {\n      configurable: false,\n      enumerable: false,\n      writable: false,\n      value: self\n    }); // Two elements created in two different places should be considered\n    // equal for testing purposes and therefore we hide it from enumeration.\n\n    Object.defineProperty(element, '_source', {\n      configurable: false,\n      enumerable: false,\n      writable: false,\n      value: source\n    });\n\n    if (Object.freeze) {\n      Object.freeze(element.props);\n      Object.freeze(element);\n    }\n  }\n\n  return element;\n};\n/**\n * https://github.com/reactjs/rfcs/pull/107\n * @param {*} type\n * @param {object} props\n * @param {string} key\n */\n\nfunction jsxDEV(type, config, maybeKey, source, self) {\n  {\n    var propName; // Reserved names are extracted\n\n    var props = {};\n    var key = null;\n    var ref = null; // Currently, key can be spread in as a prop. This causes a potential\n    // issue if key is also explicitly declared (ie. <div {...props} key=\"Hi\" />\n    // or <div key=\"Hi\" {...props} /> ). We want to deprecate key spread,\n    // but as an intermediary step, we will use jsxDEV for everything except\n    // <div {...props} key=\"Hi\" />, because we aren't currently able to tell if\n    // key is explicitly declared to be undefined or not.\n\n    if (maybeKey !== undefined) {\n      {\n        checkKeyStringCoercion(maybeKey);\n      }\n\n      key = '' + maybeKey;\n    }\n\n    if (hasValidKey(config)) {\n      {\n        checkKeyStringCoercion(config.key);\n      }\n\n      key = '' + config.key;\n    }\n\n    if (hasValidRef(config)) {\n      ref = config.ref;\n      warnIfStringRefCannotBeAutoConverted(config, self);\n    } // Remaining properties are added to a new props object\n\n\n    for (propName in config) {\n      if (hasOwnProperty.call(config, propName) && !RESERVED_PROPS.hasOwnProperty(propName)) {\n        props[propName] = config[propName];\n      }\n    } // Resolve default props\n\n\n    if (type && type.defaultProps) {\n      var defaultProps = type.defaultProps;\n\n      for (propName in defaultProps) {\n        if (props[propName] === undefined) {\n          props[propName] = defaultProps[propName];\n        }\n      }\n    }\n\n    if (key || ref) {\n      var displayName = typeof type === 'function' ? type.displayName || type.name || 'Unknown' : type;\n\n      if (key) {\n        defineKeyPropWarningGetter(props, displayName);\n      }\n\n      if (ref) {\n        defineRefPropWarningGetter(props, displayName);\n      }\n    }\n\n    return ReactElement(type, key, ref, self, source, ReactCurrentOwner.current, props);\n  }\n}\n\nvar ReactCurrentOwner$1 = ReactSharedInternals.ReactCurrentOwner;\nvar ReactDebugCurrentFrame$1 = ReactSharedInternals.ReactDebugCurrentFrame;\n\nfunction setCurrentlyValidatingElement$1(element) {\n  {\n    if (element) {\n      var owner = element._owner;\n      var stack = describeUnknownElementTypeFrameInDEV(element.type, element._source, owner ? owner.type : null);\n      ReactDebugCurrentFrame$1.setExtraStackFrame(stack);\n    } else {\n      ReactDebugCurrentFrame$1.setExtraStackFrame(null);\n    }\n  }\n}\n\nvar propTypesMisspellWarningShown;\n\n{\n  propTypesMisspellWarningShown = false;\n}\n/**\n * Verifies the object is a ReactElement.\n * See https://reactjs.org/docs/react-api.html#isvalidelement\n * @param {?object} object\n * @return {boolean} True if `object` is a ReactElement.\n * @final\n */\n\n\nfunction isValidElement(object) {\n  {\n    return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n  }\n}\n\nfunction getDeclarationErrorAddendum() {\n  {\n    if (ReactCurrentOwner$1.current) {\n      var name = getComponentNameFromType(ReactCurrentOwner$1.current.type);\n\n      if (name) {\n        return '\\n\\nCheck the render method of `' + name + '`.';\n      }\n    }\n\n    return '';\n  }\n}\n\nfunction getSourceInfoErrorAddendum(source) {\n  {\n    if (source !== undefined) {\n      var fileName = source.fileName.replace(/^.*[\\\\\\/]/, '');\n      var lineNumber = source.lineNumber;\n      return '\\n\\nCheck your code at ' + fileName + ':' + lineNumber + '.';\n    }\n\n    return '';\n  }\n}\n/**\n * Warn if there's no key explicitly set on dynamic arrays of children or\n * object keys are not valid. This allows us to keep track of children between\n * updates.\n */\n\n\nvar ownerHasKeyUseWarning = {};\n\nfunction getCurrentComponentErrorInfo(parentType) {\n  {\n    var info = getDeclarationErrorAddendum();\n\n    if (!info) {\n      var parentName = typeof parentType === 'string' ? parentType : parentType.displayName || parentType.name;\n\n      if (parentName) {\n        info = \"\\n\\nCheck the top-level render call using <\" + parentName + \">.\";\n      }\n    }\n\n    return info;\n  }\n}\n/**\n * Warn if the element doesn't have an explicit key assigned to it.\n * This element is in an array. The array could grow and shrink or be\n * reordered. All children that haven't already been validated are required to\n * have a \"key\" property assigned to it. Error statuses are cached so a warning\n * will only be shown once.\n *\n * @internal\n * @param {ReactElement} element Element that requires a key.\n * @param {*} parentType element's parent's type.\n */\n\n\nfunction validateExplicitKey(element, parentType) {\n  {\n    if (!element._store || element._store.validated || element.key != null) {\n      return;\n    }\n\n    element._store.validated = true;\n    var currentComponentErrorInfo = getCurrentComponentErrorInfo(parentType);\n\n    if (ownerHasKeyUseWarning[currentComponentErrorInfo]) {\n      return;\n    }\n\n    ownerHasKeyUseWarning[currentComponentErrorInfo] = true; // Usually the current owner is the offender, but if it accepts children as a\n    // property, it may be the creator of the child that's responsible for\n    // assigning it a key.\n\n    var childOwner = '';\n\n    if (element && element._owner && element._owner !== ReactCurrentOwner$1.current) {\n      // Give the component that originally created this child.\n      childOwner = \" It was passed a child from \" + getComponentNameFromType(element._owner.type) + \".\";\n    }\n\n    setCurrentlyValidatingElement$1(element);\n\n    error('Each child in a list should have a unique \"key\" prop.' + '%s%s See https://reactjs.org/link/warning-keys for more information.', currentComponentErrorInfo, childOwner);\n\n    setCurrentlyValidatingElement$1(null);\n  }\n}\n/**\n * Ensure that every element either is passed in a static location, in an\n * array with an explicit keys property defined, or in an object literal\n * with valid key property.\n *\n * @internal\n * @param {ReactNode} node Statically passed child of any type.\n * @param {*} parentType node's parent's type.\n */\n\n\nfunction validateChildKeys(node, parentType) {\n  {\n    if (typeof node !== 'object') {\n      return;\n    }\n\n    if (isArray(node)) {\n      for (var i = 0; i < node.length; i++) {\n        var child = node[i];\n\n        if (isValidElement(child)) {\n          validateExplicitKey(child, parentType);\n        }\n      }\n    } else if (isValidElement(node)) {\n      // This element was passed in a valid location.\n      if (node._store) {\n        node._store.validated = true;\n      }\n    } else if (node) {\n      var iteratorFn = getIteratorFn(node);\n\n      if (typeof iteratorFn === 'function') {\n        // Entry iterators used to provide implicit keys,\n        // but now we print a separate warning for them later.\n        if (iteratorFn !== node.entries) {\n          var iterator = iteratorFn.call(node);\n          var step;\n\n          while (!(step = iterator.next()).done) {\n            if (isValidElement(step.value)) {\n              validateExplicitKey(step.value, parentType);\n            }\n          }\n        }\n      }\n    }\n  }\n}\n/**\n * Given an element, validate that its props follow the propTypes definition,\n * provided by the type.\n *\n * @param {ReactElement} element\n */\n\n\nfunction validatePropTypes(element) {\n  {\n    var type = element.type;\n\n    if (type === null || type === undefined || typeof type === 'string') {\n      return;\n    }\n\n    var propTypes;\n\n    if (typeof type === 'function') {\n      propTypes = type.propTypes;\n    } else if (typeof type === 'object' && (type.$$typeof === REACT_FORWARD_REF_TYPE || // Note: Memo only checks outer props here.\n    // Inner props are checked in the reconciler.\n    type.$$typeof === REACT_MEMO_TYPE)) {\n      propTypes = type.propTypes;\n    } else {\n      return;\n    }\n\n    if (propTypes) {\n      // Intentionally inside to avoid triggering lazy initializers:\n      var name = getComponentNameFromType(type);\n      checkPropTypes(propTypes, element.props, 'prop', name, element);\n    } else if (type.PropTypes !== undefined && !propTypesMisspellWarningShown) {\n      propTypesMisspellWarningShown = true; // Intentionally inside to avoid triggering lazy initializers:\n\n      var _name = getComponentNameFromType(type);\n\n      error('Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?', _name || 'Unknown');\n    }\n\n    if (typeof type.getDefaultProps === 'function' && !type.getDefaultProps.isReactClassApproved) {\n      error('getDefaultProps is only used on classic React.createClass ' + 'definitions. Use a static property named `defaultProps` instead.');\n    }\n  }\n}\n/**\n * Given a fragment, validate that it can only be provided with fragment props\n * @param {ReactElement} fragment\n */\n\n\nfunction validateFragmentProps(fragment) {\n  {\n    var keys = Object.keys(fragment.props);\n\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i];\n\n      if (key !== 'children' && key !== 'key') {\n        setCurrentlyValidatingElement$1(fragment);\n\n        error('Invalid prop `%s` supplied to `React.Fragment`. ' + 'React.Fragment can only have `key` and `children` props.', key);\n\n        setCurrentlyValidatingElement$1(null);\n        break;\n      }\n    }\n\n    if (fragment.ref !== null) {\n      setCurrentlyValidatingElement$1(fragment);\n\n      error('Invalid attribute `ref` supplied to `React.Fragment`.');\n\n      setCurrentlyValidatingElement$1(null);\n    }\n  }\n}\n\nfunction jsxWithValidation(type, props, key, isStaticChildren, source, self) {\n  {\n    var validType = isValidElementType(type); // We warn in this case but don't throw. We expect the element creation to\n    // succeed and there will likely be errors in render.\n\n    if (!validType) {\n      var info = '';\n\n      if (type === undefined || typeof type === 'object' && type !== null && Object.keys(type).length === 0) {\n        info += ' You likely forgot to export your component from the file ' + \"it's defined in, or you might have mixed up default and named imports.\";\n      }\n\n      var sourceInfo = getSourceInfoErrorAddendum(source);\n\n      if (sourceInfo) {\n        info += sourceInfo;\n      } else {\n        info += getDeclarationErrorAddendum();\n      }\n\n      var typeString;\n\n      if (type === null) {\n        typeString = 'null';\n      } else if (isArray(type)) {\n        typeString = 'array';\n      } else if (type !== undefined && type.$$typeof === REACT_ELEMENT_TYPE) {\n        typeString = \"<\" + (getComponentNameFromType(type.type) || 'Unknown') + \" />\";\n        info = ' Did you accidentally export a JSX literal instead of a component?';\n      } else {\n        typeString = typeof type;\n      }\n\n      error('React.jsx: type is invalid -- expected a string (for ' + 'built-in components) or a class/function (for composite ' + 'components) but got: %s.%s', typeString, info);\n    }\n\n    var element = jsxDEV(type, props, key, source, self); // The result can be nullish if a mock or a custom function is used.\n    // TODO: Drop this when these are no longer allowed as the type argument.\n\n    if (element == null) {\n      return element;\n    } // Skip key warning if the type isn't valid since our key validation logic\n    // doesn't expect a non-string/function type and can throw confusing errors.\n    // We don't want exception behavior to differ between dev and prod.\n    // (Rendering will throw with a helpful message and as soon as the type is\n    // fixed, the key warnings will appear.)\n\n\n    if (validType) {\n      var children = props.children;\n\n      if (children !== undefined) {\n        if (isStaticChildren) {\n          if (isArray(children)) {\n            for (var i = 0; i < children.length; i++) {\n              validateChildKeys(children[i], type);\n            }\n\n            if (Object.freeze) {\n              Object.freeze(children);\n            }\n          } else {\n            error('React.jsx: Static children should always be an array. ' + 'You are likely explicitly calling React.jsxs or React.jsxDEV. ' + 'Use the Babel transform instead.');\n          }\n        } else {\n          validateChildKeys(children, type);\n        }\n      }\n    }\n\n    if (type === REACT_FRAGMENT_TYPE) {\n      validateFragmentProps(element);\n    } else {\n      validatePropTypes(element);\n    }\n\n    return element;\n  }\n} // These two functions exist to still get child warnings in dev\n\nvar jsxDEV$1 =  jsxWithValidation ;\n\nexports.Fragment = REACT_FRAGMENT_TYPE;\nexports.jsxDEV = jsxDEV$1;\n  })();\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QvY2pzL3JlYWN0LWpzeC1kZXYtcnVudGltZS5kZXZlbG9wbWVudC5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWE7O0FBRWIsSUFBSSxJQUFxQztBQUN6QztBQUNBOztBQUVBLFlBQVksbUJBQU8sQ0FBQyxvQkFBTzs7QUFFM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxpR0FBaUcsZUFBZTtBQUNoSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNOzs7QUFHTjtBQUNBO0FBQ0EsS0FBSyxHQUFHOztBQUVSLGtEQUFrRDtBQUNsRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSw0QkFBNEI7QUFDNUI7QUFDQSxxQ0FBcUM7O0FBRXJDLGdDQUFnQztBQUNoQztBQUNBOztBQUVBLGdDQUFnQzs7QUFFaEM7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7OztBQUdKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7O0FBR0Y7QUFDQTtBQUNBLEVBQUU7OztBQUdGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtB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QUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxHQUFHO0FBQ2QsV0FBVyxHQUFHO0FBQ2QsV0FBVyxHQUFHO0FBQ2QsV0FBVyxlQUFlO0FBQzFCLFdBQVcsR0FBRztBQUNkLFdBQVcsR0FBRztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxHQUFHO0FBQ2Q7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssR0FBRzs7QUFFUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxHQUFHO0FBQ1I7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsR0FBRztBQUNkLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkI7O0FBRUE7QUFDQTtBQUNBLGtCQUFr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QUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixxQkFBcUI7QUFDakQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7O0FBRUY7O0FBRUEsZ0JBQWdCO0FBQ2hCLGNBQWM7QUFDZCxHQUFHO0FBQ0giLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaGVzcy8uL25vZGVfbW9kdWxlcy9yZWFjdC9janMvcmVhY3QtanN4LWRldi1ydW50aW1lLmRldmVsb3BtZW50LmpzPzE3ZTEiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZSBSZWFjdFxuICogcmVhY3QtanN4LWRldi1ydW50aW1lLmRldmVsb3BtZW50LmpzXG4gKlxuICogQ29weXJpZ2h0IChjKSBGYWNlYm9vaywgSW5jLiBhbmQgaXRzIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gIChmdW5jdGlvbigpIHtcbid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxuLy8gQVRURU5USU9OXG4vLyBXaGVuIGFkZGluZyBuZXcgc3ltYm9scyB0byB0aGlzIGZpbGUsXG4vLyBQbGVhc2UgY29uc2lkZXIgYWxzbyBhZGRpbmcgdG8gJ3JlYWN0LWRldnRvb2xzLXNoYXJlZC9zcmMvYmFja2VuZC9SZWFjdFN5bWJvbHMnXG4vLyBUaGUgU3ltYm9sIHVzZWQgdG8gdGFnIHRoZSBSZWFjdEVsZW1lbnQtbGlrZSB0eXBlcy5cbnZhciBSRUFDVF9FTEVNRU5UX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5lbGVtZW50Jyk7XG52YXIgUkVBQ1RfUE9SVEFMX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5wb3J0YWwnKTtcbnZhciBSRUFDVF9GUkFHTUVOVF9UWVBFID0gU3ltYm9sLmZvcigncmVhY3QuZnJhZ21lbnQnKTtcbnZhciBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFID0gU3ltYm9sLmZvcigncmVhY3Quc3RyaWN0X21vZGUnKTtcbnZhciBSRUFDVF9QUk9GSUxFUl9UWVBFID0gU3ltYm9sLmZvcigncmVhY3QucHJvZmlsZXInKTtcbnZhciBSRUFDVF9QUk9WSURFUl9UWVBFID0gU3ltYm9sLmZvcigncmVhY3QucHJvdmlkZXInKTtcbnZhciBSRUFDVF9DT05URVhUX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5jb250ZXh0Jyk7XG52YXIgUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRSA9IFN5bWJvbC5mb3IoJ3JlYWN0LmZvcndhcmRfcmVmJyk7XG52YXIgUkVBQ1RfU1VTUEVOU0VfVFlQRSA9IFN5bWJvbC5mb3IoJ3JlYWN0LnN1c3BlbnNlJyk7XG52YXIgUkVBQ1RfU1VTUEVOU0VfTElTVF9UWVBFID0gU3ltYm9sLmZvcigncmVhY3Quc3VzcGVuc2VfbGlzdCcpO1xudmFyIFJFQUNUX01FTU9fVFlQRSA9IFN5bWJvbC5mb3IoJ3JlYWN0Lm1lbW8nKTtcbnZhciBSRUFDVF9MQVpZX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5sYXp5Jyk7XG52YXIgUkVBQ1RfT0ZGU0NSRUVOX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5vZmZzY3JlZW4nKTtcbnZhciBNQVlCRV9JVEVSQVRPUl9TWU1CT0wgPSBTeW1ib2wuaXRlcmF0b3I7XG52YXIgRkFVWF9JVEVSQVRPUl9TWU1CT0wgPSAnQEBpdGVyYXRvcic7XG5mdW5jdGlvbiBnZXRJdGVyYXRvckZuKG1heWJlSXRlcmFibGUpIHtcbiAgaWYgKG1heWJlSXRlcmFibGUgPT09IG51bGwgfHwgdHlwZW9mIG1heWJlSXRlcmFibGUgIT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICB2YXIgbWF5YmVJdGVyYXRvciA9IE1BWUJFX0lURVJBVE9SX1NZTUJPTCAmJiBtYXliZUl0ZXJhYmxlW01BWUJFX0lURVJBVE9SX1NZTUJPTF0gfHwgbWF5YmVJdGVyYWJsZVtGQVVYX0lURVJBVE9SX1NZTUJPTF07XG5cbiAgaWYgKHR5cGVvZiBtYXliZUl0ZXJhdG9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIG1heWJlSXRlcmF0b3I7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxudmFyIFJlYWN0U2hhcmVkSW50ZXJuYWxzID0gUmVhY3QuX19TRUNSRVRfSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfWU9VX1dJTExfQkVfRklSRUQ7XG5cbmZ1bmN0aW9uIGVycm9yKGZvcm1hdCkge1xuICB7XG4gICAge1xuICAgICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4yID4gMSA/IF9sZW4yIC0gMSA6IDApLCBfa2V5MiA9IDE7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgICAgYXJnc1tfa2V5MiAtIDFdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICAgIH1cblxuICAgICAgcHJpbnRXYXJuaW5nKCdlcnJvcicsIGZvcm1hdCwgYXJncyk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHByaW50V2FybmluZyhsZXZlbCwgZm9ybWF0LCBhcmdzKSB7XG4gIC8vIFdoZW4gY2hhbmdpbmcgdGhpcyBsb2dpYywgeW91IG1pZ2h0IHdhbnQgdG8gYWxzb1xuICAvLyB1cGRhdGUgY29uc29sZVdpdGhTdGFja0Rldi53d3cuanMgYXMgd2VsbC5cbiAge1xuICAgIHZhciBSZWFjdERlYnVnQ3VycmVudEZyYW1lID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZTtcbiAgICB2YXIgc3RhY2sgPSBSZWFjdERlYnVnQ3VycmVudEZyYW1lLmdldFN0YWNrQWRkZW5kdW0oKTtcblxuICAgIGlmIChzdGFjayAhPT0gJycpIHtcbiAgICAgIGZvcm1hdCArPSAnJXMnO1xuICAgICAgYXJncyA9IGFyZ3MuY29uY2F0KFtzdGFja10pO1xuICAgIH0gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWludGVybmFsL3NhZmUtc3RyaW5nLWNvZXJjaW9uXG5cblxuICAgIHZhciBhcmdzV2l0aEZvcm1hdCA9IGFyZ3MubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICByZXR1cm4gU3RyaW5nKGl0ZW0pO1xuICAgIH0pOyAvLyBDYXJlZnVsOiBSTiBjdXJyZW50bHkgZGVwZW5kcyBvbiB0aGlzIHByZWZpeFxuXG4gICAgYXJnc1dpdGhGb3JtYXQudW5zaGlmdCgnV2FybmluZzogJyArIGZvcm1hdCk7IC8vIFdlIGludGVudGlvbmFsbHkgZG9uJ3QgdXNlIHNwcmVhZCAob3IgLmFwcGx5KSBkaXJlY3RseSBiZWNhdXNlIGl0XG4gICAgLy8gYnJlYWtzIElFOTogaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2lzc3Vlcy8xMzYxMFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1pbnRlcm5hbC9uby1wcm9kdWN0aW9uLWxvZ2dpbmdcblxuICAgIEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseS5jYWxsKGNvbnNvbGVbbGV2ZWxdLCBjb25zb2xlLCBhcmdzV2l0aEZvcm1hdCk7XG4gIH1cbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxudmFyIGVuYWJsZVNjb3BlQVBJID0gZmFsc2U7IC8vIEV4cGVyaW1lbnRhbCBDcmVhdGUgRXZlbnQgSGFuZGxlIEFQSS5cbnZhciBlbmFibGVDYWNoZUVsZW1lbnQgPSBmYWxzZTtcbnZhciBlbmFibGVUcmFuc2l0aW9uVHJhY2luZyA9IGZhbHNlOyAvLyBObyBrbm93biBidWdzLCBidXQgbmVlZHMgcGVyZm9ybWFuY2UgdGVzdGluZ1xuXG52YXIgZW5hYmxlTGVnYWN5SGlkZGVuID0gZmFsc2U7IC8vIEVuYWJsZXMgdW5zdGFibGVfYXZvaWRUaGlzRmFsbGJhY2sgZmVhdHVyZSBpbiBGaWJlclxuLy8gc3R1ZmYuIEludGVuZGVkIHRvIGVuYWJsZSBSZWFjdCBjb3JlIG1lbWJlcnMgdG8gbW9yZSBlYXNpbHkgZGVidWcgc2NoZWR1bGluZ1xuLy8gaXNzdWVzIGluIERFViBidWlsZHMuXG5cbnZhciBlbmFibGVEZWJ1Z1RyYWNpbmcgPSBmYWxzZTsgLy8gVHJhY2sgd2hpY2ggRmliZXIocykgc2NoZWR1bGUgcmVuZGVyIHdvcmsuXG5cbnZhciBSRUFDVF9NT0RVTEVfUkVGRVJFTkNFO1xuXG57XG4gIFJFQUNUX01PRFVMRV9SRUZFUkVOQ0UgPSBTeW1ib2wuZm9yKCdyZWFjdC5tb2R1bGUucmVmZXJlbmNlJyk7XG59XG5cbmZ1bmN0aW9uIGlzVmFsaWRFbGVtZW50VHlwZSh0eXBlKSB7XG4gIGlmICh0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSAvLyBOb3RlOiB0eXBlb2YgbWlnaHQgYmUgb3RoZXIgdGhhbiAnc3ltYm9sJyBvciAnbnVtYmVyJyAoZS5nLiBpZiBpdCdzIGEgcG9seWZpbGwpLlxuXG5cbiAgaWYgKHR5cGUgPT09IFJFQUNUX0ZSQUdNRU5UX1RZUEUgfHwgdHlwZSA9PT0gUkVBQ1RfUFJPRklMRVJfVFlQRSB8fCBlbmFibGVEZWJ1Z1RyYWNpbmcgIHx8IHR5cGUgPT09IFJFQUNUX1NUUklDVF9NT0RFX1RZUEUgfHwgdHlwZSA9PT0gUkVBQ1RfU1VTUEVOU0VfVFlQRSB8fCB0eXBlID09PSBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEUgfHwgZW5hYmxlTGVnYWN5SGlkZGVuICB8fCB0eXBlID09PSBSRUFDVF9PRkZTQ1JFRU5fVFlQRSB8fCBlbmFibGVTY29wZUFQSSAgfHwgZW5hYmxlQ2FjaGVFbGVtZW50ICB8fCBlbmFibGVUcmFuc2l0aW9uVHJhY2luZyApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgdHlwZSA9PT0gJ29iamVjdCcgJiYgdHlwZSAhPT0gbnVsbCkge1xuICAgIGlmICh0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9MQVpZX1RZUEUgfHwgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfTUVNT19UWVBFIHx8IHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX1BST1ZJREVSX1RZUEUgfHwgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfQ09OVEVYVF9UWVBFIHx8IHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0ZPUldBUkRfUkVGX1RZUEUgfHwgLy8gVGhpcyBuZWVkcyB0byBpbmNsdWRlIGFsbCBwb3NzaWJsZSBtb2R1bGUgcmVmZXJlbmNlIG9iamVjdFxuICAgIC8vIHR5cGVzIHN1cHBvcnRlZCBieSBhbnkgRmxpZ2h0IGNvbmZpZ3VyYXRpb24gYW55d2hlcmUgc2luY2VcbiAgICAvLyB3ZSBkb24ndCBrbm93IHdoaWNoIEZsaWdodCBidWlsZCB0aGlzIHdpbGwgZW5kIHVwIGJlaW5nIHVzZWRcbiAgICAvLyB3aXRoLlxuICAgIHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX01PRFVMRV9SRUZFUkVOQ0UgfHwgdHlwZS5nZXRNb2R1bGVJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGdldFdyYXBwZWROYW1lKG91dGVyVHlwZSwgaW5uZXJUeXBlLCB3cmFwcGVyTmFtZSkge1xuICB2YXIgZGlzcGxheU5hbWUgPSBvdXRlclR5cGUuZGlzcGxheU5hbWU7XG5cbiAgaWYgKGRpc3BsYXlOYW1lKSB7XG4gICAgcmV0dXJuIGRpc3BsYXlOYW1lO1xuICB9XG5cbiAgdmFyIGZ1bmN0aW9uTmFtZSA9IGlubmVyVHlwZS5kaXNwbGF5TmFtZSB8fCBpbm5lclR5cGUubmFtZSB8fCAnJztcbiAgcmV0dXJuIGZ1bmN0aW9uTmFtZSAhPT0gJycgPyB3cmFwcGVyTmFtZSArIFwiKFwiICsgZnVuY3Rpb25OYW1lICsgXCIpXCIgOiB3cmFwcGVyTmFtZTtcbn0gLy8gS2VlcCBpbiBzeW5jIHdpdGggcmVhY3QtcmVjb25jaWxlci9nZXRDb21wb25lbnROYW1lRnJvbUZpYmVyXG5cblxuZnVuY3Rpb24gZ2V0Q29udGV4dE5hbWUodHlwZSkge1xuICByZXR1cm4gdHlwZS5kaXNwbGF5TmFtZSB8fCAnQ29udGV4dCc7XG59IC8vIE5vdGUgdGhhdCB0aGUgcmVjb25jaWxlciBwYWNrYWdlIHNob3VsZCBnZW5lcmFsbHkgcHJlZmVyIHRvIHVzZSBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKCkgaW5zdGVhZC5cblxuXG5mdW5jdGlvbiBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodHlwZSkge1xuICBpZiAodHlwZSA9PSBudWxsKSB7XG4gICAgLy8gSG9zdCByb290LCB0ZXh0IG5vZGUgb3IganVzdCBpbnZhbGlkIHR5cGUuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICB7XG4gICAgaWYgKHR5cGVvZiB0eXBlLnRhZyA9PT0gJ251bWJlcicpIHtcbiAgICAgIGVycm9yKCdSZWNlaXZlZCBhbiB1bmV4cGVjdGVkIG9iamVjdCBpbiBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUoKS4gJyArICdUaGlzIGlzIGxpa2VseSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJyk7XG4gICAgfVxuICB9XG5cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIHR5cGUuZGlzcGxheU5hbWUgfHwgdHlwZS5uYW1lIHx8IG51bGw7XG4gIH1cblxuICBpZiAodHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHR5cGU7XG4gIH1cblxuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlIFJFQUNUX0ZSQUdNRU5UX1RZUEU6XG4gICAgICByZXR1cm4gJ0ZyYWdtZW50JztcblxuICAgIGNhc2UgUkVBQ1RfUE9SVEFMX1RZUEU6XG4gICAgICByZXR1cm4gJ1BvcnRhbCc7XG5cbiAgICBjYXNlIFJFQUNUX1BST0ZJTEVSX1RZUEU6XG4gICAgICByZXR1cm4gJ1Byb2ZpbGVyJztcblxuICAgIGNhc2UgUkVBQ1RfU1RSSUNUX01PREVfVFlQRTpcbiAgICAgIHJldHVybiAnU3RyaWN0TW9kZSc7XG5cbiAgICBjYXNlIFJFQUNUX1NVU1BFTlNFX1RZUEU6XG4gICAgICByZXR1cm4gJ1N1c3BlbnNlJztcblxuICAgIGNhc2UgUkVBQ1RfU1VTUEVOU0VfTElTVF9UWVBFOlxuICAgICAgcmV0dXJuICdTdXNwZW5zZUxpc3QnO1xuXG4gIH1cblxuICBpZiAodHlwZW9mIHR5cGUgPT09ICdvYmplY3QnKSB7XG4gICAgc3dpdGNoICh0eXBlLiQkdHlwZW9mKSB7XG4gICAgICBjYXNlIFJFQUNUX0NPTlRFWFRfVFlQRTpcbiAgICAgICAgdmFyIGNvbnRleHQgPSB0eXBlO1xuICAgICAgICByZXR1cm4gZ2V0Q29udGV4dE5hbWUoY29udGV4dCkgKyAnLkNvbnN1bWVyJztcblxuICAgICAgY2FzZSBSRUFDVF9QUk9WSURFUl9UWVBFOlxuICAgICAgICB2YXIgcHJvdmlkZXIgPSB0eXBlO1xuICAgICAgICByZXR1cm4gZ2V0Q29udGV4dE5hbWUocHJvdmlkZXIuX2NvbnRleHQpICsgJy5Qcm92aWRlcic7XG5cbiAgICAgIGNhc2UgUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRTpcbiAgICAgICAgcmV0dXJuIGdldFdyYXBwZWROYW1lKHR5cGUsIHR5cGUucmVuZGVyLCAnRm9yd2FyZFJlZicpO1xuXG4gICAgICBjYXNlIFJFQUNUX01FTU9fVFlQRTpcbiAgICAgICAgdmFyIG91dGVyTmFtZSA9IHR5cGUuZGlzcGxheU5hbWUgfHwgbnVsbDtcblxuICAgICAgICBpZiAob3V0ZXJOYW1lICE9PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIG91dGVyTmFtZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodHlwZS50eXBlKSB8fCAnTWVtbyc7XG5cbiAgICAgIGNhc2UgUkVBQ1RfTEFaWV9UWVBFOlxuICAgICAgICB7XG4gICAgICAgICAgdmFyIGxhenlDb21wb25lbnQgPSB0eXBlO1xuICAgICAgICAgIHZhciBwYXlsb2FkID0gbGF6eUNvbXBvbmVudC5fcGF5bG9hZDtcbiAgICAgICAgICB2YXIgaW5pdCA9IGxhenlDb21wb25lbnQuX2luaXQ7XG5cbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZShpbml0KHBheWxvYWQpKTtcbiAgICAgICAgICB9IGNhdGNoICh4KSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWZhbGx0aHJvdWdoXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbnZhciBhc3NpZ24gPSBPYmplY3QuYXNzaWduO1xuXG4vLyBIZWxwZXJzIHRvIHBhdGNoIGNvbnNvbGUubG9ncyB0byBhdm9pZCBsb2dnaW5nIGR1cmluZyBzaWRlLWVmZmVjdCBmcmVlXG4vLyByZXBsYXlpbmcgb24gcmVuZGVyIGZ1bmN0aW9uLiBUaGlzIGN1cnJlbnRseSBvbmx5IHBhdGNoZXMgdGhlIG9iamVjdFxuLy8gbGF6aWx5IHdoaWNoIHdvbid0IGNvdmVyIGlmIHRoZSBsb2cgZnVuY3Rpb24gd2FzIGV4dHJhY3RlZCBlYWdlcmx5LlxuLy8gV2UgY291bGQgYWxzbyBlYWdlcmx5IHBhdGNoIHRoZSBtZXRob2QuXG52YXIgZGlzYWJsZWREZXB0aCA9IDA7XG52YXIgcHJldkxvZztcbnZhciBwcmV2SW5mbztcbnZhciBwcmV2V2FybjtcbnZhciBwcmV2RXJyb3I7XG52YXIgcHJldkdyb3VwO1xudmFyIHByZXZHcm91cENvbGxhcHNlZDtcbnZhciBwcmV2R3JvdXBFbmQ7XG5cbmZ1bmN0aW9uIGRpc2FibGVkTG9nKCkge31cblxuZGlzYWJsZWRMb2cuX19yZWFjdERpc2FibGVkTG9nID0gdHJ1ZTtcbmZ1bmN0aW9uIGRpc2FibGVMb2dzKCkge1xuICB7XG4gICAgaWYgKGRpc2FibGVkRGVwdGggPT09IDApIHtcbiAgICAgIC8qIGVzbGludC1kaXNhYmxlIHJlYWN0LWludGVybmFsL25vLXByb2R1Y3Rpb24tbG9nZ2luZyAqL1xuICAgICAgcHJldkxvZyA9IGNvbnNvbGUubG9nO1xuICAgICAgcHJldkluZm8gPSBjb25zb2xlLmluZm87XG4gICAgICBwcmV2V2FybiA9IGNvbnNvbGUud2FybjtcbiAgICAgIHByZXZFcnJvciA9IGNvbnNvbGUuZXJyb3I7XG4gICAgICBwcmV2R3JvdXAgPSBjb25zb2xlLmdyb3VwO1xuICAgICAgcHJldkdyb3VwQ29sbGFwc2VkID0gY29uc29sZS5ncm91cENvbGxhcHNlZDtcbiAgICAgIHByZXZHcm91cEVuZCA9IGNvbnNvbGUuZ3JvdXBFbmQ7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvMTkwOTlcblxuICAgICAgdmFyIHByb3BzID0ge1xuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiBkaXNhYmxlZExvZyxcbiAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICAgIH07IC8vICRGbG93Rml4TWUgRmxvdyB0aGlua3MgY29uc29sZSBpcyBpbW11dGFibGUuXG5cbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGNvbnNvbGUsIHtcbiAgICAgICAgaW5mbzogcHJvcHMsXG4gICAgICAgIGxvZzogcHJvcHMsXG4gICAgICAgIHdhcm46IHByb3BzLFxuICAgICAgICBlcnJvcjogcHJvcHMsXG4gICAgICAgIGdyb3VwOiBwcm9wcyxcbiAgICAgICAgZ3JvdXBDb2xsYXBzZWQ6IHByb3BzLFxuICAgICAgICBncm91cEVuZDogcHJvcHNcbiAgICAgIH0pO1xuICAgICAgLyogZXNsaW50LWVuYWJsZSByZWFjdC1pbnRlcm5hbC9uby1wcm9kdWN0aW9uLWxvZ2dpbmcgKi9cbiAgICB9XG5cbiAgICBkaXNhYmxlZERlcHRoKys7XG4gIH1cbn1cbmZ1bmN0aW9uIHJlZW5hYmxlTG9ncygpIHtcbiAge1xuICAgIGRpc2FibGVkRGVwdGgtLTtcblxuICAgIGlmIChkaXNhYmxlZERlcHRoID09PSAwKSB7XG4gICAgICAvKiBlc2xpbnQtZGlzYWJsZSByZWFjdC1pbnRlcm5hbC9uby1wcm9kdWN0aW9uLWxvZ2dpbmcgKi9cbiAgICAgIHZhciBwcm9wcyA9IHtcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgfTsgLy8gJEZsb3dGaXhNZSBGbG93IHRoaW5rcyBjb25zb2xlIGlzIGltbXV0YWJsZS5cblxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoY29uc29sZSwge1xuICAgICAgICBsb2c6IGFzc2lnbih7fSwgcHJvcHMsIHtcbiAgICAgICAgICB2YWx1ZTogcHJldkxvZ1xuICAgICAgICB9KSxcbiAgICAgICAgaW5mbzogYXNzaWduKHt9LCBwcm9wcywge1xuICAgICAgICAgIHZhbHVlOiBwcmV2SW5mb1xuICAgICAgICB9KSxcbiAgICAgICAgd2FybjogYXNzaWduKHt9LCBwcm9wcywge1xuICAgICAgICAgIHZhbHVlOiBwcmV2V2FyblxuICAgICAgICB9KSxcbiAgICAgICAgZXJyb3I6IGFzc2lnbih7fSwgcHJvcHMsIHtcbiAgICAgICAgICB2YWx1ZTogcHJldkVycm9yXG4gICAgICAgIH0pLFxuICAgICAgICBncm91cDogYXNzaWduKHt9LCBwcm9wcywge1xuICAgICAgICAgIHZhbHVlOiBwcmV2R3JvdXBcbiAgICAgICAgfSksXG4gICAgICAgIGdyb3VwQ29sbGFwc2VkOiBhc3NpZ24oe30sIHByb3BzLCB7XG4gICAgICAgICAgdmFsdWU6IHByZXZHcm91cENvbGxhcHNlZFxuICAgICAgICB9KSxcbiAgICAgICAgZ3JvdXBFbmQ6IGFzc2lnbih7fSwgcHJvcHMsIHtcbiAgICAgICAgICB2YWx1ZTogcHJldkdyb3VwRW5kXG4gICAgICAgIH0pXG4gICAgICB9KTtcbiAgICAgIC8qIGVzbGludC1lbmFibGUgcmVhY3QtaW50ZXJuYWwvbm8tcHJvZHVjdGlvbi1sb2dnaW5nICovXG4gICAgfVxuXG4gICAgaWYgKGRpc2FibGVkRGVwdGggPCAwKSB7XG4gICAgICBlcnJvcignZGlzYWJsZWREZXB0aCBmZWxsIGJlbG93IHplcm8uICcgKyAnVGhpcyBpcyBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJyk7XG4gICAgfVxuICB9XG59XG5cbnZhciBSZWFjdEN1cnJlbnREaXNwYXRjaGVyID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuUmVhY3RDdXJyZW50RGlzcGF0Y2hlcjtcbnZhciBwcmVmaXg7XG5mdW5jdGlvbiBkZXNjcmliZUJ1aWx0SW5Db21wb25lbnRGcmFtZShuYW1lLCBzb3VyY2UsIG93bmVyRm4pIHtcbiAge1xuICAgIGlmIChwcmVmaXggPT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gRXh0cmFjdCB0aGUgVk0gc3BlY2lmaWMgcHJlZml4IHVzZWQgYnkgZWFjaCBsaW5lLlxuICAgICAgdHJ5IHtcbiAgICAgICAgdGhyb3cgRXJyb3IoKTtcbiAgICAgIH0gY2F0Y2ggKHgpIHtcbiAgICAgICAgdmFyIG1hdGNoID0geC5zdGFjay50cmltKCkubWF0Y2goL1xcbiggKihhdCApPykvKTtcbiAgICAgICAgcHJlZml4ID0gbWF0Y2ggJiYgbWF0Y2hbMV0gfHwgJyc7XG4gICAgICB9XG4gICAgfSAvLyBXZSB1c2UgdGhlIHByZWZpeCB0byBlbnN1cmUgb3VyIHN0YWNrcyBsaW5lIHVwIHdpdGggbmF0aXZlIHN0YWNrIGZyYW1lcy5cblxuXG4gICAgcmV0dXJuICdcXG4nICsgcHJlZml4ICsgbmFtZTtcbiAgfVxufVxudmFyIHJlZW50cnkgPSBmYWxzZTtcbnZhciBjb21wb25lbnRGcmFtZUNhY2hlO1xuXG57XG4gIHZhciBQb3NzaWJseVdlYWtNYXAgPSB0eXBlb2YgV2Vha01hcCA9PT0gJ2Z1bmN0aW9uJyA/IFdlYWtNYXAgOiBNYXA7XG4gIGNvbXBvbmVudEZyYW1lQ2FjaGUgPSBuZXcgUG9zc2libHlXZWFrTWFwKCk7XG59XG5cbmZ1bmN0aW9uIGRlc2NyaWJlTmF0aXZlQ29tcG9uZW50RnJhbWUoZm4sIGNvbnN0cnVjdCkge1xuICAvLyBJZiBzb21ldGhpbmcgYXNrZWQgZm9yIGEgc3RhY2sgaW5zaWRlIGEgZmFrZSByZW5kZXIsIGl0IHNob3VsZCBnZXQgaWdub3JlZC5cbiAgaWYgKCAhZm4gfHwgcmVlbnRyeSkge1xuICAgIHJldHVybiAnJztcbiAgfVxuXG4gIHtcbiAgICB2YXIgZnJhbWUgPSBjb21wb25lbnRGcmFtZUNhY2hlLmdldChmbik7XG5cbiAgICBpZiAoZnJhbWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGZyYW1lO1xuICAgIH1cbiAgfVxuXG4gIHZhciBjb250cm9sO1xuICByZWVudHJ5ID0gdHJ1ZTtcbiAgdmFyIHByZXZpb3VzUHJlcGFyZVN0YWNrVHJhY2UgPSBFcnJvci5wcmVwYXJlU3RhY2tUcmFjZTsgLy8gJEZsb3dGaXhNZSBJdCBkb2VzIGFjY2VwdCB1bmRlZmluZWQuXG5cbiAgRXJyb3IucHJlcGFyZVN0YWNrVHJhY2UgPSB1bmRlZmluZWQ7XG4gIHZhciBwcmV2aW91c0Rpc3BhdGNoZXI7XG5cbiAge1xuICAgIHByZXZpb3VzRGlzcGF0Y2hlciA9IFJlYWN0Q3VycmVudERpc3BhdGNoZXIuY3VycmVudDsgLy8gU2V0IHRoZSBkaXNwYXRjaGVyIGluIERFViBiZWNhdXNlIHRoaXMgbWlnaHQgYmUgY2FsbCBpbiB0aGUgcmVuZGVyIGZ1bmN0aW9uXG4gICAgLy8gZm9yIHdhcm5pbmdzLlxuXG4gICAgUmVhY3RDdXJyZW50RGlzcGF0Y2hlci5jdXJyZW50ID0gbnVsbDtcbiAgICBkaXNhYmxlTG9ncygpO1xuICB9XG5cbiAgdHJ5IHtcbiAgICAvLyBUaGlzIHNob3VsZCB0aHJvdy5cbiAgICBpZiAoY29uc3RydWN0KSB7XG4gICAgICAvLyBTb21ldGhpbmcgc2hvdWxkIGJlIHNldHRpbmcgdGhlIHByb3BzIGluIHRoZSBjb25zdHJ1Y3Rvci5cbiAgICAgIHZhciBGYWtlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aHJvdyBFcnJvcigpO1xuICAgICAgfTsgLy8gJEZsb3dGaXhNZVxuXG5cbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGYWtlLnByb3RvdHlwZSwgJ3Byb3BzJywge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAvLyBXZSB1c2UgYSB0aHJvd2luZyBzZXR0ZXIgaW5zdGVhZCBvZiBmcm96ZW4gb3Igbm9uLXdyaXRhYmxlIHByb3BzXG4gICAgICAgICAgLy8gYmVjYXVzZSB0aGF0IHdvbid0IHRocm93IGluIGEgbm9uLXN0cmljdCBtb2RlIGZ1bmN0aW9uLlxuICAgICAgICAgIHRocm93IEVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09ICdvYmplY3QnICYmIFJlZmxlY3QuY29uc3RydWN0KSB7XG4gICAgICAgIC8vIFdlIGNvbnN0cnVjdCBhIGRpZmZlcmVudCBjb250cm9sIGZvciB0aGlzIGNhc2UgdG8gaW5jbHVkZSBhbnkgZXh0cmFcbiAgICAgICAgLy8gZnJhbWVzIGFkZGVkIGJ5IHRoZSBjb25zdHJ1Y3QgY2FsbC5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBSZWZsZWN0LmNvbnN0cnVjdChGYWtlLCBbXSk7XG4gICAgICAgIH0gY2F0Y2ggKHgpIHtcbiAgICAgICAgICBjb250cm9sID0geDtcbiAgICAgICAgfVxuXG4gICAgICAgIFJlZmxlY3QuY29uc3RydWN0KGZuLCBbXSwgRmFrZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIEZha2UuY2FsbCgpO1xuICAgICAgICB9IGNhdGNoICh4KSB7XG4gICAgICAgICAgY29udHJvbCA9IHg7XG4gICAgICAgIH1cblxuICAgICAgICBmbi5jYWxsKEZha2UucHJvdG90eXBlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGhyb3cgRXJyb3IoKTtcbiAgICAgIH0gY2F0Y2ggKHgpIHtcbiAgICAgICAgY29udHJvbCA9IHg7XG4gICAgICB9XG5cbiAgICAgIGZuKCk7XG4gICAgfVxuICB9IGNhdGNoIChzYW1wbGUpIHtcbiAgICAvLyBUaGlzIGlzIGlubGluZWQgbWFudWFsbHkgYmVjYXVzZSBjbG9zdXJlIGRvZXNuJ3QgZG8gaXQgZm9yIHVzLlxuICAgIGlmIChzYW1wbGUgJiYgY29udHJvbCAmJiB0eXBlb2Ygc2FtcGxlLnN0YWNrID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gVGhpcyBleHRyYWN0cyB0aGUgZmlyc3QgZnJhbWUgZnJvbSB0aGUgc2FtcGxlIHRoYXQgaXNuJ3QgYWxzbyBpbiB0aGUgY29udHJvbC5cbiAgICAgIC8vIFNraXBwaW5nIG9uZSBmcmFtZSB0aGF0IHdlIGFzc3VtZSBpcyB0aGUgZnJhbWUgdGhhdCBjYWxscyB0aGUgdHdvLlxuICAgICAgdmFyIHNhbXBsZUxpbmVzID0gc2FtcGxlLnN0YWNrLnNwbGl0KCdcXG4nKTtcbiAgICAgIHZhciBjb250cm9sTGluZXMgPSBjb250cm9sLnN0YWNrLnNwbGl0KCdcXG4nKTtcbiAgICAgIHZhciBzID0gc2FtcGxlTGluZXMubGVuZ3RoIC0gMTtcbiAgICAgIHZhciBjID0gY29udHJvbExpbmVzLmxlbmd0aCAtIDE7XG5cbiAgICAgIHdoaWxlIChzID49IDEgJiYgYyA+PSAwICYmIHNhbXBsZUxpbmVzW3NdICE9PSBjb250cm9sTGluZXNbY10pIHtcbiAgICAgICAgLy8gV2UgZXhwZWN0IGF0IGxlYXN0IG9uZSBzdGFjayBmcmFtZSB0byBiZSBzaGFyZWQuXG4gICAgICAgIC8vIFR5cGljYWxseSB0aGlzIHdpbGwgYmUgdGhlIHJvb3QgbW9zdCBvbmUuIEhvd2V2ZXIsIHN0YWNrIGZyYW1lcyBtYXkgYmVcbiAgICAgICAgLy8gY3V0IG9mZiBkdWUgdG8gbWF4aW11bSBzdGFjayBsaW1pdHMuIEluIHRoaXMgY2FzZSwgb25lIG1heWJlIGN1dCBvZmZcbiAgICAgICAgLy8gZWFybGllciB0aGFuIHRoZSBvdGhlci4gV2UgYXNzdW1lIHRoYXQgdGhlIHNhbXBsZSBpcyBsb25nZXIgb3IgdGhlIHNhbWVcbiAgICAgICAgLy8gYW5kIHRoZXJlIGZvciBjdXQgb2ZmIGVhcmxpZXIuIFNvIHdlIHNob3VsZCBmaW5kIHRoZSByb290IG1vc3QgZnJhbWUgaW5cbiAgICAgICAgLy8gdGhlIHNhbXBsZSBzb21ld2hlcmUgaW4gdGhlIGNvbnRyb2wuXG4gICAgICAgIGMtLTtcbiAgICAgIH1cblxuICAgICAgZm9yICg7IHMgPj0gMSAmJiBjID49IDA7IHMtLSwgYy0tKSB7XG4gICAgICAgIC8vIE5leHQgd2UgZmluZCB0aGUgZmlyc3Qgb25lIHRoYXQgaXNuJ3QgdGhlIHNhbWUgd2hpY2ggc2hvdWxkIGJlIHRoZVxuICAgICAgICAvLyBmcmFtZSB0aGF0IGNhbGxlZCBvdXIgc2FtcGxlIGZ1bmN0aW9uIGFuZCB0aGUgY29udHJvbC5cbiAgICAgICAgaWYgKHNhbXBsZUxpbmVzW3NdICE9PSBjb250cm9sTGluZXNbY10pIHtcbiAgICAgICAgICAvLyBJbiBWOCwgdGhlIGZpcnN0IGxpbmUgaXMgZGVzY3JpYmluZyB0aGUgbWVzc2FnZSBidXQgb3RoZXIgVk1zIGRvbid0LlxuICAgICAgICAgIC8vIElmIHdlJ3JlIGFib3V0IHRvIHJldHVybiB0aGUgZmlyc3QgbGluZSwgYW5kIHRoZSBjb250cm9sIGlzIGFsc28gb24gdGhlIHNhbWVcbiAgICAgICAgICAvLyBsaW5lLCB0aGF0J3MgYSBwcmV0dHkgZ29vZCBpbmRpY2F0b3IgdGhhdCBvdXIgc2FtcGxlIHRocmV3IGF0IHNhbWUgbGluZSBhc1xuICAgICAgICAgIC8vIHRoZSBjb250cm9sLiBJLmUuIGJlZm9yZSB3ZSBlbnRlcmVkIHRoZSBzYW1wbGUgZnJhbWUuIFNvIHdlIGlnbm9yZSB0aGlzIHJlc3VsdC5cbiAgICAgICAgICAvLyBUaGlzIGNhbiBoYXBwZW4gaWYgeW91IHBhc3NlZCBhIGNsYXNzIHRvIGZ1bmN0aW9uIGNvbXBvbmVudCwgb3Igbm9uLWZ1bmN0aW9uLlxuICAgICAgICAgIGlmIChzICE9PSAxIHx8IGMgIT09IDEpIHtcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgcy0tO1xuICAgICAgICAgICAgICBjLS07IC8vIFdlIG1heSBzdGlsbCBoYXZlIHNpbWlsYXIgaW50ZXJtZWRpYXRlIGZyYW1lcyBmcm9tIHRoZSBjb25zdHJ1Y3QgY2FsbC5cbiAgICAgICAgICAgICAgLy8gVGhlIG5leHQgb25lIHRoYXQgaXNuJ3QgdGhlIHNhbWUgc2hvdWxkIGJlIG91ciBtYXRjaCB0aG91Z2guXG5cbiAgICAgICAgICAgICAgaWYgKGMgPCAwIHx8IHNhbXBsZUxpbmVzW3NdICE9PSBjb250cm9sTGluZXNbY10pIHtcbiAgICAgICAgICAgICAgICAvLyBWOCBhZGRzIGEgXCJuZXdcIiBwcmVmaXggZm9yIG5hdGl2ZSBjbGFzc2VzLiBMZXQncyByZW1vdmUgaXQgdG8gbWFrZSBpdCBwcmV0dGllci5cbiAgICAgICAgICAgICAgICB2YXIgX2ZyYW1lID0gJ1xcbicgKyBzYW1wbGVMaW5lc1tzXS5yZXBsYWNlKCcgYXQgbmV3ICcsICcgYXQgJyk7IC8vIElmIG91ciBjb21wb25lbnQgZnJhbWUgaXMgbGFiZWxlZCBcIjxhbm9ueW1vdXM+XCJcbiAgICAgICAgICAgICAgICAvLyBidXQgd2UgaGF2ZSBhIHVzZXItcHJvdmlkZWQgXCJkaXNwbGF5TmFtZVwiXG4gICAgICAgICAgICAgICAgLy8gc3BsaWNlIGl0IGluIHRvIG1ha2UgdGhlIHN0YWNrIG1vcmUgcmVhZGFibGUuXG5cblxuICAgICAgICAgICAgICAgIGlmIChmbi5kaXNwbGF5TmFtZSAmJiBfZnJhbWUuaW5jbHVkZXMoJzxhbm9ueW1vdXM+JykpIHtcbiAgICAgICAgICAgICAgICAgIF9mcmFtZSA9IF9mcmFtZS5yZXBsYWNlKCc8YW5vbnltb3VzPicsIGZuLmRpc3BsYXlOYW1lKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudEZyYW1lQ2FjaGUuc2V0KGZuLCBfZnJhbWUpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gLy8gUmV0dXJuIHRoZSBsaW5lIHdlIGZvdW5kLlxuXG5cbiAgICAgICAgICAgICAgICByZXR1cm4gX2ZyYW1lO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IHdoaWxlIChzID49IDEgJiYgYyA+PSAwKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSBmaW5hbGx5IHtcbiAgICByZWVudHJ5ID0gZmFsc2U7XG5cbiAgICB7XG4gICAgICBSZWFjdEN1cnJlbnREaXNwYXRjaGVyLmN1cnJlbnQgPSBwcmV2aW91c0Rpc3BhdGNoZXI7XG4gICAgICByZWVuYWJsZUxvZ3MoKTtcbiAgICB9XG5cbiAgICBFcnJvci5wcmVwYXJlU3RhY2tUcmFjZSA9IHByZXZpb3VzUHJlcGFyZVN0YWNrVHJhY2U7XG4gIH0gLy8gRmFsbGJhY2sgdG8ganVzdCB1c2luZyB0aGUgbmFtZSBpZiB3ZSBjb3VsZG4ndCBtYWtlIGl0IHRocm93LlxuXG5cbiAgdmFyIG5hbWUgPSBmbiA/IGZuLmRpc3BsYXlOYW1lIHx8IGZuLm5hbWUgOiAnJztcbiAgdmFyIHN5bnRoZXRpY0ZyYW1lID0gbmFtZSA/IGRlc2NyaWJlQnVpbHRJbkNvbXBvbmVudEZyYW1lKG5hbWUpIDogJyc7XG5cbiAge1xuICAgIGlmICh0eXBlb2YgZm4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNvbXBvbmVudEZyYW1lQ2FjaGUuc2V0KGZuLCBzeW50aGV0aWNGcmFtZSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHN5bnRoZXRpY0ZyYW1lO1xufVxuZnVuY3Rpb24gZGVzY3JpYmVGdW5jdGlvbkNvbXBvbmVudEZyYW1lKGZuLCBzb3VyY2UsIG93bmVyRm4pIHtcbiAge1xuICAgIHJldHVybiBkZXNjcmliZU5hdGl2ZUNvbXBvbmVudEZyYW1lKGZuLCBmYWxzZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc2hvdWxkQ29uc3RydWN0KENvbXBvbmVudCkge1xuICB2YXIgcHJvdG90eXBlID0gQ29tcG9uZW50LnByb3RvdHlwZTtcbiAgcmV0dXJuICEhKHByb3RvdHlwZSAmJiBwcm90b3R5cGUuaXNSZWFjdENvbXBvbmVudCk7XG59XG5cbmZ1bmN0aW9uIGRlc2NyaWJlVW5rbm93bkVsZW1lbnRUeXBlRnJhbWVJbkRFVih0eXBlLCBzb3VyY2UsIG93bmVyRm4pIHtcblxuICBpZiAodHlwZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAge1xuICAgICAgcmV0dXJuIGRlc2NyaWJlTmF0aXZlQ29tcG9uZW50RnJhbWUodHlwZSwgc2hvdWxkQ29uc3RydWN0KHR5cGUpKTtcbiAgICB9XG4gIH1cblxuICBpZiAodHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIGRlc2NyaWJlQnVpbHRJbkNvbXBvbmVudEZyYW1lKHR5cGUpO1xuICB9XG5cbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9UWVBFOlxuICAgICAgcmV0dXJuIGRlc2NyaWJlQnVpbHRJbkNvbXBvbmVudEZyYW1lKCdTdXNwZW5zZScpO1xuXG4gICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEU6XG4gICAgICByZXR1cm4gZGVzY3JpYmVCdWlsdEluQ29tcG9uZW50RnJhbWUoJ1N1c3BlbnNlTGlzdCcpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnb2JqZWN0Jykge1xuICAgIHN3aXRjaCAodHlwZS4kJHR5cGVvZikge1xuICAgICAgY2FzZSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFOlxuICAgICAgICByZXR1cm4gZGVzY3JpYmVGdW5jdGlvbkNvbXBvbmVudEZyYW1lKHR5cGUucmVuZGVyKTtcblxuICAgICAgY2FzZSBSRUFDVF9NRU1PX1RZUEU6XG4gICAgICAgIC8vIE1lbW8gbWF5IGNvbnRhaW4gYW55IGNvbXBvbmVudCB0eXBlIHNvIHdlIHJlY3Vyc2l2ZWx5IHJlc29sdmUgaXQuXG4gICAgICAgIHJldHVybiBkZXNjcmliZVVua25vd25FbGVtZW50VHlwZUZyYW1lSW5ERVYodHlwZS50eXBlLCBzb3VyY2UsIG93bmVyRm4pO1xuXG4gICAgICBjYXNlIFJFQUNUX0xBWllfVFlQRTpcbiAgICAgICAge1xuICAgICAgICAgIHZhciBsYXp5Q29tcG9uZW50ID0gdHlwZTtcbiAgICAgICAgICB2YXIgcGF5bG9hZCA9IGxhenlDb21wb25lbnQuX3BheWxvYWQ7XG4gICAgICAgICAgdmFyIGluaXQgPSBsYXp5Q29tcG9uZW50Ll9pbml0O1xuXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIExhenkgbWF5IGNvbnRhaW4gYW55IGNvbXBvbmVudCB0eXBlIHNvIHdlIHJlY3Vyc2l2ZWx5IHJlc29sdmUgaXQuXG4gICAgICAgICAgICByZXR1cm4gZGVzY3JpYmVVbmtub3duRWxlbWVudFR5cGVGcmFtZUluREVWKGluaXQocGF5bG9hZCksIHNvdXJjZSwgb3duZXJGbik7XG4gICAgICAgICAgfSBjYXRjaCAoeCkge31cbiAgICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiAnJztcbn1cblxudmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxudmFyIGxvZ2dlZFR5cGVGYWlsdXJlcyA9IHt9O1xudmFyIFJlYWN0RGVidWdDdXJyZW50RnJhbWUgPSBSZWFjdFNoYXJlZEludGVybmFscy5SZWFjdERlYnVnQ3VycmVudEZyYW1lO1xuXG5mdW5jdGlvbiBzZXRDdXJyZW50bHlWYWxpZGF0aW5nRWxlbWVudChlbGVtZW50KSB7XG4gIHtcbiAgICBpZiAoZWxlbWVudCkge1xuICAgICAgdmFyIG93bmVyID0gZWxlbWVudC5fb3duZXI7XG4gICAgICB2YXIgc3RhY2sgPSBkZXNjcmliZVVua25vd25FbGVtZW50VHlwZUZyYW1lSW5ERVYoZWxlbWVudC50eXBlLCBlbGVtZW50Ll9zb3VyY2UsIG93bmVyID8gb3duZXIudHlwZSA6IG51bGwpO1xuICAgICAgUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZS5zZXRFeHRyYVN0YWNrRnJhbWUoc3RhY2spO1xuICAgIH0gZWxzZSB7XG4gICAgICBSZWFjdERlYnVnQ3VycmVudEZyYW1lLnNldEV4dHJhU3RhY2tGcmFtZShudWxsKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gY2hlY2tQcm9wVHlwZXModHlwZVNwZWNzLCB2YWx1ZXMsIGxvY2F0aW9uLCBjb21wb25lbnROYW1lLCBlbGVtZW50KSB7XG4gIHtcbiAgICAvLyAkRmxvd0ZpeE1lIFRoaXMgaXMgb2theSBidXQgRmxvdyBkb2Vzbid0IGtub3cgaXQuXG4gICAgdmFyIGhhcyA9IEZ1bmN0aW9uLmNhbGwuYmluZChoYXNPd25Qcm9wZXJ0eSk7XG5cbiAgICBmb3IgKHZhciB0eXBlU3BlY05hbWUgaW4gdHlwZVNwZWNzKSB7XG4gICAgICBpZiAoaGFzKHR5cGVTcGVjcywgdHlwZVNwZWNOYW1lKSkge1xuICAgICAgICB2YXIgZXJyb3IkMSA9IHZvaWQgMDsgLy8gUHJvcCB0eXBlIHZhbGlkYXRpb24gbWF5IHRocm93LiBJbiBjYXNlIHRoZXkgZG8sIHdlIGRvbid0IHdhbnQgdG9cbiAgICAgICAgLy8gZmFpbCB0aGUgcmVuZGVyIHBoYXNlIHdoZXJlIGl0IGRpZG4ndCBmYWlsIGJlZm9yZS4gU28gd2UgbG9nIGl0LlxuICAgICAgICAvLyBBZnRlciB0aGVzZSBoYXZlIGJlZW4gY2xlYW5lZCB1cCwgd2UnbGwgbGV0IHRoZW0gdGhyb3cuXG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBUaGlzIGlzIGludGVudGlvbmFsbHkgYW4gaW52YXJpYW50IHRoYXQgZ2V0cyBjYXVnaHQuIEl0J3MgdGhlIHNhbWVcbiAgICAgICAgICAvLyBiZWhhdmlvciBhcyB3aXRob3V0IHRoaXMgc3RhdGVtZW50IGV4Y2VwdCB3aXRoIGEgYmV0dGVyIG1lc3NhZ2UuXG4gICAgICAgICAgaWYgKHR5cGVvZiB0eXBlU3BlY3NbdHlwZVNwZWNOYW1lXSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWludGVybmFsL3Byb2QtZXJyb3ItY29kZXNcbiAgICAgICAgICAgIHZhciBlcnIgPSBFcnJvcigoY29tcG9uZW50TmFtZSB8fCAnUmVhY3QgY2xhc3MnKSArICc6ICcgKyBsb2NhdGlvbiArICcgdHlwZSBgJyArIHR5cGVTcGVjTmFtZSArICdgIGlzIGludmFsaWQ7ICcgKyAnaXQgbXVzdCBiZSBhIGZ1bmN0aW9uLCB1c3VhbGx5IGZyb20gdGhlIGBwcm9wLXR5cGVzYCBwYWNrYWdlLCBidXQgcmVjZWl2ZWQgYCcgKyB0eXBlb2YgdHlwZVNwZWNzW3R5cGVTcGVjTmFtZV0gKyAnYC4nICsgJ1RoaXMgb2Z0ZW4gaGFwcGVucyBiZWNhdXNlIG9mIHR5cG9zIHN1Y2ggYXMgYFByb3BUeXBlcy5mdW5jdGlvbmAgaW5zdGVhZCBvZiBgUHJvcFR5cGVzLmZ1bmNgLicpO1xuICAgICAgICAgICAgZXJyLm5hbWUgPSAnSW52YXJpYW50IFZpb2xhdGlvbic7XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZXJyb3IkMSA9IHR5cGVTcGVjc1t0eXBlU3BlY05hbWVdKHZhbHVlcywgdHlwZVNwZWNOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgbnVsbCwgJ1NFQ1JFVF9ET19OT1RfUEFTU19USElTX09SX1lPVV9XSUxMX0JFX0ZJUkVEJyk7XG4gICAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgZXJyb3IkMSA9IGV4O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGVycm9yJDEgJiYgIShlcnJvciQxIGluc3RhbmNlb2YgRXJyb3IpKSB7XG4gICAgICAgICAgc2V0Q3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQoZWxlbWVudCk7XG5cbiAgICAgICAgICBlcnJvcignJXM6IHR5cGUgc3BlY2lmaWNhdGlvbiBvZiAlcycgKyAnIGAlc2AgaXMgaW52YWxpZDsgdGhlIHR5cGUgY2hlY2tlciAnICsgJ2Z1bmN0aW9uIG11c3QgcmV0dXJuIGBudWxsYCBvciBhbiBgRXJyb3JgIGJ1dCByZXR1cm5lZCBhICVzLiAnICsgJ1lvdSBtYXkgaGF2ZSBmb3Jnb3R0ZW4gdG8gcGFzcyBhbiBhcmd1bWVudCB0byB0aGUgdHlwZSBjaGVja2VyICcgKyAnY3JlYXRvciAoYXJyYXlPZiwgaW5zdGFuY2VPZiwgb2JqZWN0T2YsIG9uZU9mLCBvbmVPZlR5cGUsIGFuZCAnICsgJ3NoYXBlIGFsbCByZXF1aXJlIGFuIGFyZ3VtZW50KS4nLCBjb21wb25lbnROYW1lIHx8ICdSZWFjdCBjbGFzcycsIGxvY2F0aW9uLCB0eXBlU3BlY05hbWUsIHR5cGVvZiBlcnJvciQxKTtcblxuICAgICAgICAgIHNldEN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50KG51bGwpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGVycm9yJDEgaW5zdGFuY2VvZiBFcnJvciAmJiAhKGVycm9yJDEubWVzc2FnZSBpbiBsb2dnZWRUeXBlRmFpbHVyZXMpKSB7XG4gICAgICAgICAgLy8gT25seSBtb25pdG9yIHRoaXMgZmFpbHVyZSBvbmNlIGJlY2F1c2UgdGhlcmUgdGVuZHMgdG8gYmUgYSBsb3Qgb2YgdGhlXG4gICAgICAgICAgLy8gc2FtZSBlcnJvci5cbiAgICAgICAgICBsb2dnZWRUeXBlRmFpbHVyZXNbZXJyb3IkMS5tZXNzYWdlXSA9IHRydWU7XG4gICAgICAgICAgc2V0Q3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQoZWxlbWVudCk7XG5cbiAgICAgICAgICBlcnJvcignRmFpbGVkICVzIHR5cGU6ICVzJywgbG9jYXRpb24sIGVycm9yJDEubWVzc2FnZSk7XG5cbiAgICAgICAgICBzZXRDdXJyZW50bHlWYWxpZGF0aW5nRWxlbWVudChudWxsKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG52YXIgaXNBcnJheUltcGwgPSBBcnJheS5pc0FycmF5OyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVkZWNsYXJlXG5cbmZ1bmN0aW9uIGlzQXJyYXkoYSkge1xuICByZXR1cm4gaXNBcnJheUltcGwoYSk7XG59XG5cbi8qXG4gKiBUaGUgYCcnICsgdmFsdWVgIHBhdHRlcm4gKHVzZWQgaW4gaW4gcGVyZi1zZW5zaXRpdmUgY29kZSkgdGhyb3dzIGZvciBTeW1ib2xcbiAqIGFuZCBUZW1wb3JhbC4qIHR5cGVzLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L3B1bGwvMjIwNjQuXG4gKlxuICogVGhlIGZ1bmN0aW9ucyBpbiB0aGlzIG1vZHVsZSB3aWxsIHRocm93IGFuIGVhc2llci10by11bmRlcnN0YW5kLFxuICogZWFzaWVyLXRvLWRlYnVnIGV4Y2VwdGlvbiB3aXRoIGEgY2xlYXIgZXJyb3JzIG1lc3NhZ2UgbWVzc2FnZSBleHBsYWluaW5nIHRoZVxuICogcHJvYmxlbS4gKEluc3RlYWQgb2YgYSBjb25mdXNpbmcgZXhjZXB0aW9uIHRocm93biBpbnNpZGUgdGhlIGltcGxlbWVudGF0aW9uXG4gKiBvZiB0aGUgYHZhbHVlYCBvYmplY3QpLlxuICovXG4vLyAkRmxvd0ZpeE1lIG9ubHkgY2FsbGVkIGluIERFViwgc28gdm9pZCByZXR1cm4gaXMgbm90IHBvc3NpYmxlLlxuZnVuY3Rpb24gdHlwZU5hbWUodmFsdWUpIHtcbiAge1xuICAgIC8vIHRvU3RyaW5nVGFnIGlzIG5lZWRlZCBmb3IgbmFtZXNwYWNlZCB0eXBlcyBsaWtlIFRlbXBvcmFsLkluc3RhbnRcbiAgICB2YXIgaGFzVG9TdHJpbmdUYWcgPSB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIFN5bWJvbC50b1N0cmluZ1RhZztcbiAgICB2YXIgdHlwZSA9IGhhc1RvU3RyaW5nVGFnICYmIHZhbHVlW1N5bWJvbC50b1N0cmluZ1RhZ10gfHwgdmFsdWUuY29uc3RydWN0b3IubmFtZSB8fCAnT2JqZWN0JztcbiAgICByZXR1cm4gdHlwZTtcbiAgfVxufSAvLyAkRmxvd0ZpeE1lIG9ubHkgY2FsbGVkIGluIERFViwgc28gdm9pZCByZXR1cm4gaXMgbm90IHBvc3NpYmxlLlxuXG5cbmZ1bmN0aW9uIHdpbGxDb2VyY2lvblRocm93KHZhbHVlKSB7XG4gIHtcbiAgICB0cnkge1xuICAgICAgdGVzdFN0cmluZ0NvZXJjaW9uKHZhbHVlKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gdGVzdFN0cmluZ0NvZXJjaW9uKHZhbHVlKSB7XG4gIC8vIElmIHlvdSBlbmRlZCB1cCBoZXJlIGJ5IGZvbGxvd2luZyBhbiBleGNlcHRpb24gY2FsbCBzdGFjaywgaGVyZSdzIHdoYXQnc1xuICAvLyBoYXBwZW5lZDogeW91IHN1cHBsaWVkIGFuIG9iamVjdCBvciBzeW1ib2wgdmFsdWUgdG8gUmVhY3QgKGFzIGEgcHJvcCwga2V5LFxuICAvLyBET00gYXR0cmlidXRlLCBDU1MgcHJvcGVydHksIHN0cmluZyByZWYsIGV0Yy4pIGFuZCB3aGVuIFJlYWN0IHRyaWVkIHRvXG4gIC8vIGNvZXJjZSBpdCB0byBhIHN0cmluZyB1c2luZyBgJycgKyB2YWx1ZWAsIGFuIGV4Y2VwdGlvbiB3YXMgdGhyb3duLlxuICAvL1xuICAvLyBUaGUgbW9zdCBjb21tb24gdHlwZXMgdGhhdCB3aWxsIGNhdXNlIHRoaXMgZXhjZXB0aW9uIGFyZSBgU3ltYm9sYCBpbnN0YW5jZXNcbiAgLy8gYW5kIFRlbXBvcmFsIG9iamVjdHMgbGlrZSBgVGVtcG9yYWwuSW5zdGFudGAuIEJ1dCBhbnkgb2JqZWN0IHRoYXQgaGFzIGFcbiAgLy8gYHZhbHVlT2ZgIG9yIGBbU3ltYm9sLnRvUHJpbWl0aXZlXWAgbWV0aG9kIHRoYXQgdGhyb3dzIHdpbGwgYWxzbyBjYXVzZSB0aGlzXG4gIC8vIGV4Y2VwdGlvbi4gKExpYnJhcnkgYXV0aG9ycyBkbyB0aGlzIHRvIHByZXZlbnQgdXNlcnMgZnJvbSB1c2luZyBidWlsdC1pblxuICAvLyBudW1lcmljIG9wZXJhdG9ycyBsaWtlIGArYCBvciBjb21wYXJpc29uIG9wZXJhdG9ycyBsaWtlIGA+PWAgYmVjYXVzZSBjdXN0b21cbiAgLy8gbWV0aG9kcyBhcmUgbmVlZGVkIHRvIHBlcmZvcm0gYWNjdXJhdGUgYXJpdGhtZXRpYyBvciBjb21wYXJpc29uLilcbiAgLy9cbiAgLy8gVG8gZml4IHRoZSBwcm9ibGVtLCBjb2VyY2UgdGhpcyBvYmplY3Qgb3Igc3ltYm9sIHZhbHVlIHRvIGEgc3RyaW5nIGJlZm9yZVxuICAvLyBwYXNzaW5nIGl0IHRvIFJlYWN0LiBUaGUgbW9zdCByZWxpYWJsZSB3YXkgaXMgdXN1YWxseSBgU3RyaW5nKHZhbHVlKWAuXG4gIC8vXG4gIC8vIFRvIGZpbmQgd2hpY2ggdmFsdWUgaXMgdGhyb3dpbmcsIGNoZWNrIHRoZSBicm93c2VyIG9yIGRlYnVnZ2VyIGNvbnNvbGUuXG4gIC8vIEJlZm9yZSB0aGlzIGV4Y2VwdGlvbiB3YXMgdGhyb3duLCB0aGVyZSBzaG91bGQgYmUgYGNvbnNvbGUuZXJyb3JgIG91dHB1dFxuICAvLyB0aGF0IHNob3dzIHRoZSB0eXBlIChTeW1ib2wsIFRlbXBvcmFsLlBsYWluRGF0ZSwgZXRjLikgdGhhdCBjYXVzZWQgdGhlXG4gIC8vIHByb2JsZW0gYW5kIGhvdyB0aGF0IHR5cGUgd2FzIHVzZWQ6IGtleSwgYXRycmlidXRlLCBpbnB1dCB2YWx1ZSBwcm9wLCBldGMuXG4gIC8vIEluIG1vc3QgY2FzZXMsIHRoaXMgY29uc29sZSBvdXRwdXQgYWxzbyBzaG93cyB0aGUgY29tcG9uZW50IGFuZCBpdHNcbiAgLy8gYW5jZXN0b3IgY29tcG9uZW50cyB3aGVyZSB0aGUgZXhjZXB0aW9uIGhhcHBlbmVkLlxuICAvL1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaW50ZXJuYWwvc2FmZS1zdHJpbmctY29lcmNpb25cbiAgcmV0dXJuICcnICsgdmFsdWU7XG59XG5mdW5jdGlvbiBjaGVja0tleVN0cmluZ0NvZXJjaW9uKHZhbHVlKSB7XG4gIHtcbiAgICBpZiAod2lsbENvZXJjaW9uVGhyb3codmFsdWUpKSB7XG4gICAgICBlcnJvcignVGhlIHByb3ZpZGVkIGtleSBpcyBhbiB1bnN1cHBvcnRlZCB0eXBlICVzLicgKyAnIFRoaXMgdmFsdWUgbXVzdCBiZSBjb2VyY2VkIHRvIGEgc3RyaW5nIGJlZm9yZSBiZWZvcmUgdXNpbmcgaXQgaGVyZS4nLCB0eXBlTmFtZSh2YWx1ZSkpO1xuXG4gICAgICByZXR1cm4gdGVzdFN0cmluZ0NvZXJjaW9uKHZhbHVlKTsgLy8gdGhyb3cgKHRvIGhlbHAgY2FsbGVycyBmaW5kIHRyb3VibGVzaG9vdGluZyBjb21tZW50cylcbiAgICB9XG4gIH1cbn1cblxudmFyIFJlYWN0Q3VycmVudE93bmVyID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuUmVhY3RDdXJyZW50T3duZXI7XG52YXIgUkVTRVJWRURfUFJPUFMgPSB7XG4gIGtleTogdHJ1ZSxcbiAgcmVmOiB0cnVlLFxuICBfX3NlbGY6IHRydWUsXG4gIF9fc291cmNlOiB0cnVlXG59O1xudmFyIHNwZWNpYWxQcm9wS2V5V2FybmluZ1Nob3duO1xudmFyIHNwZWNpYWxQcm9wUmVmV2FybmluZ1Nob3duO1xudmFyIGRpZFdhcm5BYm91dFN0cmluZ1JlZnM7XG5cbntcbiAgZGlkV2FybkFib3V0U3RyaW5nUmVmcyA9IHt9O1xufVxuXG5mdW5jdGlvbiBoYXNWYWxpZFJlZihjb25maWcpIHtcbiAge1xuICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgJ3JlZicpKSB7XG4gICAgICB2YXIgZ2V0dGVyID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihjb25maWcsICdyZWYnKS5nZXQ7XG5cbiAgICAgIGlmIChnZXR0ZXIgJiYgZ2V0dGVyLmlzUmVhY3RXYXJuaW5nKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gY29uZmlnLnJlZiAhPT0gdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiBoYXNWYWxpZEtleShjb25maWcpIHtcbiAge1xuICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgJ2tleScpKSB7XG4gICAgICB2YXIgZ2V0dGVyID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihjb25maWcsICdrZXknKS5nZXQ7XG5cbiAgICAgIGlmIChnZXR0ZXIgJiYgZ2V0dGVyLmlzUmVhY3RXYXJuaW5nKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gY29uZmlnLmtleSAhPT0gdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiB3YXJuSWZTdHJpbmdSZWZDYW5ub3RCZUF1dG9Db252ZXJ0ZWQoY29uZmlnLCBzZWxmKSB7XG4gIHtcbiAgICBpZiAodHlwZW9mIGNvbmZpZy5yZWYgPT09ICdzdHJpbmcnICYmIFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQgJiYgc2VsZiAmJiBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50LnN0YXRlTm9kZSAhPT0gc2VsZikge1xuICAgICAgdmFyIGNvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUoUmVhY3RDdXJyZW50T3duZXIuY3VycmVudC50eXBlKTtcblxuICAgICAgaWYgKCFkaWRXYXJuQWJvdXRTdHJpbmdSZWZzW2NvbXBvbmVudE5hbWVdKSB7XG4gICAgICAgIGVycm9yKCdDb21wb25lbnQgXCIlc1wiIGNvbnRhaW5zIHRoZSBzdHJpbmcgcmVmIFwiJXNcIi4gJyArICdTdXBwb3J0IGZvciBzdHJpbmcgcmVmcyB3aWxsIGJlIHJlbW92ZWQgaW4gYSBmdXR1cmUgbWFqb3IgcmVsZWFzZS4gJyArICdUaGlzIGNhc2UgY2Fubm90IGJlIGF1dG9tYXRpY2FsbHkgY29udmVydGVkIHRvIGFuIGFycm93IGZ1bmN0aW9uLiAnICsgJ1dlIGFzayB5b3UgdG8gbWFudWFsbHkgZml4IHRoaXMgY2FzZSBieSB1c2luZyB1c2VSZWYoKSBvciBjcmVhdGVSZWYoKSBpbnN0ZWFkLiAnICsgJ0xlYXJuIG1vcmUgYWJvdXQgdXNpbmcgcmVmcyBzYWZlbHkgaGVyZTogJyArICdodHRwczovL3JlYWN0anMub3JnL2xpbmsvc3RyaWN0LW1vZGUtc3RyaW5nLXJlZicsIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZShSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50LnR5cGUpLCBjb25maWcucmVmKTtcblxuICAgICAgICBkaWRXYXJuQWJvdXRTdHJpbmdSZWZzW2NvbXBvbmVudE5hbWVdID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZGVmaW5lS2V5UHJvcFdhcm5pbmdHZXR0ZXIocHJvcHMsIGRpc3BsYXlOYW1lKSB7XG4gIHtcbiAgICB2YXIgd2FybkFib3V0QWNjZXNzaW5nS2V5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCFzcGVjaWFsUHJvcEtleVdhcm5pbmdTaG93bikge1xuICAgICAgICBzcGVjaWFsUHJvcEtleVdhcm5pbmdTaG93biA9IHRydWU7XG5cbiAgICAgICAgZXJyb3IoJyVzOiBga2V5YCBpcyBub3QgYSBwcm9wLiBUcnlpbmcgdG8gYWNjZXNzIGl0IHdpbGwgcmVzdWx0ICcgKyAnaW4gYHVuZGVmaW5lZGAgYmVpbmcgcmV0dXJuZWQuIElmIHlvdSBuZWVkIHRvIGFjY2VzcyB0aGUgc2FtZSAnICsgJ3ZhbHVlIHdpdGhpbiB0aGUgY2hpbGQgY29tcG9uZW50LCB5b3Ugc2hvdWxkIHBhc3MgaXQgYXMgYSBkaWZmZXJlbnQgJyArICdwcm9wLiAoaHR0cHM6Ly9yZWFjdGpzLm9yZy9saW5rL3NwZWNpYWwtcHJvcHMpJywgZGlzcGxheU5hbWUpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB3YXJuQWJvdXRBY2Nlc3NpbmdLZXkuaXNSZWFjdFdhcm5pbmcgPSB0cnVlO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm9wcywgJ2tleScsIHtcbiAgICAgIGdldDogd2FybkFib3V0QWNjZXNzaW5nS2V5LFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZGVmaW5lUmVmUHJvcFdhcm5pbmdHZXR0ZXIocHJvcHMsIGRpc3BsYXlOYW1lKSB7XG4gIHtcbiAgICB2YXIgd2FybkFib3V0QWNjZXNzaW5nUmVmID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCFzcGVjaWFsUHJvcFJlZldhcm5pbmdTaG93bikge1xuICAgICAgICBzcGVjaWFsUHJvcFJlZldhcm5pbmdTaG93biA9IHRydWU7XG5cbiAgICAgICAgZXJyb3IoJyVzOiBgcmVmYCBpcyBub3QgYSBwcm9wLiBUcnlpbmcgdG8gYWNjZXNzIGl0IHdpbGwgcmVzdWx0ICcgKyAnaW4gYHVuZGVmaW5lZGAgYmVpbmcgcmV0dXJuZWQuIElmIHlvdSBuZWVkIHRvIGFjY2VzcyB0aGUgc2FtZSAnICsgJ3ZhbHVlIHdpdGhpbiB0aGUgY2hpbGQgY29tcG9uZW50LCB5b3Ugc2hvdWxkIHBhc3MgaXQgYXMgYSBkaWZmZXJlbnQgJyArICdwcm9wLiAoaHR0cHM6Ly9yZWFjdGpzLm9yZy9saW5rL3NwZWNpYWwtcHJvcHMpJywgZGlzcGxheU5hbWUpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB3YXJuQWJvdXRBY2Nlc3NpbmdSZWYuaXNSZWFjdFdhcm5pbmcgPSB0cnVlO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm9wcywgJ3JlZicsIHtcbiAgICAgIGdldDogd2FybkFib3V0QWNjZXNzaW5nUmVmLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH1cbn1cbi8qKlxuICogRmFjdG9yeSBtZXRob2QgdG8gY3JlYXRlIGEgbmV3IFJlYWN0IGVsZW1lbnQuIFRoaXMgbm8gbG9uZ2VyIGFkaGVyZXMgdG9cbiAqIHRoZSBjbGFzcyBwYXR0ZXJuLCBzbyBkbyBub3QgdXNlIG5ldyB0byBjYWxsIGl0LiBBbHNvLCBpbnN0YW5jZW9mIGNoZWNrXG4gKiB3aWxsIG5vdCB3b3JrLiBJbnN0ZWFkIHRlc3QgJCR0eXBlb2YgZmllbGQgYWdhaW5zdCBTeW1ib2wuZm9yKCdyZWFjdC5lbGVtZW50JykgdG8gY2hlY2tcbiAqIGlmIHNvbWV0aGluZyBpcyBhIFJlYWN0IEVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHsqfSB0eXBlXG4gKiBAcGFyYW0geyp9IHByb3BzXG4gKiBAcGFyYW0geyp9IGtleVxuICogQHBhcmFtIHtzdHJpbmd8b2JqZWN0fSByZWZcbiAqIEBwYXJhbSB7Kn0gb3duZXJcbiAqIEBwYXJhbSB7Kn0gc2VsZiBBICp0ZW1wb3JhcnkqIGhlbHBlciB0byBkZXRlY3QgcGxhY2VzIHdoZXJlIGB0aGlzYCBpc1xuICogZGlmZmVyZW50IGZyb20gdGhlIGBvd25lcmAgd2hlbiBSZWFjdC5jcmVhdGVFbGVtZW50IGlzIGNhbGxlZCwgc28gdGhhdCB3ZVxuICogY2FuIHdhcm4uIFdlIHdhbnQgdG8gZ2V0IHJpZCBvZiBvd25lciBhbmQgcmVwbGFjZSBzdHJpbmcgYHJlZmBzIHdpdGggYXJyb3dcbiAqIGZ1bmN0aW9ucywgYW5kIGFzIGxvbmcgYXMgYHRoaXNgIGFuZCBvd25lciBhcmUgdGhlIHNhbWUsIHRoZXJlIHdpbGwgYmUgbm9cbiAqIGNoYW5nZSBpbiBiZWhhdmlvci5cbiAqIEBwYXJhbSB7Kn0gc291cmNlIEFuIGFubm90YXRpb24gb2JqZWN0IChhZGRlZCBieSBhIHRyYW5zcGlsZXIgb3Igb3RoZXJ3aXNlKVxuICogaW5kaWNhdGluZyBmaWxlbmFtZSwgbGluZSBudW1iZXIsIGFuZC9vciBvdGhlciBpbmZvcm1hdGlvbi5cbiAqIEBpbnRlcm5hbFxuICovXG5cblxudmFyIFJlYWN0RWxlbWVudCA9IGZ1bmN0aW9uICh0eXBlLCBrZXksIHJlZiwgc2VsZiwgc291cmNlLCBvd25lciwgcHJvcHMpIHtcbiAgdmFyIGVsZW1lbnQgPSB7XG4gICAgLy8gVGhpcyB0YWcgYWxsb3dzIHVzIHRvIHVuaXF1ZWx5IGlkZW50aWZ5IHRoaXMgYXMgYSBSZWFjdCBFbGVtZW50XG4gICAgJCR0eXBlb2Y6IFJFQUNUX0VMRU1FTlRfVFlQRSxcbiAgICAvLyBCdWlsdC1pbiBwcm9wZXJ0aWVzIHRoYXQgYmVsb25nIG9uIHRoZSBlbGVtZW50XG4gICAgdHlwZTogdHlwZSxcbiAgICBrZXk6IGtleSxcbiAgICByZWY6IHJlZixcbiAgICBwcm9wczogcHJvcHMsXG4gICAgLy8gUmVjb3JkIHRoZSBjb21wb25lbnQgcmVzcG9uc2libGUgZm9yIGNyZWF0aW5nIHRoaXMgZWxlbWVudC5cbiAgICBfb3duZXI6IG93bmVyXG4gIH07XG5cbiAge1xuICAgIC8vIFRoZSB2YWxpZGF0aW9uIGZsYWcgaXMgY3VycmVudGx5IG11dGF0aXZlLiBXZSBwdXQgaXQgb25cbiAgICAvLyBhbiBleHRlcm5hbCBiYWNraW5nIHN0b3JlIHNvIHRoYXQgd2UgY2FuIGZyZWV6ZSB0aGUgd2hvbGUgb2JqZWN0LlxuICAgIC8vIFRoaXMgY2FuIGJlIHJlcGxhY2VkIHdpdGggYSBXZWFrTWFwIG9uY2UgdGhleSBhcmUgaW1wbGVtZW50ZWQgaW5cbiAgICAvLyBjb21tb25seSB1c2VkIGRldmVsb3BtZW50IGVudmlyb25tZW50cy5cbiAgICBlbGVtZW50Ll9zdG9yZSA9IHt9OyAvLyBUbyBtYWtlIGNvbXBhcmluZyBSZWFjdEVsZW1lbnRzIGVhc2llciBmb3IgdGVzdGluZyBwdXJwb3Nlcywgd2UgbWFrZVxuICAgIC8vIHRoZSB2YWxpZGF0aW9uIGZsYWcgbm9uLWVudW1lcmFibGUgKHdoZXJlIHBvc3NpYmxlLCB3aGljaCBzaG91bGRcbiAgICAvLyBpbmNsdWRlIGV2ZXJ5IGVudmlyb25tZW50IHdlIHJ1biB0ZXN0cyBpbiksIHNvIHRoZSB0ZXN0IGZyYW1ld29ya1xuICAgIC8vIGlnbm9yZXMgaXQuXG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZWxlbWVudC5fc3RvcmUsICd2YWxpZGF0ZWQnLCB7XG4gICAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIHZhbHVlOiBmYWxzZVxuICAgIH0pOyAvLyBzZWxmIGFuZCBzb3VyY2UgYXJlIERFViBvbmx5IHByb3BlcnRpZXMuXG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZWxlbWVudCwgJ19zZWxmJywge1xuICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgICAgdmFsdWU6IHNlbGZcbiAgICB9KTsgLy8gVHdvIGVsZW1lbnRzIGNyZWF0ZWQgaW4gdHdvIGRpZmZlcmVudCBwbGFjZXMgc2hvdWxkIGJlIGNvbnNpZGVyZWRcbiAgICAvLyBlcXVhbCBmb3IgdGVzdGluZyBwdXJwb3NlcyBhbmQgdGhlcmVmb3JlIHdlIGhpZGUgaXQgZnJvbSBlbnVtZXJhdGlvbi5cblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbGVtZW50LCAnX3NvdXJjZScsIHtcbiAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICAgIHZhbHVlOiBzb3VyY2VcbiAgICB9KTtcblxuICAgIGlmIChPYmplY3QuZnJlZXplKSB7XG4gICAgICBPYmplY3QuZnJlZXplKGVsZW1lbnQucHJvcHMpO1xuICAgICAgT2JqZWN0LmZyZWV6ZShlbGVtZW50KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZWxlbWVudDtcbn07XG4vKipcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9yZWFjdGpzL3JmY3MvcHVsbC8xMDdcbiAqIEBwYXJhbSB7Kn0gdHlwZVxuICogQHBhcmFtIHtvYmplY3R9IHByb3BzXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5XG4gKi9cblxuZnVuY3Rpb24ganN4REVWKHR5cGUsIGNvbmZpZywgbWF5YmVLZXksIHNvdXJjZSwgc2VsZikge1xuICB7XG4gICAgdmFyIHByb3BOYW1lOyAvLyBSZXNlcnZlZCBuYW1lcyBhcmUgZXh0cmFjdGVkXG5cbiAgICB2YXIgcHJvcHMgPSB7fTtcbiAgICB2YXIga2V5ID0gbnVsbDtcbiAgICB2YXIgcmVmID0gbnVsbDsgLy8gQ3VycmVudGx5LCBrZXkgY2FuIGJlIHNwcmVhZCBpbiBhcyBhIHByb3AuIFRoaXMgY2F1c2VzIGEgcG90ZW50aWFsXG4gICAgLy8gaXNzdWUgaWYga2V5IGlzIGFsc28gZXhwbGljaXRseSBkZWNsYXJlZCAoaWUuIDxkaXYgey4uLnByb3BzfSBrZXk9XCJIaVwiIC8+XG4gICAgLy8gb3IgPGRpdiBrZXk9XCJIaVwiIHsuLi5wcm9wc30gLz4gKS4gV2Ugd2FudCB0byBkZXByZWNhdGUga2V5IHNwcmVhZCxcbiAgICAvLyBidXQgYXMgYW4gaW50ZXJtZWRpYXJ5IHN0ZXAsIHdlIHdpbGwgdXNlIGpzeERFViBmb3IgZXZlcnl0aGluZyBleGNlcHRcbiAgICAvLyA8ZGl2IHsuLi5wcm9wc30ga2V5PVwiSGlcIiAvPiwgYmVjYXVzZSB3ZSBhcmVuJ3QgY3VycmVudGx5IGFibGUgdG8gdGVsbCBpZlxuICAgIC8vIGtleSBpcyBleHBsaWNpdGx5IGRlY2xhcmVkIHRvIGJlIHVuZGVmaW5lZCBvciBub3QuXG5cbiAgICBpZiAobWF5YmVLZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAge1xuICAgICAgICBjaGVja0tleVN0cmluZ0NvZXJjaW9uKG1heWJlS2V5KTtcbiAgICAgIH1cblxuICAgICAga2V5ID0gJycgKyBtYXliZUtleTtcbiAgICB9XG5cbiAgICBpZiAoaGFzVmFsaWRLZXkoY29uZmlnKSkge1xuICAgICAge1xuICAgICAgICBjaGVja0tleVN0cmluZ0NvZXJjaW9uKGNvbmZpZy5rZXkpO1xuICAgICAgfVxuXG4gICAgICBrZXkgPSAnJyArIGNvbmZpZy5rZXk7XG4gICAgfVxuXG4gICAgaWYgKGhhc1ZhbGlkUmVmKGNvbmZpZykpIHtcbiAgICAgIHJlZiA9IGNvbmZpZy5yZWY7XG4gICAgICB3YXJuSWZTdHJpbmdSZWZDYW5ub3RCZUF1dG9Db252ZXJ0ZWQoY29uZmlnLCBzZWxmKTtcbiAgICB9IC8vIFJlbWFpbmluZyBwcm9wZXJ0aWVzIGFyZSBhZGRlZCB0byBhIG5ldyBwcm9wcyBvYmplY3RcblxuXG4gICAgZm9yIChwcm9wTmFtZSBpbiBjb25maWcpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgcHJvcE5hbWUpICYmICFSRVNFUlZFRF9QUk9QUy5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkpIHtcbiAgICAgICAgcHJvcHNbcHJvcE5hbWVdID0gY29uZmlnW3Byb3BOYW1lXTtcbiAgICAgIH1cbiAgICB9IC8vIFJlc29sdmUgZGVmYXVsdCBwcm9wc1xuXG5cbiAgICBpZiAodHlwZSAmJiB0eXBlLmRlZmF1bHRQcm9wcykge1xuICAgICAgdmFyIGRlZmF1bHRQcm9wcyA9IHR5cGUuZGVmYXVsdFByb3BzO1xuXG4gICAgICBmb3IgKHByb3BOYW1lIGluIGRlZmF1bHRQcm9wcykge1xuICAgICAgICBpZiAocHJvcHNbcHJvcE5hbWVdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBwcm9wc1twcm9wTmFtZV0gPSBkZWZhdWx0UHJvcHNbcHJvcE5hbWVdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGtleSB8fCByZWYpIHtcbiAgICAgIHZhciBkaXNwbGF5TmFtZSA9IHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nID8gdHlwZS5kaXNwbGF5TmFtZSB8fCB0eXBlLm5hbWUgfHwgJ1Vua25vd24nIDogdHlwZTtcblxuICAgICAgaWYgKGtleSkge1xuICAgICAgICBkZWZpbmVLZXlQcm9wV2FybmluZ0dldHRlcihwcm9wcywgZGlzcGxheU5hbWUpO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVmKSB7XG4gICAgICAgIGRlZmluZVJlZlByb3BXYXJuaW5nR2V0dGVyKHByb3BzLCBkaXNwbGF5TmFtZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIFJlYWN0RWxlbWVudCh0eXBlLCBrZXksIHJlZiwgc2VsZiwgc291cmNlLCBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50LCBwcm9wcyk7XG4gIH1cbn1cblxudmFyIFJlYWN0Q3VycmVudE93bmVyJDEgPSBSZWFjdFNoYXJlZEludGVybmFscy5SZWFjdEN1cnJlbnRPd25lcjtcbnZhciBSZWFjdERlYnVnQ3VycmVudEZyYW1lJDEgPSBSZWFjdFNoYXJlZEludGVybmFscy5SZWFjdERlYnVnQ3VycmVudEZyYW1lO1xuXG5mdW5jdGlvbiBzZXRDdXJyZW50bHlWYWxpZGF0aW5nRWxlbWVudCQxKGVsZW1lbnQpIHtcbiAge1xuICAgIGlmIChlbGVtZW50KSB7XG4gICAgICB2YXIgb3duZXIgPSBlbGVtZW50Ll9vd25lcjtcbiAgICAgIHZhciBzdGFjayA9IGRlc2NyaWJlVW5rbm93bkVsZW1lbnRUeXBlRnJhbWVJbkRFVihlbGVtZW50LnR5cGUsIGVsZW1lbnQuX3NvdXJjZSwgb3duZXIgPyBvd25lci50eXBlIDogbnVsbCk7XG4gICAgICBSZWFjdERlYnVnQ3VycmVudEZyYW1lJDEuc2V0RXh0cmFTdGFja0ZyYW1lKHN0YWNrKTtcbiAgICB9IGVsc2Uge1xuICAgICAgUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZSQxLnNldEV4dHJhU3RhY2tGcmFtZShudWxsKTtcbiAgICB9XG4gIH1cbn1cblxudmFyIHByb3BUeXBlc01pc3NwZWxsV2FybmluZ1Nob3duO1xuXG57XG4gIHByb3BUeXBlc01pc3NwZWxsV2FybmluZ1Nob3duID0gZmFsc2U7XG59XG4vKipcbiAqIFZlcmlmaWVzIHRoZSBvYmplY3QgaXMgYSBSZWFjdEVsZW1lbnQuXG4gKiBTZWUgaHR0cHM6Ly9yZWFjdGpzLm9yZy9kb2NzL3JlYWN0LWFwaS5odG1sI2lzdmFsaWRlbGVtZW50XG4gKiBAcGFyYW0gez9vYmplY3R9IG9iamVjdFxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBgb2JqZWN0YCBpcyBhIFJlYWN0RWxlbWVudC5cbiAqIEBmaW5hbFxuICovXG5cblxuZnVuY3Rpb24gaXNWYWxpZEVsZW1lbnQob2JqZWN0KSB7XG4gIHtcbiAgICByZXR1cm4gdHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcgJiYgb2JqZWN0ICE9PSBudWxsICYmIG9iamVjdC4kJHR5cGVvZiA9PT0gUkVBQ1RfRUxFTUVOVF9UWVBFO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldERlY2xhcmF0aW9uRXJyb3JBZGRlbmR1bSgpIHtcbiAge1xuICAgIGlmIChSZWFjdEN1cnJlbnRPd25lciQxLmN1cnJlbnQpIHtcbiAgICAgIHZhciBuYW1lID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKFJlYWN0Q3VycmVudE93bmVyJDEuY3VycmVudC50eXBlKTtcblxuICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuICdcXG5cXG5DaGVjayB0aGUgcmVuZGVyIG1ldGhvZCBvZiBgJyArIG5hbWUgKyAnYC4nO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiAnJztcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRTb3VyY2VJbmZvRXJyb3JBZGRlbmR1bShzb3VyY2UpIHtcbiAge1xuICAgIGlmIChzb3VyY2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdmFyIGZpbGVOYW1lID0gc291cmNlLmZpbGVOYW1lLnJlcGxhY2UoL14uKltcXFxcXFwvXS8sICcnKTtcbiAgICAgIHZhciBsaW5lTnVtYmVyID0gc291cmNlLmxpbmVOdW1iZXI7XG4gICAgICByZXR1cm4gJ1xcblxcbkNoZWNrIHlvdXIgY29kZSBhdCAnICsgZmlsZU5hbWUgKyAnOicgKyBsaW5lTnVtYmVyICsgJy4nO1xuICAgIH1cblxuICAgIHJldHVybiAnJztcbiAgfVxufVxuLyoqXG4gKiBXYXJuIGlmIHRoZXJlJ3Mgbm8ga2V5IGV4cGxpY2l0bHkgc2V0IG9uIGR5bmFtaWMgYXJyYXlzIG9mIGNoaWxkcmVuIG9yXG4gKiBvYmplY3Qga2V5cyBhcmUgbm90IHZhbGlkLiBUaGlzIGFsbG93cyB1cyB0byBrZWVwIHRyYWNrIG9mIGNoaWxkcmVuIGJldHdlZW5cbiAqIHVwZGF0ZXMuXG4gKi9cblxuXG52YXIgb3duZXJIYXNLZXlVc2VXYXJuaW5nID0ge307XG5cbmZ1bmN0aW9uIGdldEN1cnJlbnRDb21wb25lbnRFcnJvckluZm8ocGFyZW50VHlwZSkge1xuICB7XG4gICAgdmFyIGluZm8gPSBnZXREZWNsYXJhdGlvbkVycm9yQWRkZW5kdW0oKTtcblxuICAgIGlmICghaW5mbykge1xuICAgICAgdmFyIHBhcmVudE5hbWUgPSB0eXBlb2YgcGFyZW50VHlwZSA9PT0gJ3N0cmluZycgPyBwYXJlbnRUeXBlIDogcGFyZW50VHlwZS5kaXNwbGF5TmFtZSB8fCBwYXJlbnRUeXBlLm5hbWU7XG5cbiAgICAgIGlmIChwYXJlbnROYW1lKSB7XG4gICAgICAgIGluZm8gPSBcIlxcblxcbkNoZWNrIHRoZSB0b3AtbGV2ZWwgcmVuZGVyIGNhbGwgdXNpbmcgPFwiICsgcGFyZW50TmFtZSArIFwiPi5cIjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gaW5mbztcbiAgfVxufVxuLyoqXG4gKiBXYXJuIGlmIHRoZSBlbGVtZW50IGRvZXNuJ3QgaGF2ZSBhbiBleHBsaWNpdCBrZXkgYXNzaWduZWQgdG8gaXQuXG4gKiBUaGlzIGVsZW1lbnQgaXMgaW4gYW4gYXJyYXkuIFRoZSBhcnJheSBjb3VsZCBncm93IGFuZCBzaHJpbmsgb3IgYmVcbiAqIHJlb3JkZXJlZC4gQWxsIGNoaWxkcmVuIHRoYXQgaGF2ZW4ndCBhbHJlYWR5IGJlZW4gdmFsaWRhdGVkIGFyZSByZXF1aXJlZCB0b1xuICogaGF2ZSBhIFwia2V5XCIgcHJvcGVydHkgYXNzaWduZWQgdG8gaXQuIEVycm9yIHN0YXR1c2VzIGFyZSBjYWNoZWQgc28gYSB3YXJuaW5nXG4gKiB3aWxsIG9ubHkgYmUgc2hvd24gb25jZS5cbiAqXG4gKiBAaW50ZXJuYWxcbiAqIEBwYXJhbSB7UmVhY3RFbGVtZW50fSBlbGVtZW50IEVsZW1lbnQgdGhhdCByZXF1aXJlcyBhIGtleS5cbiAqIEBwYXJhbSB7Kn0gcGFyZW50VHlwZSBlbGVtZW50J3MgcGFyZW50J3MgdHlwZS5cbiAqL1xuXG5cbmZ1bmN0aW9uIHZhbGlkYXRlRXhwbGljaXRLZXkoZWxlbWVudCwgcGFyZW50VHlwZSkge1xuICB7XG4gICAgaWYgKCFlbGVtZW50Ll9zdG9yZSB8fCBlbGVtZW50Ll9zdG9yZS52YWxpZGF0ZWQgfHwgZWxlbWVudC5rZXkgIT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGVsZW1lbnQuX3N0b3JlLnZhbGlkYXRlZCA9IHRydWU7XG4gICAgdmFyIGN1cnJlbnRDb21wb25lbnRFcnJvckluZm8gPSBnZXRDdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvKHBhcmVudFR5cGUpO1xuXG4gICAgaWYgKG93bmVySGFzS2V5VXNlV2FybmluZ1tjdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvXSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIG93bmVySGFzS2V5VXNlV2FybmluZ1tjdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvXSA9IHRydWU7IC8vIFVzdWFsbHkgdGhlIGN1cnJlbnQgb3duZXIgaXMgdGhlIG9mZmVuZGVyLCBidXQgaWYgaXQgYWNjZXB0cyBjaGlsZHJlbiBhcyBhXG4gICAgLy8gcHJvcGVydHksIGl0IG1heSBiZSB0aGUgY3JlYXRvciBvZiB0aGUgY2hpbGQgdGhhdCdzIHJlc3BvbnNpYmxlIGZvclxuICAgIC8vIGFzc2lnbmluZyBpdCBhIGtleS5cblxuICAgIHZhciBjaGlsZE93bmVyID0gJyc7XG5cbiAgICBpZiAoZWxlbWVudCAmJiBlbGVtZW50Ll9vd25lciAmJiBlbGVtZW50Ll9vd25lciAhPT0gUmVhY3RDdXJyZW50T3duZXIkMS5jdXJyZW50KSB7XG4gICAgICAvLyBHaXZlIHRoZSBjb21wb25lbnQgdGhhdCBvcmlnaW5hbGx5IGNyZWF0ZWQgdGhpcyBjaGlsZC5cbiAgICAgIGNoaWxkT3duZXIgPSBcIiBJdCB3YXMgcGFzc2VkIGEgY2hpbGQgZnJvbSBcIiArIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZShlbGVtZW50Ll9vd25lci50eXBlKSArIFwiLlwiO1xuICAgIH1cblxuICAgIHNldEN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50JDEoZWxlbWVudCk7XG5cbiAgICBlcnJvcignRWFjaCBjaGlsZCBpbiBhIGxpc3Qgc2hvdWxkIGhhdmUgYSB1bmlxdWUgXCJrZXlcIiBwcm9wLicgKyAnJXMlcyBTZWUgaHR0cHM6Ly9yZWFjdGpzLm9yZy9saW5rL3dhcm5pbmcta2V5cyBmb3IgbW9yZSBpbmZvcm1hdGlvbi4nLCBjdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvLCBjaGlsZE93bmVyKTtcblxuICAgIHNldEN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50JDEobnVsbCk7XG4gIH1cbn1cbi8qKlxuICogRW5zdXJlIHRoYXQgZXZlcnkgZWxlbWVudCBlaXRoZXIgaXMgcGFzc2VkIGluIGEgc3RhdGljIGxvY2F0aW9uLCBpbiBhblxuICogYXJyYXkgd2l0aCBhbiBleHBsaWNpdCBrZXlzIHByb3BlcnR5IGRlZmluZWQsIG9yIGluIGFuIG9iamVjdCBsaXRlcmFsXG4gKiB3aXRoIHZhbGlkIGtleSBwcm9wZXJ0eS5cbiAqXG4gKiBAaW50ZXJuYWxcbiAqIEBwYXJhbSB7UmVhY3ROb2RlfSBub2RlIFN0YXRpY2FsbHkgcGFzc2VkIGNoaWxkIG9mIGFueSB0eXBlLlxuICogQHBhcmFtIHsqfSBwYXJlbnRUeXBlIG5vZGUncyBwYXJlbnQncyB0eXBlLlxuICovXG5cblxuZnVuY3Rpb24gdmFsaWRhdGVDaGlsZEtleXMobm9kZSwgcGFyZW50VHlwZSkge1xuICB7XG4gICAgaWYgKHR5cGVvZiBub2RlICE9PSAnb2JqZWN0Jykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChpc0FycmF5KG5vZGUpKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGNoaWxkID0gbm9kZVtpXTtcblxuICAgICAgICBpZiAoaXNWYWxpZEVsZW1lbnQoY2hpbGQpKSB7XG4gICAgICAgICAgdmFsaWRhdGVFeHBsaWNpdEtleShjaGlsZCwgcGFyZW50VHlwZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGlzVmFsaWRFbGVtZW50KG5vZGUpKSB7XG4gICAgICAvLyBUaGlzIGVsZW1lbnQgd2FzIHBhc3NlZCBpbiBhIHZhbGlkIGxvY2F0aW9uLlxuICAgICAgaWYgKG5vZGUuX3N0b3JlKSB7XG4gICAgICAgIG5vZGUuX3N0b3JlLnZhbGlkYXRlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChub2RlKSB7XG4gICAgICB2YXIgaXRlcmF0b3JGbiA9IGdldEl0ZXJhdG9yRm4obm9kZSk7XG5cbiAgICAgIGlmICh0eXBlb2YgaXRlcmF0b3JGbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBFbnRyeSBpdGVyYXRvcnMgdXNlZCB0byBwcm92aWRlIGltcGxpY2l0IGtleXMsXG4gICAgICAgIC8vIGJ1dCBub3cgd2UgcHJpbnQgYSBzZXBhcmF0ZSB3YXJuaW5nIGZvciB0aGVtIGxhdGVyLlxuICAgICAgICBpZiAoaXRlcmF0b3JGbiAhPT0gbm9kZS5lbnRyaWVzKSB7XG4gICAgICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmF0b3JGbi5jYWxsKG5vZGUpO1xuICAgICAgICAgIHZhciBzdGVwO1xuXG4gICAgICAgICAgd2hpbGUgKCEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuICAgICAgICAgICAgaWYgKGlzVmFsaWRFbGVtZW50KHN0ZXAudmFsdWUpKSB7XG4gICAgICAgICAgICAgIHZhbGlkYXRlRXhwbGljaXRLZXkoc3RlcC52YWx1ZSwgcGFyZW50VHlwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4vKipcbiAqIEdpdmVuIGFuIGVsZW1lbnQsIHZhbGlkYXRlIHRoYXQgaXRzIHByb3BzIGZvbGxvdyB0aGUgcHJvcFR5cGVzIGRlZmluaXRpb24sXG4gKiBwcm92aWRlZCBieSB0aGUgdHlwZS5cbiAqXG4gKiBAcGFyYW0ge1JlYWN0RWxlbWVudH0gZWxlbWVudFxuICovXG5cblxuZnVuY3Rpb24gdmFsaWRhdGVQcm9wVHlwZXMoZWxlbWVudCkge1xuICB7XG4gICAgdmFyIHR5cGUgPSBlbGVtZW50LnR5cGU7XG5cbiAgICBpZiAodHlwZSA9PT0gbnVsbCB8fCB0eXBlID09PSB1bmRlZmluZWQgfHwgdHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHByb3BUeXBlcztcblxuICAgIGlmICh0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcHJvcFR5cGVzID0gdHlwZS5wcm9wVHlwZXM7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdHlwZSA9PT0gJ29iamVjdCcgJiYgKHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0ZPUldBUkRfUkVGX1RZUEUgfHwgLy8gTm90ZTogTWVtbyBvbmx5IGNoZWNrcyBvdXRlciBwcm9wcyBoZXJlLlxuICAgIC8vIElubmVyIHByb3BzIGFyZSBjaGVja2VkIGluIHRoZSByZWNvbmNpbGVyLlxuICAgIHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX01FTU9fVFlQRSkpIHtcbiAgICAgIHByb3BUeXBlcyA9IHR5cGUucHJvcFR5cGVzO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHByb3BUeXBlcykge1xuICAgICAgLy8gSW50ZW50aW9uYWxseSBpbnNpZGUgdG8gYXZvaWQgdHJpZ2dlcmluZyBsYXp5IGluaXRpYWxpemVyczpcbiAgICAgIHZhciBuYW1lID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUpO1xuICAgICAgY2hlY2tQcm9wVHlwZXMocHJvcFR5cGVzLCBlbGVtZW50LnByb3BzLCAncHJvcCcsIG5hbWUsIGVsZW1lbnQpO1xuICAgIH0gZWxzZSBpZiAodHlwZS5Qcm9wVHlwZXMgIT09IHVuZGVmaW5lZCAmJiAhcHJvcFR5cGVzTWlzc3BlbGxXYXJuaW5nU2hvd24pIHtcbiAgICAgIHByb3BUeXBlc01pc3NwZWxsV2FybmluZ1Nob3duID0gdHJ1ZTsgLy8gSW50ZW50aW9uYWxseSBpbnNpZGUgdG8gYXZvaWQgdHJpZ2dlcmluZyBsYXp5IGluaXRpYWxpemVyczpcblxuICAgICAgdmFyIF9uYW1lID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUpO1xuXG4gICAgICBlcnJvcignQ29tcG9uZW50ICVzIGRlY2xhcmVkIGBQcm9wVHlwZXNgIGluc3RlYWQgb2YgYHByb3BUeXBlc2AuIERpZCB5b3UgbWlzc3BlbGwgdGhlIHByb3BlcnR5IGFzc2lnbm1lbnQ/JywgX25hbWUgfHwgJ1Vua25vd24nKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHR5cGUuZ2V0RGVmYXVsdFByb3BzID09PSAnZnVuY3Rpb24nICYmICF0eXBlLmdldERlZmF1bHRQcm9wcy5pc1JlYWN0Q2xhc3NBcHByb3ZlZCkge1xuICAgICAgZXJyb3IoJ2dldERlZmF1bHRQcm9wcyBpcyBvbmx5IHVzZWQgb24gY2xhc3NpYyBSZWFjdC5jcmVhdGVDbGFzcyAnICsgJ2RlZmluaXRpb25zLiBVc2UgYSBzdGF0aWMgcHJvcGVydHkgbmFtZWQgYGRlZmF1bHRQcm9wc2AgaW5zdGVhZC4nKTtcbiAgICB9XG4gIH1cbn1cbi8qKlxuICogR2l2ZW4gYSBmcmFnbWVudCwgdmFsaWRhdGUgdGhhdCBpdCBjYW4gb25seSBiZSBwcm92aWRlZCB3aXRoIGZyYWdtZW50IHByb3BzXG4gKiBAcGFyYW0ge1JlYWN0RWxlbWVudH0gZnJhZ21lbnRcbiAqL1xuXG5cbmZ1bmN0aW9uIHZhbGlkYXRlRnJhZ21lbnRQcm9wcyhmcmFnbWVudCkge1xuICB7XG4gICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhmcmFnbWVudC5wcm9wcyk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuXG4gICAgICBpZiAoa2V5ICE9PSAnY2hpbGRyZW4nICYmIGtleSAhPT0gJ2tleScpIHtcbiAgICAgICAgc2V0Q3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQkMShmcmFnbWVudCk7XG5cbiAgICAgICAgZXJyb3IoJ0ludmFsaWQgcHJvcCBgJXNgIHN1cHBsaWVkIHRvIGBSZWFjdC5GcmFnbWVudGAuICcgKyAnUmVhY3QuRnJhZ21lbnQgY2FuIG9ubHkgaGF2ZSBga2V5YCBhbmQgYGNoaWxkcmVuYCBwcm9wcy4nLCBrZXkpO1xuXG4gICAgICAgIHNldEN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50JDEobnVsbCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChmcmFnbWVudC5yZWYgIT09IG51bGwpIHtcbiAgICAgIHNldEN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50JDEoZnJhZ21lbnQpO1xuXG4gICAgICBlcnJvcignSW52YWxpZCBhdHRyaWJ1dGUgYHJlZmAgc3VwcGxpZWQgdG8gYFJlYWN0LkZyYWdtZW50YC4nKTtcblxuICAgICAgc2V0Q3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQkMShudWxsKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24ganN4V2l0aFZhbGlkYXRpb24odHlwZSwgcHJvcHMsIGtleSwgaXNTdGF0aWNDaGlsZHJlbiwgc291cmNlLCBzZWxmKSB7XG4gIHtcbiAgICB2YXIgdmFsaWRUeXBlID0gaXNWYWxpZEVsZW1lbnRUeXBlKHR5cGUpOyAvLyBXZSB3YXJuIGluIHRoaXMgY2FzZSBidXQgZG9uJ3QgdGhyb3cuIFdlIGV4cGVjdCB0aGUgZWxlbWVudCBjcmVhdGlvbiB0b1xuICAgIC8vIHN1Y2NlZWQgYW5kIHRoZXJlIHdpbGwgbGlrZWx5IGJlIGVycm9ycyBpbiByZW5kZXIuXG5cbiAgICBpZiAoIXZhbGlkVHlwZSkge1xuICAgICAgdmFyIGluZm8gPSAnJztcblxuICAgICAgaWYgKHR5cGUgPT09IHVuZGVmaW5lZCB8fCB0eXBlb2YgdHlwZSA9PT0gJ29iamVjdCcgJiYgdHlwZSAhPT0gbnVsbCAmJiBPYmplY3Qua2V5cyh0eXBlKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgaW5mbyArPSAnIFlvdSBsaWtlbHkgZm9yZ290IHRvIGV4cG9ydCB5b3VyIGNvbXBvbmVudCBmcm9tIHRoZSBmaWxlICcgKyBcIml0J3MgZGVmaW5lZCBpbiwgb3IgeW91IG1pZ2h0IGhhdmUgbWl4ZWQgdXAgZGVmYXVsdCBhbmQgbmFtZWQgaW1wb3J0cy5cIjtcbiAgICAgIH1cblxuICAgICAgdmFyIHNvdXJjZUluZm8gPSBnZXRTb3VyY2VJbmZvRXJyb3JBZGRlbmR1bShzb3VyY2UpO1xuXG4gICAgICBpZiAoc291cmNlSW5mbykge1xuICAgICAgICBpbmZvICs9IHNvdXJjZUluZm87XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbmZvICs9IGdldERlY2xhcmF0aW9uRXJyb3JBZGRlbmR1bSgpO1xuICAgICAgfVxuXG4gICAgICB2YXIgdHlwZVN0cmluZztcblxuICAgICAgaWYgKHR5cGUgPT09IG51bGwpIHtcbiAgICAgICAgdHlwZVN0cmluZyA9ICdudWxsJztcbiAgICAgIH0gZWxzZSBpZiAoaXNBcnJheSh0eXBlKSkge1xuICAgICAgICB0eXBlU3RyaW5nID0gJ2FycmF5JztcbiAgICAgIH0gZWxzZSBpZiAodHlwZSAhPT0gdW5kZWZpbmVkICYmIHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0VMRU1FTlRfVFlQRSkge1xuICAgICAgICB0eXBlU3RyaW5nID0gXCI8XCIgKyAoZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUudHlwZSkgfHwgJ1Vua25vd24nKSArIFwiIC8+XCI7XG4gICAgICAgIGluZm8gPSAnIERpZCB5b3UgYWNjaWRlbnRhbGx5IGV4cG9ydCBhIEpTWCBsaXRlcmFsIGluc3RlYWQgb2YgYSBjb21wb25lbnQ/JztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHR5cGVTdHJpbmcgPSB0eXBlb2YgdHlwZTtcbiAgICAgIH1cblxuICAgICAgZXJyb3IoJ1JlYWN0LmpzeDogdHlwZSBpcyBpbnZhbGlkIC0tIGV4cGVjdGVkIGEgc3RyaW5nIChmb3IgJyArICdidWlsdC1pbiBjb21wb25lbnRzKSBvciBhIGNsYXNzL2Z1bmN0aW9uIChmb3IgY29tcG9zaXRlICcgKyAnY29tcG9uZW50cykgYnV0IGdvdDogJXMuJXMnLCB0eXBlU3RyaW5nLCBpbmZvKTtcbiAgICB9XG5cbiAgICB2YXIgZWxlbWVudCA9IGpzeERFVih0eXBlLCBwcm9wcywga2V5LCBzb3VyY2UsIHNlbGYpOyAvLyBUaGUgcmVzdWx0IGNhbiBiZSBudWxsaXNoIGlmIGEgbW9jayBvciBhIGN1c3RvbSBmdW5jdGlvbiBpcyB1c2VkLlxuICAgIC8vIFRPRE86IERyb3AgdGhpcyB3aGVuIHRoZXNlIGFyZSBubyBsb25nZXIgYWxsb3dlZCBhcyB0aGUgdHlwZSBhcmd1bWVudC5cblxuICAgIGlmIChlbGVtZW50ID09IG51bGwpIHtcbiAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH0gLy8gU2tpcCBrZXkgd2FybmluZyBpZiB0aGUgdHlwZSBpc24ndCB2YWxpZCBzaW5jZSBvdXIga2V5IHZhbGlkYXRpb24gbG9naWNcbiAgICAvLyBkb2Vzbid0IGV4cGVjdCBhIG5vbi1zdHJpbmcvZnVuY3Rpb24gdHlwZSBhbmQgY2FuIHRocm93IGNvbmZ1c2luZyBlcnJvcnMuXG4gICAgLy8gV2UgZG9uJ3Qgd2FudCBleGNlcHRpb24gYmVoYXZpb3IgdG8gZGlmZmVyIGJldHdlZW4gZGV2IGFuZCBwcm9kLlxuICAgIC8vIChSZW5kZXJpbmcgd2lsbCB0aHJvdyB3aXRoIGEgaGVscGZ1bCBtZXNzYWdlIGFuZCBhcyBzb29uIGFzIHRoZSB0eXBlIGlzXG4gICAgLy8gZml4ZWQsIHRoZSBrZXkgd2FybmluZ3Mgd2lsbCBhcHBlYXIuKVxuXG5cbiAgICBpZiAodmFsaWRUeXBlKSB7XG4gICAgICB2YXIgY2hpbGRyZW4gPSBwcm9wcy5jaGlsZHJlbjtcblxuICAgICAgaWYgKGNoaWxkcmVuICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKGlzU3RhdGljQ2hpbGRyZW4pIHtcbiAgICAgICAgICBpZiAoaXNBcnJheShjaGlsZHJlbikpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgdmFsaWRhdGVDaGlsZEtleXMoY2hpbGRyZW5baV0sIHR5cGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoT2JqZWN0LmZyZWV6ZSkge1xuICAgICAgICAgICAgICBPYmplY3QuZnJlZXplKGNoaWxkcmVuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZXJyb3IoJ1JlYWN0LmpzeDogU3RhdGljIGNoaWxkcmVuIHNob3VsZCBhbHdheXMgYmUgYW4gYXJyYXkuICcgKyAnWW91IGFyZSBsaWtlbHkgZXhwbGljaXRseSBjYWxsaW5nIFJlYWN0LmpzeHMgb3IgUmVhY3QuanN4REVWLiAnICsgJ1VzZSB0aGUgQmFiZWwgdHJhbnNmb3JtIGluc3RlYWQuJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhbGlkYXRlQ2hpbGRLZXlzKGNoaWxkcmVuLCB0eXBlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0eXBlID09PSBSRUFDVF9GUkFHTUVOVF9UWVBFKSB7XG4gICAgICB2YWxpZGF0ZUZyYWdtZW50UHJvcHMoZWxlbWVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbGlkYXRlUHJvcFR5cGVzKGVsZW1lbnQpO1xuICAgIH1cblxuICAgIHJldHVybiBlbGVtZW50O1xuICB9XG59IC8vIFRoZXNlIHR3byBmdW5jdGlvbnMgZXhpc3QgdG8gc3RpbGwgZ2V0IGNoaWxkIHdhcm5pbmdzIGluIGRldlxuXG52YXIganN4REVWJDEgPSAganN4V2l0aFZhbGlkYXRpb24gO1xuXG5leHBvcnRzLkZyYWdtZW50ID0gUkVBQ1RfRlJBR01FTlRfVFlQRTtcbmV4cG9ydHMuanN4REVWID0ganN4REVWJDE7XG4gIH0pKCk7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/react/cjs/react-jsx-dev-runtime.development.js\n");

/***/ }),

/***/ "./node_modules/react/jsx-dev-runtime.js":
/*!***********************************************!*\
  !*** ./node_modules/react/jsx-dev-runtime.js ***!
  \***********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nif (false) {} else {\n  module.exports = __webpack_require__(/*! ./cjs/react-jsx-dev-runtime.development.js */ \"./node_modules/react/cjs/react-jsx-dev-runtime.development.js\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QvanN4LWRldi1ydW50aW1lLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLElBQUksS0FBcUMsRUFBRSxFQUUxQyxDQUFDO0FBQ0YsRUFBRSx1SkFBc0U7QUFDeEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaGVzcy8uL25vZGVfbW9kdWxlcy9yZWFjdC9qc3gtZGV2LXJ1bnRpbWUuanM/NTc3NyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtanN4LWRldi1ydW50aW1lLnByb2R1Y3Rpb24ubWluLmpzJyk7XG59IGVsc2Uge1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY2pzL3JlYWN0LWpzeC1kZXYtcnVudGltZS5kZXZlbG9wbWVudC5qcycpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/react/jsx-dev-runtime.js\n");

/***/ }),

/***/ "chess.js":
/*!***************************!*\
  !*** external "chess.js" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("chess.js");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/***/ ((module) => {

module.exports = require("react");

/***/ }),

/***/ "styled-jsx/style":
/*!***********************************!*\
  !*** external "styled-jsx/style" ***!
  \***********************************/
/***/ ((module) => {

module.exports = require("styled-jsx/style");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("./src/pages/index.tsx"));
module.exports = __webpack_exports__;

})();